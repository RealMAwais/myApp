"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[179],{375:(zr,Ln,Ue)=>{function C(n){return"function"==typeof n}function Me(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const z=Me(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ne(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class at{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(s){t=s instanceof z?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Dn(s)}catch(o){t=t??[],o instanceof z?t=[...t,...o.errors]:t.push(o)}}if(t)throw new z(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Dn(t);else{if(t instanceof at){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ne(e,t)}remove(t){const{_finalizers:e}=this;e&&Ne(e,t),t instanceof at&&t._removeParent(this)}}at.EMPTY=(()=>{const n=new at;return n.closed=!0,n})();const Ut=at.EMPTY;function tn(n){return n instanceof at||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function Dn(n){C(n)?n():n.unsubscribe()}const nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout(n,t,...e){const{delegate:i}=Q;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Q;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){Q.setTimeout(()=>{const{onUnhandledError:t}=nt;if(!t)throw n;t(n)})}function ve(){}const et=bt("C",void 0,void 0);function bt(n,t,e){return{kind:n,value:t,error:e}}let Ve=null;function Ke(n){if(nt.useDeprecatedSynchronousErrorHandling){const t=!Ve;if(t&&(Ve={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Ve;if(Ve=null,e)throw i}}else n()}class Bn extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,tn(t)&&t.add(this)):this.destination=Qt}static create(t,e,i){return new pi(t,e,i)}next(t){this.isStopped?K(function Vn(n){return bt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?K(function yt(n){return bt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?K(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Bt=Function.prototype.bind;function Ct(n,t){return Bt.call(n,t)}class Mt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ze(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ze(i)}else Ze(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ze(e)}}}class pi extends Bn{constructor(t,e,i){let r;if(super(),C(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&nt.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ct(t.next,s),error:t.error&&Ct(t.error,s),complete:t.complete&&Ct(t.complete,s)}):r=t}this.destination=new Mt(r)}}function Ze(n){nt.useDeprecatedSynchronousErrorHandling?function Un(n){nt.useDeprecatedSynchronousErrorHandling&&Ve&&(Ve.errorThrown=!0,Ve.error=n)}(n):se(n)}function K(n,t){const{onStoppedNotification:e}=nt;e&&Q.setTimeout(()=>e(n,t))}const Qt={closed:!0,next:ve,error:function Sn(n){throw n},complete:ve},jt="function"==typeof Symbol&&Symbol.observable||"@@observable";function hn(n){return n}function Sr(n){return 0===n.length?hn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ze=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function U(n){return n&&n instanceof Bn||function Wr(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&tn(n)}(e)?e:new pi(e,i,r);return Ke(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=fs(i))((r,s)=>{const o=new pi({next:a=>{try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[jt](){return this}pipe(...e){return Sr(e)(this)}toPromise(e){return new(e=fs(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function fs(n){var t;return null!==(t=n??nt.Promise)&&void 0!==t?t:Promise}const H=Me(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V=(()=>{class n extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new q(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new H}next(e){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ke(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ut:(this.currentObservers=null,s.push(e),new at(()=>{this.currentObservers=null,Ne(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ze;return e.source=this,e}}return n.create=(t,e)=>new q(t,e),n})();class q extends V{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ut}}function X(n){return C(n?.lift)}function j(n){return t=>{if(X(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,t,e,i,r){return new ht(n,t,e,i,r)}class ht extends Bn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function he(n,t){return j((e,i)=>{let r=0;e.subscribe(ue(i,s=>{i.next(n.call(t,s,r++))}))})}var Ee=Ue(582);const gt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xt(n){return C(n?.then)}function kt(n){return C(n[jt])}function jn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function _n(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ri=function ii(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pi(n){return C(n?.[ri])}function Zo(n){return(0,Ee.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ee.qq)(e.read());if(r)return yield(0,Ee.qq)(void 0);yield yield(0,Ee.qq)(i)}}finally{e.releaseLock()}})}function Gr(n){return C(n?.getReader)}function nn(n){if(n instanceof ze)return n;if(null!=n){if(kt(n))return function Yo(n){return new ze(t=>{const e=n[jt]();if(C(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gt(n))return function Ya(n){return new ze(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Xt(n))return function rr(n){return new ze(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,se)})}(n);if(jn(n))return si(n);if(Pi(n))return function Qa(n){return new ze(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Gr(n))return function qr(n){return si(Zo(n))}(n)}throw _n(n)}function si(n){return new ze(t=>{(function ps(n,t){var e,i,r,s;return(0,Ee.mG)(this,void 0,void 0,function*(){try{for(e=(0,Ee.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Qn(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Rt(n,t,e=1/0){return C(t)?Rt((i,r)=>he((s,o)=>t(i,s,r,o))(nn(n(i,r))),e):("number"==typeof t&&(e=t),j((i,r)=>function eo(n,t,e,i,r,s,o,a){const c=[];let d=0,p=0,g=!1;const _=()=>{g&&!c.length&&!d&&t.complete()},v=I=>d<i?b(I):c.push(I),b=I=>{s&&t.next(I),d++;let k=!1;nn(e(I,p++)).subscribe(ue(t,B=>{r?.(B),s?v(B):t.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;c.length&&d<i;){const B=c.shift();o?Qn(t,o,()=>b(B)):b(B)}_()}catch(B){t.error(B)}}))};return n.subscribe(ue(t,v,()=>{g=!0,_()})),()=>{a?.()}}(i,r,n,e)))}function Ki(n=1/0){return Rt(hn,n)}const yn=new ze(n=>n.complete());function gi(n){return n&&C(n.schedule)}function Kr(n){return n[n.length-1]}function gs(n){return C(Kr(n))?n.pop():void 0}function ms(n){return gi(Kr(n))?n.pop():void 0}function Xn(n,t=0){return j((e,i)=>{e.subscribe(ue(i,r=>Qn(i,n,()=>i.next(r),t),()=>Qn(i,n,()=>i.complete(),t),r=>Qn(i,n,()=>i.error(r),t)))})}function mi(n,t=0){return j((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ea(n,t){if(!n)throw new Error("Iterable cannot be null");return new ze(e=>{Qn(e,t,()=>{const i=n[Symbol.asyncIterator]();Qn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function M(n,t){return t?function D(n,t){if(null!=n){if(kt(n))return function _s(n,t){return nn(n).pipe(mi(t),Xn(t))}(n,t);if(gt(n))return function Cc(n,t){return new ze(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Xt(n))return function Jo(n,t){return nn(n).pipe(mi(t),Xn(t))}(n,t);if(jn(n))return ea(n,t);if(Pi(n))return function Xa(n,t){return new ze(e=>{let i;return Qn(e,t,()=>{i=n[ri](),Qn(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,t);if(Gr(n))return function T(n,t){return ea(Zo(n),t)}(n,t)}throw _n(n)}(n,t):nn(n)}function G(...n){const t=ms(n),e=function Xo(n,t){return"number"==typeof Kr(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?nn(i[0]):Ki(e)(M(i,t)):yn}function N(n={}){const{connector:t=(()=>new V),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,c,d=0,p=!1,g=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),o=c=void 0,p=g=!1},b=()=>{const I=o;v(),I?.unsubscribe()};return j((I,k)=>{d++,!g&&!p&&_();const B=c=c??t();k.add(()=>{d--,0===d&&!g&&!p&&(a=fe(b,r))}),B.subscribe(k),!o&&d>0&&(o=new pi({next:Y=>B.next(Y),error:Y=>{g=!0,_(),a=fe(v,e,Y),B.error(Y)},complete:()=>{p=!0,_(),a=fe(v,i),B.complete()}}),nn(I).subscribe(o))})(s)}}function fe(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new pi({next:()=>{i.unsubscribe(),n()}});return nn(t(...e)).subscribe(i)}function pe(n){for(let t in n)if(n[t]===pe)return t;throw Error("Could not find renamed property on target object.")}function Ye(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ht(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const In=pe({__forward_ref__:pe});function Ce(n){return n.__forward_ref__=Ce,n.toString=function(){return Xe(this())},n}function we(n){return sr(n)?n():n}function sr(n){return"function"==typeof n&&n.hasOwnProperty(In)&&n.__forward_ref__===Ce}function Ir(n){return n&&!!n.\u0275providers}const $="https://g.co/ng/security#xss";class w extends Error{constructor(t,e){super(J(t,e)),this.code=t}}function J(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function Ot(n,t){throw new w(-201,!1)}function Zi(n,t){null==n&&function St(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ae(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function ta(n){return Ec(n,Sc)||Ec(n,Pd)}function Ec(n,t){return n.hasOwnProperty(t)?n[t]:null}function Dc(n){return n&&(n.hasOwnProperty(Md)||n.hasOwnProperty(Lp))?n[Md]:null}const Sc=pe({\u0275prov:pe}),Md=pe({\u0275inj:pe}),Pd=pe({ngInjectableDef:pe}),Lp=pe({ngInjectorDef:pe});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Ic;function Hn(n){const t=Ic;return Ic=n,t}function kd(n,t,e){const i=ta(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Re.Optional?null:void 0!==t?t:void Ot(Xe(n))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tl={},nl="__NG_DI_FLAG__",Tc="ngTempTokenPath",Rd="ngTokenPath",Ac=/\n/gm,Od="\u0275",jp="__source";let to;function na(n){const t=to;return to=n,t}function xd(n,t=Re.Default){if(void 0===to)throw new w(-203,!1);return null===to?kd(n,void 0,t):to.get(n,t&Re.Optional?null:void 0,t)}function R(n,t=Re.Default){return(function fv(){return Ic}()||xd)(we(n),t)}function Qe(n,t=Re.Default){return R(n,ia(t))}function ia(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nd(n){const t=[];for(let e=0;e<n.length;e++){const i=we(n[e]);if(Array.isArray(i)){if(0===i.length)throw new w(900,!1);let r,s=Re.Default;for(let o=0;o<i.length;o++){const a=i[o],c=pv(a);"number"==typeof c?-1===c?r=a.token:s|=c:r=a}t.push(R(r,s))}else t.push(R(i))}return t}function no(n,t){return n[nl]=t,n.prototype[nl]=t,n}function pv(n){return n[nl]}function $n(n){return{toString:n}.toString()}var Yi=(()=>((Yi=Yi||{})[Yi.OnPush=0]="OnPush",Yi[Yi.Default=1]="Default",Yi))(),or=(()=>{return(n=or||(or={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",or;var n})();const Tn={},Et=[],ra=pe({\u0275cmp:pe}),Ld=pe({\u0275dir:pe}),rl=pe({\u0275pipe:pe}),Hp=pe({\u0275mod:pe}),ar=pe({\u0275fac:pe}),sl=pe({__NG_ELEMENT_ID__:pe});let gv=0;function Nt(n){return $n(()=>{const t=ro(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,id:"c"+gv++,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null};$p(e);const i=n.dependencies;return e.directiveDefs=so(i,!1),e.pipeDefs=so(i,!0),e})}function mv(n){return ft(n)||zn(n)}function _v(n){return null!==n}function tt(n){return $n(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Pc(n,t){if(null==n)return Tn;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function be(n){return $n(()=>{const t=ro(n);return $p(t),t})}function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ft(n){return n[ra]||null}function zn(n){return n[Ld]||null}function oi(n){return n[rl]||null}function Ri(n,t){const e=n[Hp]||null;if(!e&&!0===t)throw new Error(`Type ${Xe(n)} does not have '\u0275mod' property.`);return e}function ro(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pc(n.inputs,t),outputs:Pc(n.outputs)}}function $p(n){n.features?.forEach(t=>t(n))}function so(n,t){if(!n)return null;const e=t?oi:mv;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(_v)}const Ar=0,ye=1,Be=2,mt=3,Qi=4,oo=5,An=6,Zr=7,rn=8,ol=9,kc=10,He=11,al=12,ao=13,ll=14,vs=15,Wn=16,lo=17,co=18,Xi=19,bs=20,Rc=21,Pt=22,Oc=1,xc=2,Nc=7,sa=8,oa=9,Gn=10;function ai(n){return Array.isArray(n)&&"object"==typeof n[Oc]}function Oi(n){return Array.isArray(n)&&!0===n[Oc]}function aa(n){return 0!=(4&n.flags)}function uo(n){return n.componentOffset>-1}function la(n){return 1==(1&n.flags)}function lr(n){return!!n.template}function Vd(n){return 0!=(256&n[Be])}function ho(n,t){return n.hasOwnProperty(ar)?n[ar]:null}class Bd{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function _i(){return Vc}function Vc(n){return n.type.prototype.ngOnChanges&&(n.setInput=jd),bv}function bv(){const n=Uc(this),t=n?.current;if(t){const e=n.previous;if(e===Tn)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function jd(n,t,e,i){const r=this.declaredInputs[e],s=Uc(n)||function Cv(n,t){return n[Jp]=t}(n,{previous:Tn,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[r];o[r]=new Bd(c&&c.currentValue,t,a===Tn),n[i]=t}_i.ngInherit=!0;const Jp="__ngSimpleChanges__";function Uc(n){return n[Jp]||null}const yi=function(n,t,e){},tg="svg";function Mn(n){for(;Array.isArray(n);)n=n[Ar];return n}function Bc(n,t){return Mn(t[n])}function xi(n,t){return Mn(t[n.index])}function ng(n,t){return n.data[t]}function cl(n,t){return n[t]}function Ni(n,t){const e=t[n];return ai(e)?e:e[Ar]}function ca(n){return 64==(64&n[Be])}function Cs(n,t){return null==t?null:n[t]}function Sv(n){n[co]=0}function ig(n,t){n[oo]+=t;let e=n,i=n[mt];for(;null!==i&&(1===t&&1===e[oo]||-1===t&&0===e[oo]);)i[oo]+=t,e=i,i=i[mt]}const je={lFrame:Zd(null),bindingsEnabled:!0};function jc(){return je.bindingsEnabled}function ne(){return je.lFrame.lView}function _t(){return je.lFrame.tView}function Jt(n){return je.lFrame.contextLView=n,n[rn]}function en(n){return je.lFrame.contextLView=null,n}function bn(){let n=Hc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Hc(){return je.lFrame.currentTNode}function Fi(n,t){const e=je.lFrame;e.currentTNode=n,e.isParent=t}function $c(){return je.lFrame.isParent}function zd(){je.lFrame.isParent=!1}function Pn(){const n=je.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ua(){return je.lFrame.bindingIndex++}function Qr(n){const t=je.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function fn(n,t){const e=je.lFrame;e.bindingIndex=e.bindingRootIndex=n,hl(t)}function hl(n){je.lFrame.currentDirectiveIndex=n}function Wd(n){const t=je.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function zc(){return je.lFrame.currentQueryIndex}function Gd(n){je.lFrame.currentQueryIndex=n}function Rv(n){const t=n[ye];return 2===t.type?t.declTNode:1===t.type?n[An]:null}function qd(n,t,e){if(e&Re.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Re.Host||(r=Rv(s),null===r||(s=s[vs],10&r.type))););if(null===r)return!1;t=r,n=s}const i=je.lFrame=fl();return i.currentTNode=t,i.lView=n,!0}function Kd(n){const t=fl(),e=n[ye];je.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function fl(){const n=je.lFrame,t=null===n?null:n.child;return null===t?Zd(n):t}function Zd(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function da(){const n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pl=da;function Yd(){const n=da();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qn(){return je.lFrame.selectedIndex}function go(n){je.lFrame.selectedIndex=n}function Ft(){const n=je.lFrame;return ng(n.tView,n.selectedIndex)}function gl(){je.lFrame.currentNamespace=tg}function Wc(){!function rS(){je.lFrame.currentNamespace=null}()}function Gc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks??(n.contentHooks=[])).push(e,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks??(n.viewHooks=[])).push(-e,c),d&&((n.viewHooks??(n.viewHooks=[])).push(e,d),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(e,d)),null!=p&&(n.destroyHooks??(n.destroyHooks=[])).push(e,p)}}function qc(n,t,e){ml(n,t,3,e)}function Kc(n,t,e,i){(3&n[Be])===e&&ml(n,t,e,i)}function Xd(n,t){let e=n[Be];(3&e)===t&&(e&=2047,e+=1,n[Be]=e)}function ml(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let c=void 0!==i?65535&n[co]:0;c<o;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[co]+=65536),(a<s||-1==s)&&(Nv(n,e,t,c),n[co]=(4294901760&n[co])+c+2),c++}function Nv(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[Be]>>11<n[co]>>16&&(3&n[Be])===t){n[Be]+=2048,yi(4,a,s);try{s.call(a)}finally{yi(5,a,s)}}}else{yi(4,a,s);try{s.call(a)}finally{yi(5,a,s)}}}const fa=-1;class _l{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function th(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];ag(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Zc(n){return 3===n||4===n||6===n}function ag(n){return 64===n.charCodeAt(0)}function mo(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||lg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function lg(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Yc(n){return n!==fa}function Qc(n){return 32767&n}function _o(n,t){let e=function nh(n){return n>>16}(n),i=t;for(;e>0;)i=i[vs],e--;return i}let yl=!0;function Xc(n){const t=yl;return yl=n,t}const pa=255,Es=5;let ih=0;const Mr={};function Jc(n,t){const e=rh(n,t);if(-1!==e)return e;const i=t[ye];i.firstCreatePass&&(n.injectorIndex=t.length,vl(i.data,n),vl(t,null),vl(i.blueprint,null));const r=sh(n,t),s=n.injectorIndex;if(Yc(r)){const o=Qc(r),a=_o(r,t),c=a[ye].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|c[o+d]}return t[s+8]=r,s}function vl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function rh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function sh(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=uh(r),null===i)return fa;if(e++,r=r[vs],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return fa}function oh(n,t,e){!function Lv(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(sl)&&(i=e[sl]),null==i&&(i=e[sl]=ih++);const r=i&pa;t.data[n+(r>>Es)]|=1<<r}(n,t,e)}function ug(n,t,e){if(e&Re.Optional||void 0!==n)return n;Ot()}function eu(n,t,e,i){if(e&Re.Optional&&void 0===i&&(i=null),!(e&(Re.Self|Re.Host))){const r=n[ol],s=Hn(void 0);try{return r?r.get(t,i,e&Re.Optional):kd(t,i,e&Re.Optional)}finally{Hn(s)}}return ug(i,0,e)}function dg(n,t,e,i=Re.Default,r){if(null!==n){if(1024&t[Be]){const o=function fg(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[Be]&&!(256&o[Be]);){const a=tu(s,o,e,i|Re.Self,Mr);if(a!==Mr)return a;let c=s.parent;if(!c){const d=o[Rc];if(d){const p=d.get(e,Mr,i);if(p!==Mr)return p}c=uh(o),o=o[vs]}s=c}return r}(n,t,e,i,Mr);if(o!==Mr)return o}const s=tu(n,t,e,i,Mr);if(s!==Mr)return s}return eu(t,e,i,r)}function tu(n,t,e,i,r){const s=function Vv(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(sl)?n[sl]:void 0;return"number"==typeof t?t>=0?t&pa:ch:t}(e);if("function"==typeof s){if(!qd(t,n,i))return i&Re.Host?ug(r,0,i):eu(t,e,i,r);try{const o=s(i);if(null!=o||i&Re.Optional)return o;Ot()}finally{pl()}}else if("number"==typeof s){let o=null,a=rh(n,t),c=fa,d=i&Re.Host?t[Wn][An]:null;for((-1===a||i&Re.SkipSelf)&&(c=-1===a?sh(n,t):t[a+8],c!==fa&&iu(i,!1)?(o=t[ye],a=Qc(c),t=_o(c,t)):a=-1);-1!==a;){const p=t[ye];if(hg(s,a,p.data)){const g=lh(a,t,e,o,i,d);if(g!==Mr)return g}c=t[a+8],c!==fa&&iu(i,t[ye].data[a+8]===d)&&hg(s,a,t)?(o=p,a=Qc(c),t=_o(c,t)):a=-1}}return r}function lh(n,t,e,i,r,s){const o=t[ye],a=o.data[n+8],p=nu(a,o,e,null==i?uo(a)&&yl:i!=o&&0!=(3&a.type),r&Re.Host&&s===a);return null!==p?cr(t,o,p,a):Mr}function nu(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,c=n.directiveStart,p=s>>20,_=r?a+p:n.directiveEnd;for(let v=i?a:a+p;v<_;v++){const b=o[v];if(v<c&&e===b||v>=c&&b.type===e)return v}if(r){const v=o[c];if(v&&lr(v)&&v.type===e)return c}return null}function cr(n,t,e,i){let r=n[e];const s=t.data;if(function Jd(n){return n instanceof _l}(r)){const o=r;o.resolving&&function lt(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new w(-200,`Circular dependency in DI detected for ${n}${e}`)}(function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}(s[e]));const a=Xc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Hn(o.injectImpl):null;qd(n,i,Re.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function xv(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Vc(t);(e.preOrderHooks??(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==c&&Hn(c),Xc(a),o.resolving=!1,pl()}}return r}function hg(n,t,e){return!!(e[t+(n>>Es)]&1<<n)}function iu(n,t){return!(n&Re.Self||n&Re.Host&&t)}class Ds{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return dg(this._tNode,this._lView,t,ia(i),e)}}function ch(){return new Ds(bn(),ne())}function kn(n){return $n(()=>{const t=n.prototype.constructor,e=t[ar]||bl(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ar]||bl(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function bl(n){return sr(n)?()=>{const t=bl(we(n));return t&&t()}:ho(n)}function uh(n){const t=n[ye],e=t.type;return 2===e?t.declTNode:1===e?n[An]:null}const Ss="__parameters__";function _a(n,t,e){return $n(()=>{const i=function Cl(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(c,d,p){const g=c.hasOwnProperty(Ss)?c[Ss]:Object.defineProperty(c,Ss,{value:[]})[Ss];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class oe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ae({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xr(n,t){n.forEach(e=>Array.isArray(e)?Xr(e,t):t(e))}function yg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function su(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function va(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Li(n,t,e){let i=ba(n,t);return i>=0?n[1|i]=e:(i=~i,function zv(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ph(n,t){const e=ba(n,t);if(e>=0)return n[1|e]}function ba(n,t){return function vg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const ou=no(_a("Inject",n=>({token:n})),-1),yo=no(_a("Optional"),8),Sl=no(_a("SkipSelf"),4);var vi=(()=>((vi=vi||{})[vi.Important=1]="Important",vi[vi.DashCase=2]="DashCase",vi))();const Il=new Map;let wh=0;const Eh="__ngContext__";function Jn(n,t){ai(t)?(n[Eh]=t[bs],function ob(n){Il.set(n[bs],n)}(t)):n[Eh]=t}let pu;function Th(n,t){return pu(n,t)}function Ml(n){const t=n[mt];return Oi(t)?t[mt]:t}function gu(n){return mu(n[ao])}function Mh(n){return mu(n[Qi])}function mu(n){for(;null!==n&&!Oi(n);)n=n[Qi];return n}function Is(n,t,e,i,r){if(null!=i){let s,o=!1;Oi(i)?s=i:ai(i)&&(o=!0,i=i[Ar]);const a=Mn(i);0===n&&null!==e?null==r?Gg(t,e,a):Jr(t,e,a,r||null,!0):1===n&&null!==e?Jr(t,e,a,r||null,!0):2===n?function me(n,t,e){const i=h(n,t);i&&function gb(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function xh(n,t,e,i,r){const s=e[Nc];s!==Mn(e)&&Is(t,n,i,s,r);for(let a=Gn;a<e.length;a++){const c=e[a];li(c[ye],c,n,t,i,s)}}(t,n,s,e,r)}}function Pr(n,t,e){return n.createElement(t,e)}function _u(n,t){const e=n[oa],i=e.indexOf(t),r=t[mt];512&t[Be]&&(t[Be]&=-513,ig(r,-1)),e.splice(i,1)}function kl(n,t){if(n.length<=Gn)return;const e=Gn+t,i=n[e];if(i){const r=i[lo];null!==r&&r!==n&&_u(r,i),t>0&&(n[e-1][Qi]=i[Qi]);const s=su(n,Gn+t);!function jg(n,t){li(n,t,t[He],2,null,null),t[Ar]=null,t[An]=null}(i[ye],i);const o=s[Xi];null!==o&&o.detachView(s[ye]),i[mt]=null,i[Qi]=null,i[Be]&=-65}return i}function $g(n,t){if(!(128&t[Be])){const e=t[He];e.destroyNode&&li(n,t,e,3,null,null),function pb(n){let t=n[ao];if(!t)return ur(n[ye],n);for(;t;){let e=null;if(ai(t))e=t[ao];else{const i=t[Gn];i&&(e=i)}if(!e){for(;t&&!t[Qi]&&t!==n;)ai(t)&&ur(t[ye],t),t=t[mt];null===t&&(t=n),ai(t)&&ur(t[ye],t),e=t&&t[Qi]}t=e}}(t)}}function ur(n,t){if(!(128&t[Be])){t[Be]&=-65,t[Be]|=128,function zg(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof _l)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],c=s[o+1];yi(4,a,c);try{c.call(a)}finally{yi(5,a,c)}}else{yi(4,r,s);try{s.call(r)}finally{yi(5,r,s)}}}}}(n,t),function Rl(n,t){const e=n.cleanup,i=t[Zr];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[Zr]=null}}(n,t),1===t[ye].type&&t[He].destroy();const e=t[lo];if(null!==e&&Oi(t[mt])){e!==t[mt]&&_u(e,t);const i=t[Xi];null!==i&&i.detachView(n)}!function ab(n){Il.delete(n[bs])}(t)}}function Rh(n,t,e){return function Wg(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Ar];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===or.None||s===or.Emulated)return null}return xi(i,e)}}(n,t.parent,e)}function Jr(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Gg(n,t,e){n.appendChild(t,e)}function qg(n,t,e,i,r){null!==i?Jr(n,t,e,i,r):Gg(n,t,e)}function h(n,t){return n.parentNode(t)}function u(n,t,e){return m(n,t,e)}let y,Ol,_b,Yg,m=function f(n,t,e){return 40&n.type?xi(n,e):null};function O(n,t,e,i){const r=Rh(n,i,t),s=t[He],a=u(i.parent||t[An],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)qg(s,r,e[c],a,!1);else qg(s,r,e,a,!1);void 0!==y&&y(s,i,t,e,r)}function W(n,t){if(null!==t){const e=t.type;if(3&e)return xi(t,n);if(4&e)return ge(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return W(n,i);{const r=n[t.index];return Oi(r)?ge(-1,r):Mn(r)}}if(32&e)return Th(t,n)()||Mn(n[t.index]);{const i=ce(n,t);return null!==i?Array.isArray(i)?i[0]:W(Ml(n[Wn]),i):W(n,t.next)}}return null}function ce(n,t){return null!==t?n[Wn][An].projection[t.projection]:null}function ge(n,t){const e=Gn+n+1;if(e<t.length){const i=t[e],r=i[ye].firstChild;if(null!==r)return W(i,r)}return t[Nc]}function Lt(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],c=e.type;if(o&&0===t&&(a&&Jn(Mn(a),i),e.flags|=2),32!=(32&e.flags))if(8&c)Lt(n,t,e.child,i,r,s,!1),Is(t,n,r,a,s);else if(32&c){const d=Th(e,i);let p;for(;p=d();)Is(t,n,r,p,s);Is(t,n,r,a,s)}else 16&c?Oh(n,t,i,e,r,s):Is(t,n,r,a,s);e=o?e.projectionNext:e.next}}function li(n,t,e,i,r,s){Lt(e,i,n.firstChild,t,r,s,!1)}function Oh(n,t,e,i,r,s){const o=e[Wn],c=o[An].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Is(t,n,r,c[d],s);else Lt(n,t,c,o[mt],r,s,!0)}function vu(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Nh(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&th(n,t,i),null!==r&&vu(n,t,r),null!==s&&function Zg(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function wo(n){return function xl(){if(void 0===Ol&&(Ol=null,xt.trustedTypes))try{Ol=xt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ol}()?.createHTML(n)||n}function ES(n){return function yb(){if(void 0===Yg&&(Yg=null,xt.trustedTypes))try{Yg=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yg}()?.createScriptURL(n)||n}class Nl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$})`}}class tL extends Nl{getTypeName(){return"HTML"}}class nL extends Nl{getTypeName(){return"Style"}}class iL extends Nl{getTypeName(){return"Script"}}class rL extends Nl{getTypeName(){return"URL"}}class sL extends Nl{getTypeName(){return"ResourceURL"}}function dr(n){return n instanceof Nl?n.changingThisBreaksApplicationSecurity:n}function Ts(n,t){const e=function oL(n){return n instanceof Nl&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${$})`)}return e===t}class hL{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class fL{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=wo(t),e}}const gL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qg(n){return(n=String(n)).match(gL)?n:"unsafe:"+n}function Eo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Lh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const SS=Eo("area,br,col,hr,img,wbr"),IS=Eo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TS=Eo("rp,rt"),vb=Lh(SS,Lh(IS,Eo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lh(TS,Eo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lh(TS,IS)),bb=Eo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AS=Lh(bb,Eo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Eo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mL=Eo("script,style,template");class _L{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!vb.hasOwnProperty(e))return this.sanitizedSomething=!0,!mL.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!AS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;bb[a]&&(c=Qg(c)),this.buf.push(" ",o,'="',MS(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();vb.hasOwnProperty(e)&&!SS.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(MS(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vL=/([^\#-~ |!])/g;function MS(n){return n.replace(/&/g,"&amp;").replace(yL,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vL,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xg;function PS(n,t){let e=null;try{Xg=Xg||function DS(n){const t=new fL(n);return function pL(){try{return!!(new window.DOMParser).parseFromString(wo(""),"text/html")}catch{return!1}}()?new hL(t):t}(n);let i=t?String(t):"";e=Xg.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Xg.getInertBodyElement(i)}while(i!==s);return wo((new _L).sanitizeChildren(Cb(e)||e))}finally{if(e){const i=Cb(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Cb(n){return"content"in n&&function bL(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zt=(()=>((zt=zt||{})[zt.NONE=0]="NONE",zt[zt.HTML=1]="HTML",zt[zt.STYLE=2]="STYLE",zt[zt.SCRIPT=3]="SCRIPT",zt[zt.URL=4]="URL",zt[zt.RESOURCE_URL=5]="RESOURCE_URL",zt))();function Ea(n){const t=Vh();return t?t.sanitize(zt.URL,n)||"":Ts(n,"URL")?dr(n):Qg(ee(n))}function kS(n){const t=Vh();if(t)return ES(t.sanitize(zt.RESOURCE_URL,n)||"");if(Ts(n,"ResourceURL"))return ES(dr(n));throw new w(904,!1)}function Vh(){const n=ne();return n&&n[al]}const Jg=new oe("ENVIRONMENT_INITIALIZER"),wb=new oe("INJECTOR",-1),OS=new oe("INJECTOR_DEF_TYPES");class xS{get(t,e=tl){if(e===tl){const i=new Error(`NullInjectorError: No provider for ${Xe(t)}!`);throw i.name="NullInjectorError",i}return e}}function TL(...n){return{\u0275providers:NS(0,n),\u0275fromNgModule:!0}}function NS(n,...t){const e=[],i=new Set;let r;return Xr(t,s=>{const o=s;Eb(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&FS(r,e),e}function FS(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Db(r,s=>{t.push(s)})}}function Eb(n,t,e,i){if(!(n=we(n)))return!1;let r=null,s=Dc(n);const o=!s&&ft(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const c=n.ngModule;if(s=Dc(c),!s)return!1;r=c}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of c)Eb(d,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;i.add(r);try{Xr(s.imports,p=>{Eb(p,t,e,i)&&(d||(d=[]),d.push(p))})}finally{}void 0!==d&&FS(d,t)}if(!a){const d=ho(r)||(()=>new r);t.push({provide:r,useFactory:d,deps:Et},{provide:OS,useValue:r,multi:!0},{provide:Jg,useValue:()=>R(r),multi:!0})}const c=s.providers;null==c||a||Db(c,p=>{t.push(p)})}}return r!==n&&void 0!==n.providers}function Db(n,t){for(let e of n)Ir(e)&&(e=e.\u0275providers),Array.isArray(e)?Db(e,t):t(e)}const AL=pe({provide:String,useValue:pe});function Sb(n){return null!==n&&"object"==typeof n&&AL in n}function Fl(n){return"function"==typeof n}const Ib=new oe("Set Injector scope."),em={},PL={};let Tb;function tm(){return void 0===Tb&&(Tb=new xS),Tb}class Do{}class US extends Do{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mb(t,o=>this.processProvider(o)),this.records.set(wb,bu(void 0,this)),r.has("environment")&&this.records.set(Do,bu(void 0,this));const s=this.records.get(Ib);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OS.multi,Et,Re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=na(this),i=Hn(void 0);try{return t()}finally{na(e),Hn(i)}}get(t,e=tl,i=Re.Default){this.assertNotDestroyed(),i=ia(i);const r=na(this),s=Hn(void 0);try{if(!(i&Re.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function NL(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(t)&&ta(t);a=c&&this.injectableDefInScope(c)?bu(Ab(t),em):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Re.Self?tm():this.parent).get(t,e=i&Re.Optional&&e===tl?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Tc]=o[Tc]||[]).unshift(Xe(t)),r)throw o;return function Fd(n,t,e,i){const r=n[Tc];throw t[jp]&&r.unshift(t[jp]),n.message=function il(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Od?n.slice(2):n;let r=Xe(t);if(Array.isArray(t))r=t.map(Xe).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Xe(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Ac,"\n  ")}`}("\n"+n.message,r,e,i),n[Rd]=r,n[Tc]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Hn(s),na(r)}}resolveInjectorInitializers(){const t=na(this),e=Hn(void 0);try{const i=this.get(Jg.multi,Et,Re.Self);for(const r of i)r()}finally{na(t),Hn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Xe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(t){let e=Fl(t=we(t))?t:we(t&&t.provide);const i=function RL(n){return Sb(n)?bu(void 0,n.useValue):bu(BS(n),em)}(t);if(Fl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=bu(void 0,em,!0),r.factory=()=>Nd(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===em&&(e.value=PL,e.value=e.factory()),"object"==typeof e.value&&e.value&&function xL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=we(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Ab(n){const t=ta(n),e=null!==t?t.factory:ho(n);if(null!==e)return e;if(n instanceof oe)throw new w(204,!1);if(n instanceof Function)return function kL(n){const t=n.length;if(t>0)throw va(t,"?"),new w(204,!1);const e=function hv(n){return n&&(n[Sc]||n[Pd])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new w(204,!1)}function BS(n,t,e){let i;if(Fl(n)){const r=we(n);return ho(r)||Ab(r)}if(Sb(n))i=()=>we(n.useValue);else if(function VS(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Nd(n.deps||[]));else if(function LS(n){return!(!n||!n.useExisting)}(n))i=()=>R(we(n.useExisting));else{const r=we(n&&(n.useClass||n.provide));if(!function OL(n){return!!n.deps}(n))return ho(r)||Ab(r);i=()=>new r(...Nd(n.deps))}return i}function bu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Mb(n,t){for(const e of n)Array.isArray(e)?Mb(e,t):e&&Ir(e)?Mb(e.\u0275providers,t):t(e)}class FL{}class jS{}class VL{resolveComponentFactory(t){throw function LL(n){const t=Error(`No component factory found for ${Xe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ll=(()=>{class n{}return n.NULL=new VL,n})();function UL(){return Cu(bn(),ne())}function Cu(n,t){return new Wt(xi(n,t))}let Wt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=UL,n})();function BL(n){return n instanceof Wt?n.nativeElement:n}class Uh{}let As=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jL(){const n=ne(),e=Ni(bn().index,n);return(ai(e)?e:n)[He]}(),n})(),HL=(()=>{class n{}return n.\u0275prov=ae({token:n,providedIn:"root",factory:()=>null}),n})();class So{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $S=new So("15.2.10"),Pb={},kb="ngOriginalError";function Rb(n){return n[kb]}class wu{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Rb(t);for(;e&&Rb(e);)e=Rb(e);return e||null}}function Io(n){return n instanceof Function?n():n}function WS(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const GS="ng-template";function JL(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==WS(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function qS(n){return 4===n.type&&n.value!==GS}function eV(n,t,e){return t===(4!==n.type||e?n.value:GS)}function tV(n,t,e){let i=4;const r=n.attrs||[],s=function rV(n){for(let t=0;t<n.length;t++)if(Zc(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!eV(n,c,e)||""===c&&1===t.length){if(es(i))return!1;o=!0}}else{const d=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!JL(n.attrs,d,e)){if(es(i))return!1;o=!0}continue}const g=nV(8&i?"class":c,r,qS(n),e);if(-1===g){if(es(i))return!1;o=!0;continue}if(""!==d){let _;_=g>s?"":r[g+1].toLowerCase();const v=8&i?_:null;if(v&&-1!==WS(v,d,0)||2&i&&d!==_){if(es(i))return!1;o=!0}}}}else{if(!o&&!es(i)&&!es(c))return!1;if(o&&es(c))continue;o=!1,i=c|1&i}}return es(i)||o}function es(n){return 0==(1&n)}function nV(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function sV(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function KS(n,t,e=!1){for(let i=0;i<t.length;i++)if(tV(n,t[i],e))return!0;return!1}function oV(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ZS(n,t){return n?":not("+t.trim()+")":t}function aV(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!es(o)&&(t+=ZS(s,r),r=""),i=o,s=s||!es(i);e++}return""!==r&&(t+=ZS(s,r)),t}const $e={};function ie(n){YS(_t(),ne(),qn()+n,!1)}function YS(n,t,e,i){if(!i)if(3==(3&t[Be])){const s=n.preOrderCheckHooks;null!==s&&qc(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Kc(t,s,0,e)}go(e)}function eI(n,t=null,e=null,i){const r=tI(n,t,e,i);return r.resolveInjectorInitializers(),r}function tI(n,t=null,e=null,i,r=new Set){const s=[e||Et,TL(n)];return i=i||("object"==typeof n?void 0:Xe(n)),new US(s,t||tm(),i||null,r)}let wi=(()=>{class n{static create(e,i){if(Array.isArray(e))return eI({name:""},i,e,"");{const r=e.name??"";return eI({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=tl,n.NULL=new xS,n.\u0275prov=ae({token:n,providedIn:"any",factory:()=>R(wb)}),n.__NG_ELEMENT_ID__=-1,n})();function P(n,t=Re.Default){const e=ne();return null===e?R(n,t):dg(bn(),e,we(n),t)}function cI(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];Gd(e[i]),o.contentQueries(2,t[s],s)}}}function im(n,t,e,i,r,s,o,a,c,d,p){const g=t.blueprint.slice();return g[Ar]=r,g[Be]=76|i,(null!==p||n&&1024&n[Be])&&(g[Be]|=1024),Sv(g),g[mt]=g[vs]=n,g[rn]=e,g[kc]=o||n&&n[kc],g[He]=a||n&&n[He],g[al]=c||n&&n[al]||null,g[ol]=d||n&&n[ol]||null,g[An]=s,g[bs]=function sb(){return wh++}(),g[Rc]=p,g[Wn]=2==t.type?n[Wn]:g,g}function Su(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Lb(n,t,e,i,r){const s=Hc(),o=$c(),c=n.data[t]=function OV(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,t,e,i,r),function dl(){return je.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function ul(){const n=je.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fi(s,!0),s}function Bh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Vb(n,t,e){Kd(t);try{const i=n.viewQuery;null!==i&&qb(1,i,e);const r=n.template;null!==r&&uI(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cI(n,t),n.staticViewQueries&&qb(2,n.viewQuery,e);const s=n.components;null!==s&&function PV(n,t){for(let e=0;e<t.length;e++)JV(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Be]&=-5,Yd()}}function rm(n,t,e,i){const r=t[Be];if(128!=(128&r)){Kd(t);try{Sv(t),function Yr(n){return je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&uI(n,t,e,2,i);const o=3==(3&r);if(o){const d=n.preOrderCheckHooks;null!==d&&qc(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Kc(t,d,0,null),Xd(t,0)}if(function QV(n){for(let t=gu(n);null!==t;t=Mh(t)){if(!t[xc])continue;const e=t[oa];for(let i=0;i<e.length;i++){const r=e[i];512&r[Be]||ig(r[mt],1),r[Be]|=512}}}(t),function YV(n){for(let t=gu(n);null!==t;t=Mh(t))for(let e=Gn;e<t.length;e++){const i=t[e],r=i[ye];ca(i)&&rm(r,i,r.template,i[rn])}}(t),null!==n.contentQueries&&cI(n,t),o){const d=n.contentCheckHooks;null!==d&&qc(t,d)}else{const d=n.contentHooks;null!==d&&Kc(t,d,1),Xd(t,1)}!function AV(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)go(~r);else{const s=r,o=e[++i],a=e[++i];fn(o,s),a(2,t[s])}}}finally{go(-1)}}(n,t);const a=n.components;null!==a&&function MV(n,t){for(let e=0;e<t.length;e++)XV(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&qb(2,c,i),o){const d=n.viewCheckHooks;null!==d&&qc(t,d)}else{const d=n.viewHooks;null!==d&&Kc(t,d,2),Xd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Be]&=-41,512&t[Be]&&(t[Be]&=-513,ig(t[mt],-1))}finally{Yd()}}}function uI(n,t,e,i,r){const s=qn(),o=2&i;try{go(-1),o&&t.length>Pt&&YS(n,t,Pt,!1),yi(o?2:0,r),e(i,r)}finally{go(s),yi(o?3:1,r)}}function Ub(n,t,e){if(aa(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Bb(n,t,e){jc()&&(function BV(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;uo(e)&&function qV(n,t,e){const i=xi(t,n),r=dI(e),s=n[kc],o=sm(n,im(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Jc(e,t),Jn(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const c=n.data[a],d=cr(t,n,a,e);Jn(d,t),null!==o&&KV(0,a-r,d,c,0,o),lr(c)&&(Ni(e.index,t)[rn]=cr(t,n,a,e))}}(n,t,e,xi(e,t)),64==(64&e.flags)&&mI(n,t,e))}function jb(n,t,e=xi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function dI(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Hb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Hb(n,t,e,i,r,s,o,a,c,d){const p=Pt+i,g=p+r,_=function kV(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:$e);return e}(p,g),v="function"==typeof d?d():d;return _[ye]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1}}function hI(n,t,e,i){const r=yI(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&vI(n).push(i,r.length-1))}function fI(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?pI(e,t,r,s):i.hasOwnProperty(r)&&pI(e,t,i[r],s)}return e}function pI(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function hr(n,t,e,i,r,s,o,a){const c=xi(t,e);let p,d=t.inputs;!a&&null!=d&&(p=d[i])?(Kb(n,e,p,i,r),uo(t)&&function FV(n,t){const e=Ni(t,n);16&e[Be]||(e[Be]|=32)}(e,t.index)):3&t.type&&(i=function NV(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(c,i,r))}function $b(n,t,e,i){if(jc()){const r=null===i?null:{"":-1},s=function HV(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(KS(t,o.selectors,!1))if(i||(i=[]),lr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),zb(n,t,a.length)}else i.unshift(o),zb(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&gI(n,t,e,o,r,a),r&&function $V(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new w(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=mo(e.mergedAttrs,e.attrs)}function gI(n,t,e,i,r,s){for(let d=0;d<i.length;d++)oh(Jc(e,t),n,i[d].type);!function WV(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let d=0;d<i.length;d++){const p=i[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,c=Bh(n,t,i.length,null);for(let d=0;d<i.length;d++){const p=i[d];e.mergedAttrs=mo(e.mergedAttrs,p.hostAttrs),GV(n,e,t,c,p),zV(c,p,r),null!==p.contentQueries&&(e.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=64);const g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e.index),a=!0),c++}!function xV(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let c=null,d=null;for(let p=t.directiveStart;p<r;p++){const g=s[p],_=e?e.get(g):null,b=_?_.outputs:null;c=fI(g.inputs,p,c,_?_.inputs:null),d=fI(g.outputs,p,d,b);const I=null===c||null===o||qS(t)?null:ZV(c,p,o);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=d}(n,e,s)}function mI(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function kv(){return je.lFrame.currentDirectiveIndex}();try{go(s);for(let a=i;a<r;a++){const c=n.data[a],d=t[a];hl(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&jV(c,d)}}finally{go(-1),hl(o)}}function jV(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function zb(n,t,e){t.componentOffset=e,(n.components??(n.components=[])).push(t.index)}function zV(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;lr(t)&&(e[""]=n)}}function GV(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=ho(r.type)),o=new _l(s,lr(r),P);n.blueprint[i]=o,e[i]=o,function VV(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function UV(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Bh(n,e,r.hostVars,$e),r)}function Ms(n,t,e,i,r,s){const o=xi(n,t);!function Wb(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?ee(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[He],o,s,n.value,e,i,r)}function KV(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let c=0;c<o.length;){const d=o[c++],p=o[c++],g=o[c++];null!==a?i.setInput(e,g,d,p):e[p]=g}}}function ZV(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function _I(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null]}function XV(n,t){const e=Ni(t,n);if(ca(e)){const i=e[ye];48&e[Be]?rm(i,e,i.template,e[rn]):e[oo]>0&&Gb(e)}}function Gb(n){for(let i=gu(n);null!==i;i=Mh(i))for(let r=Gn;r<i.length;r++){const s=i[r];if(ca(s))if(512&s[Be]){const o=s[ye];rm(o,s,o.template,s[rn])}else s[oo]>0&&Gb(s)}const e=n[ye].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ni(e[i],n);ca(r)&&r[oo]>0&&Gb(r)}}function JV(n,t){const e=Ni(t,n),i=e[ye];(function eU(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Vb(i,e,e[rn])}function sm(n,t){return n[ao]?n[ll][Qi]=t:n[ao]=t,n[ll]=t,t}function om(n){for(;n;){n[Be]|=32;const t=Ml(n);if(Vd(n)&&!t)return n;n=t}return null}function am(n,t,e,i=!0){const r=t[kc];r.begin&&r.begin();try{rm(n,t,n.template,e)}catch(o){throw i&&CI(t,o),o}finally{r.end&&r.end()}}function qb(n,t,e){Gd(0),t(n,e)}function yI(n){return n[Zr]||(n[Zr]=[])}function vI(n){return n.cleanup||(n.cleanup=[])}function bI(n,t,e){return(null===n||lr(n))&&(e=function wv(n){for(;Array.isArray(n);){if("object"==typeof n[Oc])return n;n=n[Ar]}return null}(e[t.index])),e[He]}function CI(n,t){const e=n[ol],i=e?e.get(wu,null):null;i&&i.handleError(t)}function Kb(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],c=t[o],d=n.data[o];null!==d.setInput?d.setInput(c,r,i,a):c[a]=r}}function To(n,t,e){const i=Bc(t,n);!function kh(n,t,e){n.setValue(t,e)}(n[He],i,e)}function lm(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Ht(r,a):2==s&&(i=Ht(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function cm(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Mn(s)),Oi(s))for(let a=Gn;a<s.length;a++){const c=s[a],d=c[ye].firstChild;null!==d&&cm(c[ye],c,d,i)}const o=e.type;if(8&o)cm(n,t,e.child,i);else if(32&o){const a=Th(e,t);let c;for(;c=a();)i.push(c)}else if(16&o){const a=ce(t,e);if(Array.isArray(a))i.push(...a);else{const c=Ml(t[Wn]);cm(c[ye],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class jh{get rootNodes(){const t=this._lView,e=t[ye];return cm(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(t){this._lView[rn]=t}get destroyed(){return 128==(128&this._lView[Be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mt];if(Oi(t)){const e=t[sa],i=e?e.indexOf(this):-1;i>-1&&(kl(t,i),su(e,i))}this._attachedToViewContainer=!1}$g(this._lView[ye],this._lView)}onDestroy(t){hI(this._lView[ye],this._lView,null,t)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[Be]&=-65}reattach(){this._lView[Be]|=64}detectChanges(){am(this._lView[ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fb(n,t){li(n,t,t[He],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t}}class tU extends jh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;am(t[ye],t,t[rn],!1)}checkNoChanges(){}get context(){return null}}class wI extends Ll{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ft(t);return new Hh(e,this.ngModule)}}function EI(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class iU{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=ia(i);const r=this.injector.get(t,Pb,i);return r!==Pb||e===Pb?r:this.parentInjector.get(t,e,i)}}class Hh extends jS{get inputs(){return EI(this.componentDef.inputs)}get outputs(){return EI(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function lV(n){return n.map(aV).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof Do?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new iU(t,s):t,a=o.get(Uh,null);if(null===a)throw new w(407,!1);const c=o.get(HL,null),d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?function RV(n,t,e){return n.selectRootElement(t,e===or.ShadowDom)}(d,i,this.componentDef.encapsulation):Pr(d,p,function nU(n){const t=n.toLowerCase();return"svg"===t?tg:"math"===t?"math":null}(p)),_=this.componentDef.onPush?288:272,v=Hb(0,null,null,1,0,null,null,null,null,null),b=im(null,v,null,_,null,null,a,d,c,o,null);let I,k;Kd(b);try{const B=this.componentDef;let Y,x=null;B.findHostDirectiveDefs?(Y=[],x=new Map,B.findHostDirectiveDefs(B,Y,x),Y.push(B)):Y=[B];const re=function sU(n,t){const e=n[ye],i=Pt;return n[i]=t,Su(e,i,2,"#host",null)}(b,g),Pe=function oU(n,t,e,i,r,s,o,a){const c=r[ye];!function aU(n,t,e,i){for(const r of n)t.mergedAttrs=mo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(lm(t,t.mergedAttrs,!0),null!==e&&Nh(i,e,t))}(i,n,t,o);const d=s.createRenderer(t,e),p=im(r,dI(e),null,e.onPush?32:16,r[n.index],n,s,d,a||null,null,null);return c.firstCreatePass&&zb(c,n,i.length-1),sm(r,p),r[n.index]=p}(re,g,B,Y,b,a,d);k=ng(v,Pt),g&&function cU(n,t,e,i){if(i)th(n,e,["ng-version",$S.full]);else{const{attrs:r,classes:s}=function cV(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!es(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&th(n,e,r),s&&s.length>0&&vu(n,e,s.join(" "))}}(d,B,g,i),void 0!==e&&function uU(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,e),I=function lU(n,t,e,i,r,s){const o=bn(),a=r[ye],c=xi(o,r);gI(a,r,o,e,null,i);for(let p=0;p<e.length;p++)Jn(cr(r,a,o.directiveStart+p,o),r);mI(a,r,o),c&&Jn(c,r);const d=cr(r,a,o.directiveStart+o.componentOffset,o);if(n[rn]=r[rn]=d,null!==s)for(const p of s)p(d,t);return Ub(a,o,n),d}(Pe,B,Y,x,b,[dU]),Vb(v,b,null)}finally{Yd()}return new rU(this.componentType,I,Cu(k,b),b,k)}}class rU extends FL{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new tU(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Kb(s[ye],s,r,t,e),om(Ni(this._tNode.index,s))}}get injector(){return new Ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dU(){const n=bn();Gc(ne()[ye],n)}function ut(n){let t=function DI(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(lr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Zb(n.inputs),o.declaredInputs=Zb(n.declaredInputs),o.outputs=Zb(n.outputs);const a=r.hostBindings;a&&gU(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&fU(n,c),d&&pU(n,d),Ye(n.inputs,r.inputs),Ye(n.declaredInputs,r.declaredInputs),Ye(n.outputs,r.outputs),lr(r)&&r.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ut&&(e=!1)}}t=Object.getPrototypeOf(t)}!function hU(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=mo(r.hostAttrs,e=mo(e,r.hostAttrs))}}(i)}function Zb(n){return n===Tn?{}:n===Et?[]:n}function fU(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function pU(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function gU(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function um(n){return!!Yb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ps(n,t,e){return n[t]=e}function Ei(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Vl(n,t,e,i){const r=Ei(n,t,e);return Ei(n,t+1,i)||r}function Di(n,t,e,i){const r=ne();return Ei(r,ua(),t)&&(_t(),Ms(Ft(),r,n,t,e,i)),Di}function Au(n,t,e,i,r,s){const a=Vl(n,function ws(){return je.lFrame.bindingIndex}(),e,r);return Qr(2),a?t+ee(e)+i+ee(r)+s:$e}function Te(n,t,e,i,r,s,o,a){const c=ne(),d=_t(),p=n+Pt,g=d.firstCreatePass?function SU(n,t,e,i,r,s,o,a,c){const d=t.consts,p=Su(t,n,4,o||null,Cs(d,a));$b(t,e,p,Cs(d,c)),Gc(t,p);const g=p.tView=Hb(2,p,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,p),g.queries=t.queries.embeddedTView(p)),p}(p,d,c,t,e,i,r,s,o):d.data[p];Fi(g,!1);const _=c[He].createComment("");O(d,c,_,g),Jn(_,c),sm(c,c[p]=_I(_,c,_,g)),la(g)&&Bb(d,c,g),null!=o&&jb(c,g,a)}function Ui(n){return cl(function Mv(){return je.lFrame.contextLView}(),Pt+n)}function le(n,t,e){const i=ne();return Ei(i,ua(),t)&&hr(_t(),Ft(),i,n,t,i[He],e,!1),le}function Qb(n,t,e,i,r){const o=r?"class":"style";Kb(n,e,t.inputs[o],o,i)}function L(n,t,e,i){const r=ne(),s=_t(),o=Pt+n,a=r[He],c=s.firstCreatePass?function TU(n,t,e,i,r,s){const o=t.consts,c=Su(t,n,2,i,Cs(o,r));return $b(t,e,c,Cs(o,s)),null!==c.attrs&&lm(c,c.attrs,!1),null!==c.mergedAttrs&&lm(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,t,e,i):s.data[o],d=r[o]=Pr(a,t,function ha(){return je.lFrame.currentNamespace}()),p=la(c);return Fi(c,!0),Nh(a,d,c),32!=(32&c.flags)&&O(s,r,d,c),0===function nS(){return je.lFrame.elementDepthCount}()&&Jn(d,r),function $d(){je.lFrame.elementDepthCount++}(),p&&(Bb(s,r,c),Ub(s,c,r)),null!==i&&jb(r,c),L}function F(){let n=bn();$c()?zd():(n=n.parent,Fi(n,!1));const t=n;!function po(){je.lFrame.elementDepthCount--}();const e=_t();return e.firstCreatePass&&(Gc(e,n),aa(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Fv(n){return 0!=(8&n.flags)}(t)&&Qb(e,t,ne(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function og(n){return 0!=(16&n.flags)}(t)&&Qb(e,t,ne(),t.stylesWithoutHost,!1),F}function Ie(n,t,e,i){return L(n,t,e,i),F(),Ie}function Ao(n,t,e){const i=ne(),r=_t(),s=n+Pt,o=r.firstCreatePass?function AU(n,t,e,i,r){const s=t.consts,o=Cs(s,i),a=Su(t,n,8,"ng-container",o);return null!==o&&lm(a,o,!0),$b(t,e,a,Cs(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Fi(o,!0);const a=i[s]=i[He].createComment("");return O(r,i,a,o),Jn(a,i),la(o)&&(Bb(r,i,o),Ub(r,o,i)),null!=e&&jb(i,o),Ao}function Mo(){let n=bn();const t=_t();return $c()?zd():(n=n.parent,Fi(n,!1)),t.firstCreatePass&&(Gc(t,n),aa(n)&&t.queries.elementEnd(n)),Mo}function hm(n,t,e){return Ao(n,t,e),Mo(),hm}function Rr(){return ne()}function zh(n){return!!n&&"function"==typeof n.then}const Xb=function LI(n){return!!n&&"function"==typeof n.subscribe};function Oe(n,t,e,i){const r=ne(),s=_t(),o=bn();return VI(s,r,r[He],o,n,t,i),Oe}function Jb(n,t){const e=bn(),i=ne(),r=_t();return VI(r,i,bI(Wd(r.data),e,i),e,n,t),Jb}function VI(n,t,e,i,r,s,o){const a=la(i),d=n.firstCreatePass&&vI(n),p=t[rn],g=yI(t);let _=!0;if(3&i.type||o){const I=xi(i,t),k=o?o(I):I,B=g.length,Y=o?re=>o(Mn(re[i.index])):i.index;let x=null;if(!o&&a&&(x=function MU(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Zr],c=r[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,_=!1;else{s=BI(i,t,p,s,!1);const re=e.listen(k,r,s);g.push(s,re),d&&d.push(r,Y,B,B+1)}}else s=BI(i,t,p,s,!1);const v=i.outputs;let b;if(_&&null!==v&&(b=v[r])){const I=b.length;if(I)for(let k=0;k<I;k+=2){const Pe=t[b[k]][b[k+1]].subscribe(s),ot=g.length;g.push(s,Pe),d&&d.push(r,i.index,ot,-(ot+1))}}}function UI(n,t,e,i){try{return yi(6,t,e),!1!==e(i)}catch(r){return CI(n,r),!1}finally{yi(7,t,e)}}function BI(n,t,e,i,r){return function s(o){if(o===Function)return i;om(n.componentOffset>-1?Ni(n.index,t):t);let c=UI(t,e,i,o),d=s.__ngNextListenerFn__;for(;d;)c=UI(t,e,d,o)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function Ae(n=1){return function Qd(n){return(je.lFrame.contextLView=function sg(n,t){for(;n>0;)t=t[vs],n--;return t}(n,je.lFrame.contextLView))[rn]}(n)}function PU(n,t){let e=null;const i=function iV(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?KS(n,s,!0):oV(i,s))return r}else e=r}return e}function Nu(n){const t=ne()[Wn][An];if(!t.projection){const i=t.projection=va(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?PU(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Ul(n,t=0,e){const i=ne(),r=_t(),s=Su(r,Pt+n,16,null,e||null);null===s.projection&&(s.projection=t),zd(),32!=(32&s.flags)&&function yu(n,t,e){Oh(t[He],0,t,e,Rh(n,e,t),u(e.parent||t[An],e,t))}(r,i,s)}function fm(n,t){return n<<17|t<<2}function Da(n){return n>>17&32767}function tC(n){return 2|n}function Bl(n){return(131068&n)>>2}function nC(n,t){return-131069&n|t<<2}function iC(n){return 1|n}function YI(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Da(s):Bl(s),c=!1;for(;0!==a&&(!1===c||o);){const p=n[a+1];FU(n[a],t)&&(c=!0,n[a+1]=i?iC(p):tC(p)),a=i?Da(p):Bl(p)}c&&(n[e+1]=i?tC(s):iC(s))}function FU(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ba(n,t)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QI(n){return n.substring(Kn.key,Kn.keyEnd)}function XI(n,t){const e=Kn.textEnd;return e===t?-1:(t=Kn.keyEnd=function BU(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Kn.key=t,e),Fu(n,t,e))}function Fu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Po(n,t,e){return ts(n,t,e,!1),Po}function Rn(n,t){return ts(n,t,null,!0),Rn}function rC(n){!function ns(n,t,e,i){const r=_t(),s=Qr(2);r.firstUpdatePass&&rT(r,null,s,i);const o=ne();if(e!==$e&&Ei(o,s,e)){const a=r.data[qn()];if(lT(a,i)&&!iT(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=Ht(c,e||"")),Qb(r,a,o,e,i)}else!function YU(n,t,e,i,r,s,o,a){r===$e&&(r=Et);let c=0,d=0,p=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;null!==p||null!==g;){const _=c<r.length?r[c+1]:void 0,v=d<s.length?s[d+1]:void 0;let I,b=null;p===g?(c+=2,d+=2,_!==v&&(b=g,I=v)):null===g||null!==p&&p<g?(c+=2,b=p):(d+=2,b=g,I=v),null!==b&&oT(n,t,e,i,b,I,o,a),p=c<r.length?r[c]:null,g=d<s.length?s[d]:null}}(r,a,o,o[He],o[s+1],o[s+1]=function KU(n,t,e){if(null==e||""===e)return Et;const i=[],r=dr(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(ZU,Rs,n,!0)}function Rs(n,t){for(let e=function VU(n){return function eT(n){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=n.length}(n),XI(n,Fu(n,0,Kn.textEnd))}(t);e>=0;e=XI(t,e))Li(n,QI(t),!0)}function ts(n,t,e,i){const r=ne(),s=_t(),o=Qr(2);s.firstUpdatePass&&rT(s,n,o,i),t!==$e&&Ei(r,o,t)&&oT(s,s.data[qn()],r,r[He],n,r[o+1]=function QU(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Xe(dr(n)))),n}(t,e),i,o)}function iT(n,t){return t>=n.expandoStartIndex}function rT(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[qn()],o=iT(n,e);lT(s,i)&&null===t&&!o&&(t=!1),t=function zU(n,t,e,i){const r=Wd(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Wh(e=sC(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=sC(r,n,t,e,i),null===s){let c=function WU(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Bl(i))return n[Da(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=sC(null,n,t,c[1],i),c=Wh(c,t.attrs,i),function GU(n,t,e,i){n[Da(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else s=function qU(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Wh(i,n[s].hostAttrs,e);return Wh(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function xU(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Da(o),c=Bl(o);n[i]=e;let p,d=!1;if(Array.isArray(e)?(p=e[1],(null===p||ba(e,p)>0)&&(d=!0)):p=e,r)if(0!==c){const _=Da(n[a+1]);n[i+1]=fm(_,a),0!==_&&(n[_+1]=nC(n[_+1],i)),n[a+1]=function RU(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=fm(a,0),0!==a&&(n[a+1]=nC(n[a+1],i)),a=i;else n[i+1]=fm(c,0),0===a?a=i:n[c+1]=nC(n[c+1],i),c=i;d&&(n[i+1]=tC(n[i+1])),YI(n,p,i,!0),YI(n,p,i,!1),function NU(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ba(s,t)>=0&&(e[i+1]=iC(e[i+1]))}(t,p,n,i,s),o=fm(a,c),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function sC(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Wh(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Wh(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Li(n,o,!!e||t[++s]))}return void 0===n?null:n}function ZU(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Li(n,i,e)}function oT(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const c=n.data,d=c[a+1],p=function OU(n){return 1==(1&n)}(d)?aT(c,t,e,r,Bl(d),o):void 0;pm(p)||(pm(s)||function kU(n){return 2==(2&n)}(d)&&(s=aT(c,null,e,r,a,o)),function Kg(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:vi.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=vi.Important),n.setStyle(e,i,r,s))}}(i,o,Bc(qn(),e),r,s))}function aT(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),p=d?c[1]:c,g=null===p;let _=e[r+1];_===$e&&(_=g?Et:void 0);let v=g?ph(_,i):p===i?_:void 0;if(d&&!pm(v)&&(v=ph(c,i)),pm(v)&&(a=v,o))return a;const b=n[r+1];r=o?Da(b):Bl(b)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=ph(c,i))}return a}function pm(n){return void 0!==n}function lT(n,t){return 0!=(n.flags&(t?8:16))}function te(n,t=""){const e=ne(),i=_t(),r=n+Pt,s=i.firstCreatePass?Su(i,r,1,t,null):i.data[r],o=e[r]=function Ph(n,t){return n.createText(t)}(e[He],t);O(i,e,o,s),Fi(s,!1)}function Si(n){return Bi("",n,""),Si}function Bi(n,t,e){const i=ne(),r=function Tu(n,t,e,i){return Ei(n,ua(),e)?t+ee(e)+i:$e}(i,n,t,e);return r!==$e&&To(i,qn(),r),Bi}function oC(n,t,e,i,r){const s=ne(),o=Au(s,n,t,e,i,r);return o!==$e&&To(s,qn(),o),oC}function lC(n,t,e){const i=ne();if(Ei(i,ua(),t)){const s=_t(),o=Ft();hr(s,o,i,n,t,bI(Wd(s.data),o,i),e,!0)}return lC}const jl=void 0;var _B=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mB(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Lu={};function ji(n){const t=function yB(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=IT(t);if(e)return e;const i=t.split("-")[0];if(e=IT(i),e)return e;if("en"===i)return _B;throw new w(701,!1)}function IT(n){return n in Lu||(Lu[n]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[n]),Lu[n]}var _e=(()=>((_e=_e||{})[_e.LocaleId=0]="LocaleId",_e[_e.DayPeriodsFormat=1]="DayPeriodsFormat",_e[_e.DayPeriodsStandalone=2]="DayPeriodsStandalone",_e[_e.DaysFormat=3]="DaysFormat",_e[_e.DaysStandalone=4]="DaysStandalone",_e[_e.MonthsFormat=5]="MonthsFormat",_e[_e.MonthsStandalone=6]="MonthsStandalone",_e[_e.Eras=7]="Eras",_e[_e.FirstDayOfWeek=8]="FirstDayOfWeek",_e[_e.WeekendRange=9]="WeekendRange",_e[_e.DateFormat=10]="DateFormat",_e[_e.TimeFormat=11]="TimeFormat",_e[_e.DateTimeFormat=12]="DateTimeFormat",_e[_e.NumberSymbols=13]="NumberSymbols",_e[_e.NumberFormats=14]="NumberFormats",_e[_e.CurrencyCode=15]="CurrencyCode",_e[_e.CurrencySymbol=16]="CurrencySymbol",_e[_e.CurrencyName=17]="CurrencyName",_e[_e.Currencies=18]="Currencies",_e[_e.Directionality=19]="Directionality",_e[_e.PluralCase=20]="PluralCase",_e[_e.ExtraData=21]="ExtraData",_e))();const Vu="en-US";let TT=Vu;function dC(n,t,e,i,r){if(n=we(n),Array.isArray(n))for(let s=0;s<n.length;s++)dC(n[s],t,e,i,r);else{const s=_t(),o=ne();let a=Fl(n)?n:we(n.provide),c=BS(n);const d=bn(),p=1048575&d.providerIndexes,g=d.directiveStart,_=d.providerIndexes>>20;if(Fl(n)||!n.multi){const v=new _l(c,r,P),b=fC(a,t,r?p:p+_,g);-1===b?(oh(Jc(d,o),s,a),hC(s,n,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(v),o.push(v)):(e[b]=v,o[b]=v)}else{const v=fC(a,t,p+_,g),b=fC(a,t,p,p+_),k=b>=0&&e[b];if(r&&!k||!r&&!(v>=0&&e[v])){oh(Jc(d,o),s,a);const B=function m2(n,t,e,i,r){const s=new _l(n,e,P);return s.multi=[],s.index=t,s.componentProviders=0,XT(s,r,i&&!e),s}(r?g2:p2,e.length,r,i,c);!r&&k&&(e[b].providerFactory=B),hC(s,n,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(B),o.push(B)}else hC(s,n,v>-1?v:b,XT(e[r?b:v],c,!r&&i));!r&&i&&k&&e[b].componentProviders++}}}function hC(n,t,e,i){const r=Fl(t),s=function ML(n){return!!n.useClass}(t);if(r||s){const c=(s?we(t.useClass):t).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const p=d.indexOf(e);-1===p?d.push(e,[i,c]):d[p+1].push(i,c)}else d.push(e,c)}}}function XT(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function fC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function p2(n,t,e,i){return pC(this.multi,[])}function g2(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=cr(e,e[ye],this.providerFactory.index,i);s=a.slice(0,o),pC(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],pC(r,s);return s}function pC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Gt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function f2(n,t,e){const i=_t();if(i.firstCreatePass){const r=lr(n);dC(e,i.data,i.blueprint,r,!0),dC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Uu{}class JT{}class eA extends Uu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wI(this);const i=Ri(t);this._bootstrapComponents=Io(i.bootstrap),this._r3Injector=tI(t,e,[{provide:Uu,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver}],Xe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gC extends JT{constructor(t){super(),this.moduleType=t}create(t){return new eA(this.moduleType,t)}}class y2 extends Uu{constructor(t,e,i){super(),this.componentFactoryResolver=new wI(this),this.instance=null;const r=new US([...t,{provide:Uu,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver}],e||tm(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function vm(n,t,e=null){return new y2(n,t,e).injector}let v2=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=NS(0,e.type),r=i.length>0?vm([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ae({token:n,providedIn:"environment",factory:()=>new n(R(Do))}),n})();function mC(n){n.getStandaloneInjector=t=>t.get(v2).getOrCreateStandaloneInjector(n)}function yC(n,t,e,i){return function lA(n,t,e,i,r,s){const o=t+e;return Ei(n,o,r)?Ps(n,o+1,s?i.call(s,r):i(r)):Qh(n,o+1)}(ne(),Pn(),n,t,e,i)}function Qh(n,t){const e=n[t];return e===$e?void 0:e}function cA(n,t,e,i,r,s,o){const a=t+e;return Vl(n,a,r,s)?Ps(n,a+2,o?i.call(o,r,s):i(r,s)):Qh(n,a+2)}function ko(n,t){const e=_t();let i;const r=n+Pt;e.firstCreatePass?(i=function F2(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=ho(i.type)),o=Hn(P);try{const a=Xc(!1),c=s();return Xc(a),function IU(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ne(),r,c),c}finally{Hn(o)}}function Ro(n,t,e,i){const r=n+Pt,s=ne(),o=cl(s,r);return function Xh(n,t){return n[ye].data[t].pure}(s,r)?cA(s,Pn(),t,o.transform,e,i,o):o.transform(e,i)}function vC(n){return t=>{setTimeout(n,void 0,t)}}const Tt=class j2 extends V{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=vC(s),r&&(r=vC(r)),o&&(o=vC(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof at&&t.add(a),a}};function H2(){return this._results[Symbol.iterator]()}class bC{get changes(){return this._changes||(this._changes=new Tt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bC.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=H2)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Ji(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Hv(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Os=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();const $2=Os,z2=class extends $2{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tView,r=im(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[lo]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Xi];return null!==o&&(r[Xi]=o.createEmbeddedView(i)),Vb(i,r,t),new jh(r)}};function W2(){return bm(bn(),ne())}function bm(n,t){return 4&n.type?new z2(t,n,Cu(n,t)):null}let Or=(()=>{class n{}return n.__NG_ELEMENT_ID__=G2,n})();function G2(){return gA(bn(),ne())}const q2=Or,fA=class extends q2{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new Ds(this._hostTNode,this._hostLView)}get parentInjector(){const t=sh(this._hostTNode,this._hostLView);if(Yc(t)){const e=_o(t,this._hostLView),i=Qc(t);return new Ds(e[ye].data[i+8],e)}return new Ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pA(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function El(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?t:new Hh(ft(t)),d=i||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?d:this.parentInjector).get(Do,null);_&&(s=_)}const p=c.create(d,r,void 0,s);return this.insert(p.hostView,a),p}insert(t,e){const i=t._lView,r=i[ye];if(function Dv(n){return Oi(n[mt])}(i)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const g=i[mt],_=new fA(g,g[An],g[mt]);_.detach(_.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function Hg(n,t,e,i){const r=Gn+i,s=e.length;i>0&&(e[r-1][Qi]=t),i<s-Gn?(t[Qi]=e[r],yg(e,Gn+i,t)):(e.push(t),t[Qi]=null),t[mt]=e;const o=t[lo];null!==o&&e!==o&&function Ci(n,t){const e=n[oa];t[Wn]!==t[mt][mt][Wn]&&(n[xc]=!0),null===e?n[oa]=[t]:e.push(t)}(o,t);const a=t[Xi];null!==a&&a.insertView(n),t[Be]|=64}(r,i,o,s);const a=ge(s,o),c=i[He],d=h(c,o[Nc]);return null!==d&&function hb(n,t,e,i,r,s){i[Ar]=r,i[An]=t,li(n,i,e,1,r,s)}(r,o[An],c,i,d,a),t.attachToViewContainerRef(),yg(CC(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pA(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=kl(this._lContainer,e);i&&(su(CC(this._lContainer),e),$g(i[ye],i))}detach(t){const e=this._adjustIndex(t,-1),i=kl(this._lContainer,e);return i&&null!=su(CC(this._lContainer),e)?new jh(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function pA(n){return n[sa]}function CC(n){return n[sa]||(n[sa]=[])}function gA(n,t){let e;const i=t[n.index];if(Oi(i))e=i;else{let r;if(8&n.type)r=Mn(i);else{const s=t[He];r=s.createComment("");const o=xi(n,t);Jr(s,h(s,o),r,function l(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=_I(i,t,r,n),sm(t,e)}return new fA(e,n,t)}class wC{constructor(t){this.queryList=t,this.matches=null}clone(){return new wC(this.queryList)}setDirty(){this.queryList.setDirty()}}class EC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new EC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==CA(t,e).matches&&this.queries[e].setDirty()}}class mA{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class DC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new DC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class SC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new SC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,K2(e,s)),this.matchTNodeWithReadOption(t,e,nu(e,t,s,!1,!1))}else i===Os?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Wt||r===Or||r===Os&&4&e.type)this.addMatch(e.index,-2);else{const s=nu(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function K2(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Y2(n,t,e,i){return-1===e?function Z2(n,t){return 11&n.type?Cu(n,t):4&n.type?bm(n,t):null}(t,n):-2===e?function Q2(n,t,e){return e===Wt?Cu(t,n):e===Os?bm(t,n):e===Or?gA(t,n):void 0}(n,t,i):cr(n,n[ye],e,t)}function _A(n,t,e,i){const r=t[Xi].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let c=0;c<o.length;c+=2){const d=o[c];a.push(d<0?null:Y2(t,s[d],o[c+1],e.metadata.read))}r.matches=a}return r.matches}function IC(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=_A(n,t,r,e);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)i.push(o[a/2]);else{const d=s[a+1],p=t[-c];for(let g=Gn;g<p.length;g++){const _=p[g];_[lo]===_[mt]&&IC(_[ye],_,d,i)}if(null!==p[oa]){const g=p[oa];for(let _=0;_<g.length;_++){const v=g[_];IC(v[ye],v,d,i)}}}}}return i}function Jh(n){const t=ne(),e=_t(),i=zc();Gd(i+1);const r=CA(e,i);if(n.dirty&&function tS(n){return 4==(4&n[Be])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?IC(e,t,i,[]):_A(e,t,r,i);n.reset(s,BL),n.notifyOnChanges()}return!0}return!1}function Cm(n,t,e){const i=_t();i.firstCreatePass&&(function bA(n,t,e){null===n.queries&&(n.queries=new DC),n.queries.track(new SC(t,e))}(i,new mA(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function vA(n,t,e){const i=new bC(4==(4&e));hI(n,t,i,i.destroy),null===t[Xi]&&(t[Xi]=new EC),t[Xi].queries.push(new wC(i))}(i,ne(),t)}function ef(){return function X2(n,t){return n[Xi].queries[t].queryList}(ne(),zc())}function CA(n,t){return n.queries.getByIndex(t)}function wm(n,t){return bm(n,t)}function Dm(...n){}const Sm=new oe("Application Initializer");let Im=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Dm,this.reject=Dm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(zh(s))e.push(s);else if(Xb(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(R(Sm,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=new oe("AppId",{providedIn:"root",factory:function UA(){return`${RC()}${RC()}${RC()}`}});function RC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BA=new oe("Platform Initializer"),Hl=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$l=new oe("AnimationModuleType");let vj=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xs=new oe("LocaleId",{providedIn:"root",factory:()=>Qe(xs,Re.Optional|Re.SkipSelf)||function bj(){return typeof $localize<"u"&&$localize.locale||Vu}()}),Cj=new oe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wj{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let jA=(()=>{class n{compileModuleSync(e){return new gC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Io(Ri(e).declarations).reduce((o,a)=>{const c=ft(a);return c&&o.push(new Hh(c)),o},[]);return new wj(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sj=(()=>Promise.resolve(0))();function OC(n){typeof Zone>"u"?Sj.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Ij(){let n=xt.requestAnimationFrame,t=xt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Mj(n){const t=()=>{!function Aj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NC(n),n.isCheckStableRunning=!0,xC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return zA(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),WA(n)}},onInvoke:(e,i,r,s,o,a,c)=>{try{return zA(n),e.invoke(r,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),WA(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,NC(n),xC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new w(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Tj,Dm,Dm);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Tj={};function xC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WA(n){n._nesting--,xC(n)}class Pj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const GA=new oe(""),Tm=new oe("");let VC,FC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,VC||(function kj(n){VC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),OC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(R(We),R(LC),R(Tm))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return VC?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Oo=!1;let Sa=null;const qA=new oe("AllowMultipleToken"),UC=new oe("PlatformDestroyListeners"),KA=new oe("appBootstrapListener");class ZA{constructor(t,e){this.name=t,this.token=e}}function QA(n,t,e=[]){const i=`Platform: ${t}`,r=new oe(i);return(s=[])=>{let o=BC();if(!o||o.injector.get(qA,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function xj(n){if(Sa&&!Sa.get(qA,!1))throw new w(400,!1);Sa=n;const t=n.get(JA);(function YA(n){const t=n.get(BA,null);t&&t.forEach(e=>e())})(n)}(function XA(n=[],t){return wi.create({name:t,providers:[{provide:Ib,useValue:"platform"},{provide:UC,useValue:new Set([()=>Sa=null])},...n]})}(a,i))}return function Fj(n){const t=BC();if(!t)throw new w(401,!1);return t}()}}function BC(){return Sa?.get(JA)??null}let JA=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function tM(n,t){let e;return e="noop"===n?new Pj:("zone.js"===n?void 0:n)||new We(t),e}(i?.ngZone,function eM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:We,useValue:r}];return r.run(()=>{const o=wi.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),c=a.injector.get(wu,null);if(!c)throw new w(402,!1);return r.runOutsideAngular(()=>{const d=r.onError.subscribe({next:p=>{c.handleError(p)}});a.onDestroy(()=>{Am(this._modules,a),d.unsubscribe()})}),function nM(n,t,e){try{const i=e();return zh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const d=a.injector.get(Im);return d.runInitializers(),d.donePromise.then(()=>(function AT(n){Zi(n,"Expected localeId to be defined"),"string"==typeof n&&(TT=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(xs,Vu)||Vu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=iM({},i);return function Rj(n,t,e){const i=new gC(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Hu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new w(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(UC,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(R(wi))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function iM(n,t){return Array.isArray(t)?t.reduce(iM,n):{...n,...t}}let Hu=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ze(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),OC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=G(s,o.pipe(N()))}bootstrap(e,i){const r=e instanceof jS;if(!this._injector.get(Im).done){!r&&function io(n){const t=ft(n)||zn(n)||oi(n);return null!==t&&t.standalone}(e);throw new w(405,Oo)}let o;o=r?e:this._injector.get(Ll).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Oj(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Uu),d=o.create(wi.NULL,[],i||o.selector,a),p=d.location.nativeElement,g=d.injector.get(GA,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Am(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Am(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(KA,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Am(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new w(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(R(We),R(Do),R(wu))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Am(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vj,n})();function Vj(n){return function Uj(n,t,e){if(uo(n)&&!e){const i=Ni(n.index,t);return new jh(i,i)}return 47&n.type?new jh(t[Wn],t):null}(bn(),ne(),16==(16&n))}class lM{constructor(){}supports(t){return um(t)}create(t){return new Wj(t)}}const zj=(n,t)=>t;class Wj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zj}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<uM(i,r,s)?e:i,a=uM(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const d=a-r,p=c-r;if(d!=p){for(let _=0;_<d;_++){const v=_<s.length?s[_]:s[_]=0,b=v+_;p<=b&&b<d&&(s[_]=v+1)}s[o.previousIndex]=p-d}}a!==c&&t(o,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!um(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function wU(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Gj(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new cM),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gj{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class cM{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new qj,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uM(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class dM{constructor(){}supports(t){return t instanceof Map||Yb(t)}create(){return new Kj}}class Kj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Yb(t)))throw new w(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Zj(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Zj{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hM(){return new km([new lM])}let km=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||hM()),deps:[[n,new Sl,new yo]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new w(901,!1)}}return n.\u0275prov=ae({token:n,providedIn:"root",factory:hM}),n})();function fM(){return new rf([new dM])}let rf=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||fM()),deps:[[n,new Sl,new yo]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new w(901,!1)}}return n.\u0275prov=ae({token:n,providedIn:"root",factory:fM}),n})();const Xj=QA(null,"core",[]);let Jj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(R(Hu))},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();function $u(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let GC=null;function xo(){return GC}class nH{}const vt=new oe("DocumentToken");let qC=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return function iH(){return R(pM)}()},providedIn:"platform"}),n})();const rH=new oe("Location Initialized");let pM=(()=>{class n extends qC{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xo().getBaseHref(this._doc)}onPopState(e){const i=xo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=xo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){gM()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){gM()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:function(){return function sH(){return new pM(R(vt))}()},providedIn:"platform"}),n})();function gM(){return!!window.history.pushState}function KC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function mM(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function No(n){return n&&"?"!==n[0]?"?"+n:n}let Wl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return Qe(yM)},providedIn:"root"}),n})();const _M=new oe("appBaseHref");let yM=(()=>{class n extends Wl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Qe(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return KC(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+No(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+No(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+No(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(qC),R(_M,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oH=(()=>{class n extends Wl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=KC(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+No(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+No(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(qC),R(_M,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),Rm=(()=>{class n{constructor(e){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function cH(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(mM(vM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+No(i))}normalize(e){return n.stripTrailingSlash(function lH(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,vM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+No(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+No(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=No,n.joinWithSlash=KC,n.stripTrailingSlash=mM,n.\u0275fac=function(e){return new(e||n)(R(Wl))},n.\u0275prov=ae({token:n,factory:function(){return function aH(){return new Rm(R(Wl))}()},providedIn:"root"}),n})();function vM(n){return n.replace(/\/index.html$/,"")}const bM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var er=(()=>((er=er||{})[er.Decimal=0]="Decimal",er[er.Percent=1]="Percent",er[er.Currency=2]="Currency",er[er.Scientific=3]="Scientific",er))(),xe=(()=>((xe=xe||{})[xe.Decimal=0]="Decimal",xe[xe.Group=1]="Group",xe[xe.List=2]="List",xe[xe.PercentSign=3]="PercentSign",xe[xe.PlusSign=4]="PlusSign",xe[xe.MinusSign=5]="MinusSign",xe[xe.Exponential=6]="Exponential",xe[xe.SuperscriptingExponent=7]="SuperscriptingExponent",xe[xe.PerMille=8]="PerMille",xe[xe.Infinity=9]="Infinity",xe[xe.NaN=10]="NaN",xe[xe.TimeSeparator=11]="TimeSeparator",xe[xe.CurrencyDecimal=12]="CurrencyDecimal",xe[xe.CurrencyGroup=13]="CurrencyGroup",xe))();function xr(n,t){const e=ji(n),i=e[_e.NumberSymbols][t];if(typeof i>"u"){if(t===xe.CurrencyDecimal)return e[_e.NumberSymbols][xe.Decimal];if(t===xe.CurrencyGroup)return e[_e.NumberSymbols][xe.Group]}return i}function ZC(n,t){return ji(n)[_e.NumberFormats][t]}const bH=2,NH=/^(\d+)?\.((\d+)(-(\d+))?)?$/,SM=22,jm=".",af="0",FH=";",LH=",",JC="#",IM="\xa4";function ew(n,t,e,i,r,s,o=!1){let a="",c=!1;if(isFinite(n)){let d=function $H(n){let i,r,s,o,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf(jm))>-1&&(t=t.replace(jm,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===af;s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===af;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>SM&&(i=i.splice(0,SM-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);o&&(d=function HH(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(d));let p=t.minInt,g=t.minFrac,_=t.maxFrac;if(s){const Y=s.match(NH);if(null===Y)throw new Error(`${s} is not a valid digit info`);const x=Y[1],re=Y[3],Pe=Y[5];null!=x&&(p=nw(x)),null!=re&&(g=nw(re)),null!=Pe?_=nw(Pe):null!=re&&g>_&&(_=g)}!function zH(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let g=o;g<i.length;g++)i[g]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let g=1;g<o;g++)i[g]=0}if(a>=5)if(o-1<0){for(let g=0;g>o;g--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=0!==s;const d=t+n.integerLen,p=i.reduceRight(function(g,_,v,b){return b[v]=(_+=g)<10?_:_-10,c&&(0===b[v]&&v>=d?b.pop():c=!1),_>=10?1:0},0);p&&(i.unshift(p),n.integerLen++)}(d,g,_);let v=d.digits,b=d.integerLen;const I=d.exponent;let k=[];for(c=v.every(Y=>!Y);b<p;b++)v.unshift(0);for(;b<0;b++)v.unshift(0);b>0?k=v.splice(b,v.length):(k=v,v=[0]);const B=[];for(v.length>=t.lgSize&&B.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)B.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&B.unshift(v.join("")),a=B.join(xr(e,i)),k.length&&(a+=xr(e,r)+k.join("")),I&&(a+=xr(e,xe.Exponential)+"+"+I)}else a=xr(e,xe.Infinity);return a=n<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function tw(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(FH),r=i[0],s=i[1],o=-1!==r.indexOf(jm)?r.split(jm):[r.substring(0,r.lastIndexOf(af)+1),r.substring(r.lastIndexOf(af)+1)],a=o[0],c=o[1]||"";e.posPre=a.substring(0,a.indexOf(JC));for(let p=0;p<c.length;p++){const g=c.charAt(p);g===af?e.minFrac=e.maxFrac=p+1:g===JC?e.maxFrac=p+1:e.posSuf+=g}const d=a.split(LH);if(e.gSize=d[1]?d[1].length:0,e.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){const p=r.length-e.posPre.length-e.posSuf.length,g=s.indexOf(JC);e.negPre=s.substring(0,g).replace(/'/g,""),e.negSuf=s.slice(g+p).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function nw(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}const rw=/\s+/,AM=[];let sw=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=AM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(rw):AM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(rw):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(rw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(P(km),P(rf),P(Wt),P(As))},n.\u0275dir=be({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class KH{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hm=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new KH(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),kM(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{kM(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(P(Or),P(Os),P(km))},n.\u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function kM(n,t){n.context.$implicit=t.item}let tr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new YH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(P(Or),P(Os))},n.\u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class YH{constructor(){this.$implicit=null,this.ngIf=null}}function RM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xe(t)}'.`)}let xM=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(P(Or))},n.\u0275dir=be({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_i]}),n})();function ss(n,t){return new w(2100,!1)}let FM=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!lw(e))return null;r=r||this._locale;try{return function jH(n,t,e){return ew(n,tw(ZC(t,er.Decimal),xr(t,xe.MinusSign)),t,xe.Group,xe.Decimal,e)}(cw(e),r,i)}catch(s){throw ss()}}}return n.\u0275fac=function(e){return new(e||n)(P(xs,16))},n.\u0275pipe=an({name:"number",type:n,pure:!0,standalone:!0}),n})(),lf=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,o){if(!lw(e))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function vH(n,t,e="en"){const i=function gH(n){return ji(n)[_e.Currencies]}(e)[n]||bM[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(a,"symbol"===r?"wide":"narrow",o):r);try{return function UH(n,t,e,i,r){const o=tw(ZC(t,er.Currency),xr(t,xe.MinusSign));return o.minFrac=function CH(n){let t;const e=bM[n];return e&&(t=e[2]),"number"==typeof t?t:bH}(i),o.maxFrac=o.minFrac,ew(n,o,t,xe.CurrencyGroup,xe.CurrencyDecimal,r).replace(IM,e).replace(IM,"").trim()}(cw(e),o,a,i,s)}catch(c){throw ss()}}}return n.\u0275fac=function(e){return new(e||n)(P(xs,16),P(Cj,16))},n.\u0275pipe=an({name:"currency",type:n,pure:!0,standalone:!0}),n})();function lw(n){return!(null==n||""===n||n!=n)}function cw(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();const LM="browser";let I$=(()=>{class n{}return n.\u0275prov=ae({token:n,providedIn:"root",factory:()=>new T$(R(vt),window)}),n})();class T${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function A$(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=VM(this.window.history)||VM(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class n3 extends nH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hw extends n3{static makeCurrent(){!function tH(n){GC||(GC=n)}(new hw)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function i3(){return df=df||document.querySelector("base"),df?df.getAttribute("href"):null}();return null==e?null:function r3(n){Wm=Wm||document.createElement("a"),Wm.setAttribute("href",n);const t=Wm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){df=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function GH(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Wm,df=null;const $M=new oe("TRANSITION_ID"),o3=[{provide:Sm,useFactory:function s3(n,t,e){return()=>{e.get(Im).donePromise.then(()=>{const i=xo(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[$M,vt,wi],multi:!0}];let l3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const Gm=new oe("EventManagerPlugins");let qm=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(R(Gm),R(We))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class zM{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=xo().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let WM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),hf=(()=>{class n extends WM{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const fw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pw=/%COMP%/g,KM=new oe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ZM(n,t){return t.flat(100).map(e=>e.replace(pw,n))}function YM(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Km=(()=>{class n{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new gw(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof JM?r.applyToHost(e):r instanceof mw&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(i.encapsulation){case or.Emulated:s=new JM(o,a,i,this.appId,c);break;case or.ShadowDom:return new g3(o,a,e,i);default:s=new mw(o,a,i,c)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(R(qm),R(hf),R(nf),R(KM))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class gw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(fw[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(XM(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(XM(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=fw[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=fw[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(vi.DashCase|vi.Important)?t.style.setProperty(e,i,r&vi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&vi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,YM(i)):this.eventManager.addEventListener(t,e,YM(i))}}function XM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class g3 extends gw{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ZM(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mw extends gw{constructor(t,e,i,r,s=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ZM(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class JM extends mw{constructor(t,e,i,r,s){const o=r+"-"+i.id;super(t,e,i,s,o),this.contentAttr=function h3(n){return"_ngcontent-%COMP%".replace(pw,n)}(o),this.hostAttr=function f3(n){return"_nghost-%COMP%".replace(pw,n)}(o)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let m3=(()=>{class n extends zM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const eP=["alt","control","meta","shift"],_3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let v3=(()=>{class n extends zM{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xo().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),eP.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),o+=d+".")}),o+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let r=_3[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),eP.forEach(o=>{o!==r&&(0,y3[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const E3=QA(Xj,"browser",[{provide:Hl,useValue:LM},{provide:BA,useValue:function b3(){hw.makeCurrent()},multi:!0},{provide:vt,useFactory:function w3(){return function eL(n){_b=n}(document),document},deps:[]}]),iP=new oe(""),rP=[{provide:Tm,useClass:class a3{addToWindow(t){xt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(i=>{const r=xt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(c){o=o||c,s--,0==s&&i(o)};r.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?xo().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:GA,useClass:FC,deps:[We,LC,Tm]},{provide:FC,useClass:FC,deps:[We,LC,Tm]}],sP=[{provide:Ib,useValue:"root"},{provide:wu,useFactory:function C3(){return new wu},deps:[]},{provide:Gm,useClass:m3,multi:!0,deps:[vt,We,Hl]},{provide:Gm,useClass:v3,multi:!0,deps:[vt]},{provide:Km,useClass:Km,deps:[qm,hf,nf,KM]},{provide:Uh,useExisting:Km},{provide:WM,useExisting:hf},{provide:hf,useClass:hf,deps:[vt]},{provide:qm,useClass:qm,deps:[Gm,We]},{provide:class M${},useClass:l3,deps:[]},[]];let oP=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:nf,useValue:e.appId},{provide:$M,useExisting:nf},o3]}}}return n.\u0275fac=function(e){return new(e||n)(R(iP,12))},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({providers:[...sP,...rP],imports:[cf,Jj]}),n})(),aP=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:function(e){let i=null;return i=e?new e:function S3(){return new aP(R(vt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let uP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(e){let i=null;return i=e?new(e||n):R(dP),i},providedIn:"root"}),n})(),dP=(()=>{class n extends uP{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case zt.NONE:return i;case zt.HTML:return Ts(i,"HTML")?dr(i):PS(this._doc,String(i)).toString();case zt.STYLE:return Ts(i,"Style")?dr(i):i;case zt.SCRIPT:if(Ts(i,"Script"))return dr(i);throw new Error("unsafe value used in a script context");case zt.URL:return Ts(i,"URL")?dr(i):Qg(String(i));case zt.RESOURCE_URL:if(Ts(i,"ResourceURL"))return dr(i);throw new Error(`unsafe value used in a resource URL context (see ${$})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${$})`)}}bypassSecurityTrustHtml(e){return function aL(n){return new tL(n)}(e)}bypassSecurityTrustStyle(e){return function lL(n){return new nL(n)}(e)}bypassSecurityTrustScript(e){return function cL(n){return new iL(n)}(e)}bypassSecurityTrustUrl(e){return function uL(n){return new rL(n)}(e)}bypassSecurityTrustResourceUrl(e){return function dL(n){return new sL(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:function(e){let i=null;return i=e?new e:function P3(n){return new dP(n.get(vt))}(R(wi)),i},providedIn:"root"}),n})();const{isArray:k3}=Array,{getPrototypeOf:R3,prototype:O3,keys:x3}=Object;function hP(n){if(1===n.length){const t=n[0];if(k3(t))return{args:t,keys:null};if(function N3(n){return n&&"object"==typeof n&&R3(n)===O3}(t)){const e=x3(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:F3}=Array;function vw(n){return he(t=>function L3(n,t){return F3(t)?n(...t):n(t)}(n,t))}function fP(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}let pP=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(P(As),P(Wt))},n.\u0275dir=be({type:n}),n})(),Gl=(()=>{class n extends pP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kn(n)))(i||n)}}(),n.\u0275dir=be({type:n,features:[ut]}),n})();const Fs=new oe("NgValueAccessor"),B3={provide:Fs,useExisting:Ce(()=>Lo),multi:!0},H3=new oe("CompositionEventMode");let Lo=(()=>{class n extends pP{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j3(){const n=xo()?xo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(P(As),P(Wt),P(H3,8))},n.\u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Gt([B3]),ut]}),n})();const $3=!1;function Ta(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mP(n){return null!=n&&"number"==typeof n.length}const Ii=new oe("NgValidators"),Aa=new oe("NgAsyncValidators"),z3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fr{static min(t){return function _P(n){return t=>{if(Ta(t.value)||Ta(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function yP(n){return t=>{if(Ta(t.value)||Ta(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return vP(t)}static requiredTrue(t){return function bP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function CP(n){return Ta(n.value)||z3.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wP(n){return t=>Ta(t.value)||!mP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function EP(n){return t=>mP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function DP(n){if(!n)return Zm;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ta(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return PP(t)}static composeAsync(t){return kP(t)}}function vP(n){return Ta(n.value)?{required:!0}:null}function Zm(n){return null}function SP(n){return null!=n}function IP(n){const t=zh(n)?M(n):n;if($3&&!Xb(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new w(-1101,e)}return t}function TP(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function AP(n,t){return t.map(e=>e(n))}function MP(n){return n.map(t=>function W3(n){return!n.validate}(t)?t:e=>t.validate(e))}function PP(n){if(!n)return null;const t=n.filter(SP);return 0==t.length?null:function(e){return TP(AP(e,t))}}function bw(n){return null!=n?PP(MP(n)):null}function kP(n){if(!n)return null;const t=n.filter(SP);return 0==t.length?null:function(e){return function V3(...n){const t=gs(n),{args:e,keys:i}=hP(n),r=new ze(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let c=o,d=o;for(let p=0;p<o;p++){let g=!1;nn(e[p]).subscribe(ue(s,_=>{g||(g=!0,d--),a[p]=_},()=>c--,void 0,()=>{(!c||!g)&&(d||s.next(i?fP(i,a):a),s.complete())}))}});return t?r.pipe(vw(t)):r}(AP(e,t).map(IP)).pipe(he(TP))}}function Cw(n){return null!=n?kP(MP(n)):null}function RP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function OP(n){return n._rawValidators}function xP(n){return n._rawAsyncValidators}function ww(n){return n?Array.isArray(n)?n:[n]:[]}function Ym(n,t){return Array.isArray(n)?n.includes(t):n===t}function NP(n,t){const e=ww(t);return ww(n).forEach(r=>{Ym(e,r)||e.push(r)}),e}function FP(n,t){return ww(t).filter(e=>!Ym(n,e))}class LP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $i extends LP{get formDirective(){return null}get path(){return null}}class Ma extends LP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ql=(()=>{class n extends VP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Ma,2))},n.\u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Rn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ut]}),n})(),ff=(()=>{class n extends VP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P($i,10))},n.\u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Rn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ut]}),n})();function UP(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const Sw=!1,pf="VALID",Xm="INVALID",zu="PENDING",gf="DISABLED";function Iw(n){return(Jm(n)?n.validators:n)||null}function Tw(n,t){return(Jm(t)?t.asyncValidators:n)||null}function Jm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BP(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new w(1e3,Sw?function Z3(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new w(1001,Sw?function Y3(n,t){return`Cannot find form control ${UP(n,t)}`}(t,e):"")}function jP(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new w(1002,Sw?function Q3(n,t){return`Must supply a value for form control ${UP(n,t)}`}(t,r):"")})}class e_{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===pf}get invalid(){return this.status===Xm}get pending(){return this.status==zu}get disabled(){return this.status===gf}get enabled(){return this.status!==gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FP(t,this._rawAsyncValidators))}hasValidator(t){return Ym(this._rawValidators,t)}hasAsyncValidator(t){return Ym(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gf,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pf,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pf||this.status===zu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gf:pf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zu,this._hasOwnPendingAsyncValidator=!0;const e=IP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?gf:this.errors?Xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zu)?zu:this._anyControlsHaveStatus(Xm)?Xm:pf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function X3(n){return Array.isArray(n)?bw(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function J3(n){return Array.isArray(n)?Cw(n):n||null}(this._rawAsyncValidators)}}class Pa extends e_{constructor(t,e,i){super(Iw(e),Tw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){jP(this,!0,t),Object.keys(t).forEach(i=>{BP(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class HP extends Pa{}const Kl=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>mf}),mf="always";function t_(n,t){return[...t.path,n]}function _f(n,t,e=mf){Aw(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function tz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$P(n,t)})}(n,t),function iz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function nz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$P(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ez(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function n_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),r_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function i_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Aw(n,t){const e=OP(n);null!==t.validator?n.setValidators(RP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xP(n);null!==t.asyncValidator?n.setAsyncValidators(RP(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();i_(t._rawValidators,r),i_(t._rawAsyncValidators,r)}function r_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=OP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=xP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return i_(t._rawValidators,i),i_(t._rawAsyncValidators,i),e}function $P(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zP(n,t){Aw(n,t)}function Pw(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function WP(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function kw(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Lo?e=s:function oz(n){return Object.getPrototypeOf(n.constructor)===Gl}(s)?i=s:r=s}),r||i||e||null}const lz={provide:$i,useExisting:Ce(()=>s_)},yf=(()=>Promise.resolve())();let s_=(()=>{class n extends $i{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new Pa({},bw(e),Cw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){yf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),_f(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){yf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){yf.then(()=>{const i=this._findContainer(e.path),r=new Pa({});zP(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){yf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){yf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,WP(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(P(Ii,10),P(Aa,10),P(Kl,8))},n.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([lz]),ut]}),n})();function GP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function qP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ci=class extends e_{constructor(t=null,e,i){super(Iw(e),Tw(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){qP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let KP=(()=>{class n extends $i{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return t_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kn(n)))(i||n)}}(),n.\u0275dir=be({type:n,features:[ut]}),n})();const dz={provide:Ma,useExisting:Ce(()=>Wu)},YP=(()=>Promise.resolve())();let Wu=(()=>{class n extends Ma{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ci,this._registered=!1,this.update=new Tt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kw(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Pw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_f(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&$u(i);YP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?t_(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(P($i,9),P(Ii,10),P(Aa,10),P(Fs,10),P(Ns,8),P(Kl,8))},n.\u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([dz]),ut,_i]}),n})(),vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const hz={provide:Fs,useExisting:Ce(()=>o_),multi:!0};let o_=(()=>{class n extends Gl{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kn(n)))(i||n)}}(),n.\u0275dir=be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Oe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Gt([hz]),ut]}),n})(),QP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();const Rw=new oe("NgModelWithFormControlWarning"),_z={provide:$i,useExisting:Ce(()=>Gu)};let Gu=(()=>{class n extends $i{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(r_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return _f(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){n_(e.control||null,e,!1),function az(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,WP(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(n_(i||null,e),(n=>n instanceof ci)(r)&&(_f(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);zP(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function rz(n,t){return r_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Aw(this.form,this),this._oldForm&&r_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(P(Ii,10),P(Aa,10),P(Kl,8))},n.\u0275dir=be({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([_z]),ut,_i]}),n})();const yz={provide:$i,useExisting:Ce(()=>Ow)};let Ow=(()=>{class n extends KP{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){tk(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(P($i,13),P(Ii,10),P(Aa,10))},n.\u0275dir=be({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Gt([yz]),ut]}),n})();const vz={provide:$i,useExisting:Ce(()=>a_)};let a_=(()=>{class n extends $i{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return t_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){tk(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(P($i,13),P(Ii,10),P(Aa,10))},n.\u0275dir=be({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Gt([vz]),ut]}),n})();function tk(n){return!(n instanceof Ow||n instanceof Gu||n instanceof a_)}const bz={provide:Ma,useExisting:Ce(()=>bf)};let bf=(()=>{class n extends Ma{set isDisabled(e){}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Tt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kw(0,s)}ngOnChanges(e){this._added||this._setUpControl(),Pw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return t_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(P($i,13),P(Ii,10),P(Aa,10),P(Fs,10),P(Rw,8))},n.\u0275dir=be({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gt([bz]),ut,_i]}),n})(),Zl=(()=>{class n{constructor(){this._validator=Zm}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Zm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=be({type:n,features:[_i]}),n})();const Mz={provide:Ii,useExisting:Ce(()=>qu),multi:!0};let qu=(()=>{class n extends Zl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$u,this.createValidator=e=>vP}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kn(n)))(i||n)}}(),n.\u0275dir=be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&Di("required",i._enabled?"":null)},inputs:{required:"required"},features:[Gt([Mz]),ut]}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[QP]}),n})();class pk extends e_{constructor(t,e,i){super(Iw(e),Tw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){jP(this,!1,t),t.forEach((i,r)=>{BP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function gk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Nz=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return gk(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Pa(r,s)}record(e,i=null){const r=this._reduceControls(e);return new HP(r,i)}control(e,i,r){let s={};return this.useNonNullable?(gk(i)?s=i:(s.validators=i,s.asyncValidators=r),new ci(e,{...s,nonNullable:!0})):new ci(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new pk(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ci||e instanceof e_?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Kl,useValue:e.callSetDisabledState??mf}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[fk]}),n})(),Lz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Kl,useValue:e.callSetDisabledState??mf}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[fk]}),n})();function Se(...n){return M(n,ms(n))}class ui extends V{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const l_=Me(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Fw(...n){const t=ms(n),e=gs(n),{args:i,keys:r}=hP(n);if(0===i.length)return M([],t);const s=new ze(function Vz(n,t,e=hn){return i=>{mk(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let c=0;c<r;c++)mk(t,()=>{const d=M(n[c],t);let p=!1;d.subscribe(ue(i,g=>{s[c]=g,p||(p=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>fP(r,o):hn));return e?s.pipe(vw(e)):s}function mk(n,t,e){n?Qn(e,n,t):t()}function c_(...n){return function Uz(){return Ki(1)}()(M(n,ms(n)))}function _k(n){return new ze(t=>{nn(n()).subscribe(t)})}function Cf(n,t){const e=C(n)?n:()=>n,i=r=>r.error(e());return new ze(t?r=>t.schedule(i,0,r):i)}function Lw(){return j((n,t)=>{let e=null;n._refCount++;const i=ue(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class yk extends ze{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,X(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;const e=this.getSubject();t.add(this.source.subscribe(ue(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return Lw()(this)}}function En(n,t){return j((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(ue(i,c=>{r?.unsubscribe();let d=0;const p=s++;nn(n(c,p)).subscribe(r=ue(i,g=>i.next(t?t(c,g,p,d++):g),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function os(n){return n<=0?()=>yn:j((t,e)=>{let i=0;t.subscribe(ue(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Vw(...n){const t=ms(n);return j((e,i)=>{(t?c_(n,e,t):c_(n,e)).subscribe(i)})}function Yn(n,t){return j((e,i)=>{let r=0;e.subscribe(ue(i,s=>n.call(t,s,r++)&&i.next(s)))})}function u_(n){return j((t,e)=>{let i=!1;t.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vk(n=Bz){return j((t,e)=>{let i=!1;t.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Bz(){return new l_}function Vo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yn((r,s)=>n(r,s,i)):hn,os(1),e?u_(t):vk(()=>new l_))}function Yl(n,t){return C(t)?Rt(n,t,1):Rt(n,1)}function di(n,t,e){const i=C(n)||t||e?{next:n,error:t,complete:e}:n;return i?j((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ue(s,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),s.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,c),s.error(c)},()=>{var c,d;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):hn}function ka(n){return j((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ue(e,void 0,void 0,o=>{s=nn(n(o,ka(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function d_(n,t){return j(function jz(n,t,e,i,r){return(s,o)=>{let a=e,c=t,d=0;s.subscribe(ue(o,p=>{const g=d++;c=a?n(c,p,g):(a=!0,p),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}(n,t,arguments.length>=2,!0))}function Uw(n){return n<=0?()=>yn:j((t,e)=>{let i=[];t.subscribe(ue(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function bk(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yn((r,s)=>n(r,s,i)):hn,Uw(1),e?u_(t):vk(()=>new l_))}function Bw(n){return j((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Ge="primary",wf=Symbol("RouteTitle");class zz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ku(n){return new zz(n)}function Wz(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ls(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Ck(n[r],t[r]))return!1;return!0}function Ck(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function wk(n){return Array.prototype.concat.apply([],n)}function Ek(n){return n.length>0?n[n.length-1]:null}function hi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ra(n){return Xb(n)?n:zh(n)?M(Promise.resolve(n)):Se(n)}const h_=!1,qz={exact:function Ik(n,t,e){if(!Ql(n.segments,t.segments)||!f_(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ik(n.children[i],t.children[i],e))return!1;return!0},subset:Tk},Dk={exact:function Kz(n,t){return Ls(n,t)},subset:function Zz(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ck(n[e],t[e]))},ignored:()=>!0};function Sk(n,t,e){return qz[e.paths](n.root,t.root,e.matrixParams)&&Dk[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Tk(n,t,e){return Ak(n,t,t.segments,e)}function Ak(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ql(r,e)||t.hasChildren()||!f_(r,e,i))}if(n.segments.length===e.length){if(!Ql(n.segments,e)||!f_(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Tk(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ql(n.segments,r)&&f_(n.segments,r,i)&&n.children[Ge])&&Ak(n.children[Ge],t,s,i)}}function f_(n,t,e){return t.every((i,r)=>Dk[e](n[r].parameters,i.parameters))}class Oa{constructor(t=new it([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return Xz.serialize(this)}}class it{constructor(t,e){this.segments=t,this.children=e,this.parent=null,hi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return p_(this)}}class Ef{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ku(this.parameters)),this._parameterMap}toString(){return kk(this)}}function Ql(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return new jw},providedIn:"root"}),n})();class jw{parse(t){const e=new aW(t);return new Oa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sf(t.root,!0)}`,i=function tW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${g_(e)}=${g_(r)}`).join("&"):`${g_(e)}=${g_(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Jz(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Xz=new jw;function p_(n){return n.segments.map(t=>kk(t)).join("/")}function Sf(n,t){if(!n.hasChildren())return p_(n);if(t){const e=n.children[Ge]?Sf(n.children[Ge],!1):"",i=[];return hi(n.children,(r,s)=>{s!==Ge&&i.push(`${s}:${Sf(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Qz(n,t){let e=[];return hi(n.children,(i,r)=>{r===Ge&&(e=e.concat(t(i,r)))}),hi(n.children,(i,r)=>{r!==Ge&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ge?[Sf(n.children[Ge],!1)]:[`${r}:${Sf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ge]?`${p_(n)}/${e[0]}`:`${p_(n)}/(${e.join("//")})`}}function Mk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g_(n){return Mk(n).replace(/%3B/gi,";")}function Hw(n){return Mk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m_(n){return decodeURIComponent(n)}function Pk(n){return m_(n.replace(/\+/g,"%20"))}function kk(n){return`${Hw(n.path)}${function eW(n){return Object.keys(n).map(t=>`;${Hw(t)}=${Hw(n[t])}`).join("")}(n.parameters)}`}const nW=/^[^\/()?;=#]+/;function __(n){const t=n.match(nW);return t?t[0]:""}const iW=/^[^=?&#]+/,sW=/^[^&#]+/;class aW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ge]=new it(t,e)),i}parseSegment(){const t=__(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new w(4009,h_);return this.capture(t),new Ef(m_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=__(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=__(this.remaining);r&&(i=r,this.capture(i))}t[m_(e)]=m_(i)}parseQueryParam(t){const e=function rW(n){const t=n.match(iW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function oW(n){const t=n.match(sW);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Pk(e),s=Pk(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=__(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new w(4010,h_);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ge);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ge]:new it([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new w(4011,h_)}}function $w(n){return n.segments.length>0?new it([],{[Ge]:n}):n}function y_(n){const t={};for(const i of Object.keys(n.children)){const s=y_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function lW(n){if(1===n.numberOfChildren&&n.children[Ge]){const t=n.children[Ge];return new it(n.segments.concat(t.segments),t.children)}return n}(new it(n.segments,t))}function Xl(n){return n instanceof Oa}const zw=!1;function cW(n,t,e,i,r){if(0===e.length)return Zu(t.root,t.root,t.root,i,r);const s=function Fk(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nk(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return hi(s.outlets,(c,d)=>{a[d]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Nk(e,t,i)}(e);return s.toRoot()?Zu(t.root,t.root,new it([],{}),i,r):function o(c){const d=function dW(n,t,e,i){if(n.isAbsolute)return new Yu(t.root,!0,0);if(-1===i)return new Yu(e,e===t.root,0);return function Lk(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new w(4005,zw&&"Invalid number of '../'");r=i.segments.length}return new Yu(i,!1,r-s)}(e,i+(If(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,c),p=d.processChildren?Qu(d.segmentGroup,d.index,s.commands):Ww(d.segmentGroup,d.index,s.commands);return Zu(t.root,d.segmentGroup,p,i,r)}(n.snapshot?._lastPathIndex)}function If(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Zu(n,t,e,i,r){let o,s={};i&&hi(i,(c,d)=>{s[d]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),o=n===t?e:xk(n,t,e);const a=$w(y_(o));return new Oa(a,s,r)}function xk(n,t,e){const i={};return hi(n.children,(r,s)=>{i[s]=r===t?e:xk(r,t,e)}),new it(n.segments,i)}class Nk{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&If(i[0]))throw new w(4003,zw&&"Root segment cannot have matrix parameters");const r=i.find(Tf);if(r&&r!==Ek(i))throw new w(4004,zw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ww(n,t,e){if(n||(n=new it([],{})),0===n.segments.length&&n.hasChildren())return Qu(n,t,e);const i=function fW(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Tf(a))break;const c=`${a}`,d=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!Uk(c,d,o))return s;i+=2}else{if(!Uk(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new it(n.segments.slice(0,i.pathIndex),{});return s.children[Ge]=new it(n.segments.slice(i.pathIndex),n.children),Qu(s,0,r)}return i.match&&0===r.length?new it(n.segments,{}):i.match&&!n.hasChildren()?Gw(n,t,e):i.match?Qu(n,0,r):Gw(n,t,e)}function Qu(n,t,e){if(0===e.length)return new it(n.segments,{});{const i=function hW(n){return Tf(n[0])?n[0].outlets:{[Ge]:n}}(e),r={};if(!i[Ge]&&n.children[Ge]&&1===n.numberOfChildren&&0===n.children[Ge].segments.length){const s=Qu(n.children[Ge],t,e);return new it(n.segments,s.children)}return hi(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Ww(n.children[o],t,s))}),hi(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new it(n.segments,r)}}function Gw(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Tf(s)){const c=pW(s.outlets);return new it(i,c)}if(0===r&&If(e[0])){i.push(new Ef(n.segments[t].path,Vk(e[0]))),r++;continue}const o=Tf(s)?s.outlets[Ge]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&If(a)?(i.push(new Ef(o,Vk(a))),r+=2):(i.push(new Ef(o,{})),r++)}return new it(i,{})}function pW(n){const t={};return hi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Gw(new it([],{}),0,e))}),t}function Vk(n){const t={};return hi(n,(e,i)=>t[i]=`${e}`),t}function Uk(n,t,e){return n==e.path&&Ls(t,e.parameters)}const Af="imperative";class Vs{constructor(t,e){this.id=t,this.url=e}}class qw extends Vs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Us extends Vs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class v_ extends Vs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class b_ extends Vs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Kw extends Vs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gW extends Vs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mW extends Vs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _W extends Vs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yW extends Vs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vW extends Vs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wW{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EW{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DW{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SW{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bk{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let AW=(()=>{class n{createUrlTree(e,i,r,s,o,a){return cW(e||i.root,r,s,o,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),PW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(t){return AW.\u0275fac(t)},providedIn:"root"}),n})();class jk{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Zw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Yw(t,this._root).map(e=>e.value)}}function Zw(n,t){if(n===t.value)return t;for(const e of t.children){const i=Zw(n,e);if(i)return i}return null}function Yw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Yw(n,e);if(i.length)return i.unshift(t),i}return[]}class Uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Hk extends jk{constructor(t,e){super(t),this.snapshot=e,Qw(this,t)}toString(){return this.snapshot.toString()}}function $k(n,t){const e=function kW(n,t){const o=new C_([],{},{},"",{},Ge,t,null,n.root,-1,{});return new Wk("",new Uo(o,[]))}(n,t),i=new ui([new Ef("",{})]),r=new ui({}),s=new ui({}),o=new ui({}),a=new ui(""),c=new Bs(i,r,o,a,s,Ge,t,e.root);return c.snapshot=e.root,new Hk(new Uo(c,[]),e)}class Bs{constructor(t,e,i,r,s,o,a,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(he(d=>d[wf]))??Se(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(t=>Ku(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(t=>Ku(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zk(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function RW(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class C_{get title(){return this.data?.[wf]}constructor(t,e,i,r,s,o,a,c,d,p,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=d,this._lastPathIndex=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wk extends jk{constructor(t,e){super(e),this.url=t,Qw(this,e)}toString(){return Gk(this._root)}}function Qw(n,t){t.value._routerState=n,t.children.forEach(e=>Qw(n,e))}function Gk(n){const t=n.children.length>0?` { ${n.children.map(Gk).join(", ")} } `:"";return`${n.value}${t}`}function Xw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ls(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ls(t.params,e.params)||n.params.next(e.params),function Gz(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ls(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ls(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jw(n,t){const e=Ls(n.params,t.params)&&function Yz(n,t){return Ql(n,t)&&n.every((e,i)=>Ls(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Jw(n.parent,t.parent))}function Mf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function xW(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Mf(n,i,r);return Mf(n,i)})}(n,t,e);return new Uo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Mf(n,a)),o}}const i=function NW(n){return new Bs(new ui(n.url),new ui(n.params),new ui(n.queryParams),new ui(n.fragment),new ui(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Mf(n,s));return new Uo(i,r)}}const eE="ngNavigationCancelingError";function qk(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Xl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Kk(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Kk(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[eE]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Zk(n){return Yk(n)&&Xl(n.url)}function Yk(n){return n&&n[eE]}class FW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pf,this.attachRef=null}}let Pf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new FW,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w_=!1;let Qk=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=Qe(Pf),this.location=Qe(Or),this.changeDetector=Qe(Ns),this.environmentInjector=Qe(Do)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,w_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,w_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,w_);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new w(4013,w_);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new LW(e,a,r.injector);if(i&&function VW(n){return!!n.resolveComponentFactory}(i)){const d=i.resolveComponentFactory(o);this.activated=r.createComponent(d,r.length,c)}else this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),n})();class LW{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Bs?this.route:t===Pf?this.childContexts:this.parent.get(t,e)}}let tE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nt({type:n,selectors:[["ng-component"]],standalone:!0,features:[mC],decls:1,vars:0,template:function(e,i){1&e&&Ie(0,"router-outlet")},dependencies:[Qk],encapsulation:2}),n})();function Xk(n,t){return n.providers&&!n._injector&&(n._injector=vm(n.providers,t,`Route: ${n.path}`)),n._injector??t}function iE(n){const t=n.children&&n.children.map(iE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ge&&(e.component=tE),e}function Fr(n){return n.outlet||Ge}function Jk(n,t){const e=n.filter(i=>Fr(i)===t);return e.push(...n.filter(i=>Fr(i)!==t)),e}function kf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class $W{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Xw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Xu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),hi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Xu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Xu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Xu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new SW(s.value.snapshot))}),t.children.length&&this.forwardEvent(new EW(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Xw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xw(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=kf(r.snapshot),c=a?.get(Ll)??null;o.attachRef=null,o.route=r,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class eR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class E_{constructor(t,e){this.component=t,this.route=e}}function zW(n,t,e){const i=n._root;return Rf(i,t?t._root:null,e,[i.value])}function Ju(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function el(n){return null!==ta(n)}(n)?t.get(n):n:i}function Rf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xu(t);return n.children.forEach(o=>{(function GW(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function qW(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ql(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ql(n.url,t.url)||!Ls(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jw(n,t)||!Ls(n.queryParams,t.queryParams);default:return!Jw(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new eR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Rf(n,t,s.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new E_(a.outlet.component,o))}else o&&Of(t,a,r),r.canActivateChecks.push(new eR(i)),Rf(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),hi(s,(o,a)=>Of(o,e.getContext(a),r)),r}function Of(n,t,e){const i=Xu(n),r=n.value;hi(i,(s,o)=>{Of(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new E_(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function xf(n){return"function"==typeof n}function rE(n){return n instanceof l_||"EmptyError"===n?.name}const D_=Symbol("INITIAL_VALUE");function ed(){return En(n=>Fw(n.map(t=>t.pipe(os(1),Vw(D_)))).pipe(he(t=>{for(const e of t)if(!0!==e){if(e===D_)return D_;if(!1===e||e instanceof Oa)return e}return!0}),Yn(t=>t!==D_),os(1)))}function tR(n){return function Dr(...n){return Sr(n)}(di(t=>{if(Xl(t))throw qk(0,t)}),he(t=>!0===t))}const sE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nR(n,t,e,i,r){const s=oE(n,t,e);return s.matched?function u8(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Se(r.map(o=>{const a=Ju(o,n);return Ra(function JW(n){return n&&xf(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(ed(),tR()):Se(!0)}(i=Xk(t,i),t,e).pipe(he(o=>!0===o?s:{...sE})):Se(s)}function oE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...sE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Wz)(e,n,t);if(!r)return{...sE};const s={};hi(r.posParams,(a,c)=>{s[c]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function S_(n,t,e,i){if(e.length>0&&function f8(n,t,e){return e.some(i=>I_(n,t,i)&&Fr(i)!==Ge)}(n,e,i)){const s=new it(t,function h8(n,t,e,i){const r={};r[Ge]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Fr(s)!==Ge){const o=new it([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[Fr(s)]=o}return r}(n,t,i,new it(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function p8(n,t,e){return e.some(i=>I_(n,t,i))}(n,e,i)){const s=new it(n.segments,function d8(n,t,e,i,r){const s={};for(const o of i)if(I_(n,e,o)&&!r[Fr(o)]){const a=new it([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,s[Fr(o)]=a}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new it(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function I_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function iR(n,t,e,i){return!!(Fr(n)===i||i!==Ge&&I_(t,e,n))&&("**"===n.path||oE(t,n,e).matched)}function rR(n,t,e){return 0===t.length&&!n.children[e]}const T_=!1;class A_{constructor(t){this.segmentGroup=t||null}}class sR{constructor(t){this.urlTree=t}}function Nf(n){return Cf(new A_(n))}function oR(n){return Cf(new sR(n))}class y8{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=S_(this.urlTree.root,[],[],this.config).segmentGroup,e=new it(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ge).pipe(he(s=>this.createUrlTree(y_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ka(s=>{if(s instanceof sR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof A_?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ge).pipe(he(r=>this.createUrlTree(y_(r),t.queryParams,t.fragment))).pipe(ka(r=>{throw r instanceof A_?this.noMatchError(r):r}))}noMatchError(t){return new w(4002,T_)}createUrlTree(t,e,i){const r=$w(t);return new Oa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(he(s=>new it([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return M(r).pipe(Yl(s=>{const o=i.children[s],a=Jk(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(he(c=>({segment:c,outlet:s})))}),d_((s,o)=>(s[o.outlet]=o.segment,s),{}),bk())}expandSegment(t,e,i,r,s,o){return M(i).pipe(Yl(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(ka(d=>{if(d instanceof A_)return Se(null);throw d}))),Vo(a=>!!a),ka((a,c)=>{if(rE(a))return rR(e,r,s)?Se(new it([],{})):Nf(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return iR(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):Nf(e):Nf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oR(s):this.lineralizeSegments(i,s).pipe(Rt(o=>{const a=new it(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:c,remainingSegments:d,positionalParamSegments:p}=oE(e,r,s);if(!a)return Nf(e);const g=this.applyRedirectCommands(c,r.redirectTo,p);return r.redirectTo.startsWith("/")?oR(g):this.lineralizeSegments(r,g).pipe(Rt(_=>this.expandSegment(t,e,i,_.concat(d),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Xk(i,t),i.loadChildren?(i._loadedRoutes?Se({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(he(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new it(r,{})))):Se(new it(r,{}))):nR(e,i,r,t).pipe(En(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(Rt(p=>{const g=p.injector??t,_=p.routes,{segmentGroup:v,slicedSegments:b}=S_(e,a,c,_),I=new it(v.segments,v.children);if(0===b.length&&I.hasChildren())return this.expandChildren(g,_,I).pipe(he(x=>new it(a,x)));if(0===_.length&&0===b.length)return Se(new it(a,{}));const k=Fr(i)===s;return this.expandSegment(g,I,_,b,k?Ge:s,!0).pipe(he(Y=>new it(a.concat(Y.segments),Y.children)))})):Nf(e)))}getChildConfig(t,e,i){return e.children?Se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Se({routes:e._loadedRoutes,injector:e._loadedInjector}):function c8(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Se(!0):Se(r.map(o=>{const a=Ju(o,n);return Ra(function ZW(n){return n&&xf(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(ed(),tR())}(t,e,i).pipe(Rt(r=>r?this.configLoader.loadChildren(t,e).pipe(di(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function m8(n){return Cf(Kk(T_,3))}())):Se({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Se(i);if(r.numberOfChildren>1||!r.children[Ge])return t.redirectTo,Cf(new w(4e3,T_));r=r.children[Ge]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Oa(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return hi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return hi(e.children,(a,c)=>{o[c]=this.createSegmentGroup(t,a,i,r)}),new it(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new w(4001,T_);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class b8{}class E8{constructor(t,e,i,r,s,o,a){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const t=S_(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ge).pipe(he(e=>{if(null===e)return null;const i=new C_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uo(i,e),s=new Wk(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=zk(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return M(Object.keys(i.children)).pipe(Yl(r=>{const s=i.children[r],o=Jk(e,r);return this.processSegmentGroup(t,o,s,r)}),d_((r,s)=>r&&s?(r.push(...s),r):null),function Hz(n,t=!1){return j((e,i)=>{let r=0;e.subscribe(ue(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),u_(null),bk(),he(r=>{if(null===r)return null;const s=lR(r);return function D8(n){n.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return M(e).pipe(Yl(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),Vo(o=>!!o),ka(o=>{if(rE(o))return rR(i,r,s)?Se([]):Se(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!iR(e,i,r,s))return Se(null);let o;if("**"===e.path){const a=r.length>0?Ek(r).parameters:{},c=uR(i)+r.length;o=Se({snapshot:new C_(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dR(e),Fr(e),e.component??e._loadedComponent??null,e,cR(i),c,hR(e)),consumedSegments:[],remainingSegments:[]})}else o=nR(i,e,r,t).pipe(he(({matched:a,consumedSegments:c,remainingSegments:d,parameters:p})=>{if(!a)return null;const g=uR(i)+c.length;return{snapshot:new C_(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dR(e),Fr(e),e.component??e._loadedComponent??null,e,cR(i),g,hR(e)),consumedSegments:c,remainingSegments:d}}));return o.pipe(En(a=>{if(null===a)return Se(null);const{snapshot:c,consumedSegments:d,remainingSegments:p}=a;t=e._injector??t;const g=e._loadedInjector??t,_=function S8(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:v,slicedSegments:b}=S_(i,d,p,_.filter(k=>void 0===k.redirectTo));if(0===b.length&&v.hasChildren())return this.processChildren(g,_,v).pipe(he(k=>null===k?null:[new Uo(c,k)]));if(0===_.length&&0===b.length)return Se([new Uo(c,[])]);const I=Fr(e)===s;return this.processSegment(g,_,v,b,I?Ge:s).pipe(he(k=>null===k?null:[new Uo(c,k)]))}))}}function I8(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function lR(n){const t=[],e=new Set;for(const i of n){if(!I8(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=lR(i.children);t.push(new Uo(i.value,r))}return t.filter(i=>!e.has(i))}function cR(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function uR(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function dR(n){return n.data||{}}function hR(n){return n.resolve||{}}function fR(n){return"string"==typeof n.title||null===n.title}function aE(n){return En(t=>{const e=n(t);return e?M(e).pipe(he(()=>t)):Se(t)})}const td=new oe("ROUTES");let lE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Qe(jA)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ra(e.loadComponent()).pipe(he(gR),di(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Bw(()=>{this.componentLoaders.delete(e)})),r=new yk(i,()=>new V).pipe(Lw());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,d,p=!1;Array.isArray(a)?d=a:(c=a.create(e).injector,d=wk(c.get(td,[],Re.Self|Re.Optional)));return{routes:d.map(iE),injector:c}}),Bw(()=>{this.childrenLoaders.delete(i)})),o=new yk(s,()=>new V).pipe(Lw());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return Ra(e()).pipe(he(gR),Rt(i=>i instanceof JT||Array.isArray(i)?Se(i):M(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gR(n){return function x8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let P_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new V,this.configLoader=Qe(lE),this.environmentInjector=Qe(Do),this.urlSerializer=Qe(Df),this.rootContexts=Qe(Pf),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new CW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new bW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new ui({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Af,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yn(i=>0!==i.id),he(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),En(i=>{let r=!1,s=!1;return Se(i).pipe(di(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),En(o=>{const a=e.browserUrlTree.toString(),c=!e.navigated||o.extractedUrl.toString()!==a||a!==e.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new b_(o.id,e.serializeUrl(i.rawUrl),p,0)),e.rawUrlTree=o.rawUrl,o.resolve(null),yn}if(e.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return mR(o.source)&&(e.browserUrlTree=o.extractedUrl),Se(o).pipe(En(p=>{const g=this.transitions?.getValue();return this.events.next(new qw(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?yn:Promise.resolve(p)}),function v8(n,t,e,i){return En(r=>function _8(n,t,e,i,r){return new y8(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(he(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),di(p=>{this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects},i.urlAfterRedirects=p.urlAfterRedirects}),function A8(n,t,e,i,r){return Rt(s=>function w8(n,t,e,i,r,s,o="emptyOnly"){return new E8(n,t,e,i,r,o,s).recognize().pipe(En(a=>null===a?function C8(n){return new ze(t=>t.error(n))}(new b8):Se(a)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(he(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),di(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!p.extras.skipLocationChange){const _=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);e.setBrowserUrl(_,p)}e.browserUrlTree=p.urlAfterRedirects}const g=new gW(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(c&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:p,extractedUrl:g,source:_,restoredState:v,extras:b}=o,I=new qw(p,this.urlSerializer.serialize(g),_,v);this.events.next(I);const k=$k(g,this.rootComponentType).snapshot;return Se(i={...o,targetSnapshot:k,urlAfterRedirects:g,extras:{...b,skipLocationChange:!1,replaceUrl:!1}})}{const p="";return this.events.next(new b_(o.id,e.serializeUrl(i.extractedUrl),p,1)),e.rawUrlTree=o.rawUrl,o.resolve(null),yn}}),di(o=>{const a=new mW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),he(o=>i={...o,guards:zW(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function t8(n,t){return Rt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Se({...e,guardsResult:!0}):function n8(n,t,e,i){return M(n).pipe(Rt(r=>function l8(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Se(s.map(a=>{const c=kf(t)??r,d=Ju(a,c);return Ra(function XW(n){return n&&xf(n.canDeactivate)}(d)?d.canDeactivate(n,t,e,i):c.runInContext(()=>d(n,t,e,i))).pipe(Vo())})).pipe(ed()):Se(!0)}(r.component,r.route,e,t,i)),Vo(r=>!0!==r,!0))}(o,i,r,n).pipe(Rt(a=>a&&function KW(n){return"boolean"==typeof n}(a)?function i8(n,t,e,i){return M(t).pipe(Yl(r=>c_(function s8(n,t){return null!==n&&t&&t(new wW(n)),Se(!0)}(r.route.parent,i),function r8(n,t){return null!==n&&t&&t(new DW(n)),Se(!0)}(r.route,i),function a8(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function WW(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>_k(()=>Se(o.guards.map(c=>{const d=kf(o.node)??e,p=Ju(c,d);return Ra(function QW(n){return n&&xf(n.canActivateChild)}(p)?p.canActivateChild(i,n):d.runInContext(()=>p(i,n))).pipe(Vo())})).pipe(ed())));return Se(s).pipe(ed())}(n,r.path,e),function o8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Se(!0);const r=i.map(s=>_k(()=>{const o=kf(t)??e,a=Ju(s,o);return Ra(function YW(n){return n&&xf(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Vo())}));return Se(r).pipe(ed())}(n,r.route,e))),Vo(r=>!0!==r,!0))}(i,s,n,t):Se(a)),he(a=>({...e,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),di(o=>{if(i.guardsResult=o.guardsResult,Xl(o.guardsResult))throw qk(0,o.guardsResult);const a=new _W(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Yn(o=>!!o.guardsResult||(e.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),aE(o=>{if(o.guards.canActivateChecks.length)return Se(o).pipe(di(a=>{const c=new yW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),En(a=>{let c=!1;return Se(a).pipe(function M8(n,t){return Rt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Se(e);let s=0;return M(r).pipe(Yl(o=>function P8(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!fR(r)&&(s[wf]=r.title),function k8(n,t,e,i){const r=function R8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Se({});const s={};return M(r).pipe(Rt(o=>function O8(n,t,e,i){const r=kf(t)??i,s=Ju(n,r);return Ra(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Vo(),di(a=>{s[o]=a}))),Uw(1),function $z(n){return he(()=>n)}(s),ka(o=>rE(o)?yn:Cf(o)))}(s,n,t,i).pipe(he(o=>(n._resolvedData=o,n.data=zk(n,e).resolve,r&&fR(r)&&(n.data[wf]=r.title),null)))}(o.route,i,n,t)),di(()=>s++),Uw(1),Rt(o=>s===r.length?Se(e):yn))})}(e.paramsInheritanceStrategy,this.environmentInjector),di({next:()=>c=!0,complete:()=>{c||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),di(a=>{const c=new vW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),aE(o=>{const a=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(di(p=>{c.component=p}),he(()=>{})));for(const p of c.children)d.push(...a(p));return d};return Fw(a(o.targetSnapshot.root)).pipe(u_(),os(1))}),aE(()=>this.afterPreactivation()),he(o=>{const a=function OW(n,t,e){const i=Mf(n,t._root,e?e._root:void 0);return new Hk(i,t)}(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),di(o=>{e.currentUrlTree=o.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),e.routerState=o.targetRouterState,"deferred"===e.urlUpdateStrategy&&(o.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,o),e.browserUrlTree=o.urlAfterRedirects)}),((n,t,e)=>he(i=>(new $W(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o)),os(1),di({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Us(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Bw(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ka(o=>{if(s=!0,Yk(o)){Zk(o)||(e.navigated=!0,e.restoreHistory(i,!0));const a=new v_(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),Zk(o)){const c=e.urlHandlingStrategy.merge(o.url,e.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||mR(i.source)};e.scheduleNavigation(c,Af,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const a=new Kw(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(e.errorHandler(o))}catch(c){i.reject(c)}}return yn}))}))}cancelNavigationTransition(e,i,r){const s=new v_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mR(n){return n!==Af}let _R=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ge);return i}getResolvedTitleForRoute(e){return e.data[wf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return Qe(N8)},providedIn:"root"}),n})(),N8=(()=>{class n extends _R{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(R(aP))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return Qe(V8)},providedIn:"root"}),n})();class L8{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let V8=(()=>{class n extends L8{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kn(n)))(i||n)}}(),n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k_=new oe("",{providedIn:"root",factory:()=>({})});let B8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(){return Qe(j8)},providedIn:"root"}),n})(),j8=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H8(n){throw n}function $8(n,t,e){return t.parse("/")}const z8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Qe(vj),this.isNgZoneEnabled=!1,this.options=Qe(k_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||H8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Qe(B8),this.routeReuseStrategy=Qe(F8),this.urlCreationStrategy=Qe(PW),this.titleStrategy=Qe(_R),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wk(Qe(td,{optional:!0})??[]),this.navigationTransitions=Qe(P_),this.urlSerializer=Qe(Df),this.location=Qe(Rm),this.isNgZoneEnabled=Qe(We)instanceof We&&We.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Oa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$k(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Af,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(iE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:o;let p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}return null!==p&&(p=this.removeEmptyProps(p)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,p,d??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Af,null,i)}navigate(e,i={skipLocationChange:!1}){return function G8(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new w(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...z8}:!1===i?{...W8}:i,Xl(e))return Sk(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Sk(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,d,p;return o?(a=o.resolve,c=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,c=_}),p="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:p,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bo=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new V;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(d=>{d instanceof Us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=$u(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=$u(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=$u(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function RS(n,t,e){return function IL(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?kS:Ea}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(P(mn),P(Bs),function ru(n){return function ah(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Zc(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(bn(),n)}("tabindex"),P(As),P(Wt),P(Wl))},n.\u0275dir=be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&Oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Di("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_i]}),n})();class yR{}let Z8=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(e=>e instanceof Us),Yl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=vm(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return M(r).pipe(Ki())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Se(null);const s=r.pipe(Rt(o=>null===o?Se(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?M([s,this.loader.loadComponent(i)]).pipe(Ki()):s})}}return n.\u0275fac=function(e){return new(e||n)(R(mn),R(jA),R(Do),R(yR),R(lE))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uE=new oe("");let vR=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Us&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Bk&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bk(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){!function lI(){throw new Error("invalid")}()},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();var pr=(()=>((pr=pr||{})[pr.COMPLETE=0]="COMPLETE",pr[pr.FAILED=1]="FAILED",pr[pr.REDIRECTING=2]="REDIRECTING",pr))();const nd=!1;function xa(n,t){return{\u0275kind:n,\u0275providers:t}}const dE=new oe("",{providedIn:"root",factory:()=>!1});function CR(){const n=Qe(wi);return t=>{const e=n.get(Hu);if(t!==e.components[0])return;const i=n.get(mn),r=n.get(wR);1===n.get(hE)&&i.initialNavigation(),n.get(ER,null,Re.Optional)?.setUpPreloading(),n.get(uE,null,Re.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const wR=new oe(nd?"bootstrap done indicator":"",{factory:()=>new V}),hE=new oe(nd?"initial navigation":"",{providedIn:"root",factory:()=>1});function e5(){let n=[];return n=nd?[{provide:Jg,multi:!0,useFactory:()=>{const t=Qe(mn);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function IW(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],xa(1,n)}const ER=new oe(nd?"router preloader":"");function t5(n){return xa(0,[{provide:ER,useExisting:Z8},{provide:yR,useExisting:n}])}const Ff=!1,DR=new oe(Ff?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),n5=[Rm,{provide:Df,useClass:jw},mn,Pf,{provide:Bs,useFactory:function bR(n){return n.routerState.root},deps:[mn]},lE,Ff?{provide:dE,useValue:!0}:[]];function r5(){return new ZA("Router",mn)}let SR=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[n5,Ff&&i?.enableTracing?e5().\u0275providers:[],{provide:td,multi:!0,useValue:e},{provide:DR,useFactory:l5,deps:[[mn,new yo,new Sl]]},{provide:k_,useValue:i||{}},i?.useHash?{provide:Wl,useClass:oH}:{provide:Wl,useClass:yM},{provide:uE,useFactory:()=>{const n=Qe(I$),t=Qe(We),e=Qe(k_),i=Qe(P_),r=Qe(Df);return e.scrollOffset&&n.setOffset(e.scrollOffset),new vR(r,i,n,t,e)}},i?.preloadingStrategy?t5(i.preloadingStrategy).\u0275providers:[],{provide:ZA,multi:!0,useFactory:r5},i?.initialNavigation?c5(i):[],[{provide:IR,useFactory:CR},{provide:KA,multi:!0,useExisting:IR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:td,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(R(DR,8))},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[tE]}),n})();function l5(n){if(Ff&&n)throw new w(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function c5(n){return["disabled"===n.initialNavigation?xa(3,[{provide:Sm,multi:!0,useFactory:()=>{const t=Qe(mn);return()=>{t.setUpLocationChangeListener()}}},{provide:hE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xa(2,[{provide:hE,useValue:0},{provide:Sm,multi:!0,deps:[wi],useFactory:t=>{const e=t.get(rH,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(mn),s=t.get(wR);(function Y8(n,t){n.events.pipe(Yn(e=>e instanceof Us||e instanceof v_||e instanceof Kw||e instanceof b_),he(e=>e instanceof Us||e instanceof b_?pr.COMPLETE:e instanceof v_&&(0===e.code||1===e.code)?pr.REDIRECTING:pr.FAILED),Yn(e=>e!==pr.REDIRECTING),os(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(P_).afterPreactivation=()=>(i(!0),s.closed?Se(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const IR=new oe(Ff?"Router Initializer":"");class fE{}var js=Ue(881);(0,js.registerVersion)("firebase","10.8.0","app");class f5 extends at{constructor(t,e){super()}schedule(t,e=0){return this}}const R_={setInterval(n,t,...e){const{delegate:i}=R_;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=R_;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class O_ extends f5{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return R_.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&R_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ne(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const pE={now:()=>(pE.delegate||Date).now(),delegate:void 0};class Lf{constructor(t,e=Lf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Lf.now=pE.now;class x_ extends Lf{constructor(t,e=Lf.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const m5=new class g5 extends x_{}(class p5 extends O_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Vf=new x_(O_),_5=Vf,Uf=new So("ANGULARFIRE2_VERSION");class gE{constructor(){return((n,t)=>{const e=(0,js.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(v5)}}const v5="app-check";function id(){}class TR{zone;delegate;constructor(t,e=m5){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class b5{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",id,{},id,id)),e.pipe(di({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mE=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new TR(Zone.current)),this.insideAngular=e.run(()=>new TR(Zone.current,Vf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(R(We))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function AR(n){return n.pipe(Xn(rd().outsideAngular))}function Hs(n){return function w5(n){return function(e){return(e=e.lift(new b5(n.ngZone))).pipe(mi(n.outsideAngular),Xn(n.insideAngular))}}(rd())(n)}var as=Ue(942);as.Z.registerVersion("firebase","10.8.0","app-compat");const I5=["ngOnDestroy"];class MR{constructor(t){return t}}const Bf=new oe("angularfire2.app.options"),jf=new oe("angularfire2.app.name");function N_(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=as.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>as.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;M5("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new MR(o)}const M5=(n,...t)=>{},P5={provide:MR,useFactory:N_,deps:[Bf,We,[new yo,jf]]};let k5=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:Bf,useValue:e},{provide:jf,useValue:i}]}}constructor(e){as.Z.registerVersion("angularfire",Uf.full,"core"),as.Z.registerVersion("angularfire",Uf.full,"app-compat"),as.Z.registerVersion("angular",$S.full,e.toString())}static \u0275fac=function(i){return new(i||n)(R(Hl))};static \u0275mod=tt({type:n});static \u0275inj=ct({providers:[P5]})}return n})();function _E(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function R5(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(PR("error",`${t} was already initialized on the ${e} Firebase App with different settings.${O5?" You may need to reload as Firebase is not HMR aware.":""}`),PR("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const O5=typeof module<"u"&&!!module.hot,PR=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ue(321);class x5 extends V{constructor(t=1/0,e=1/0,i=pE){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}}function kR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,N({connector:()=>new x5(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function RR(n,t){return C(t)?En(()=>n,t):En(()=>n)}const OR=new oe("angularfire2.auth.use-emulator"),xR=new oe("angularfire2.auth.settings"),NR=new oe("angularfire2.auth.tenant-id"),FR=new oe("angularfire2.auth.langugage-code"),LR=new oe("angularfire2.auth.use-device-language"),VR=new oe("angularfire.auth.persistence"),UR=(n,t,e,i,r,s,o,a)=>_E(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,s&&c.useDeviceLanguage(),o)for(const[d,p]of Object.entries(o))c.settings[d]=p;return a&&c.setPersistence(a),c},[e,i,r,s,o,a]);let F_=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,a,c,d,p,g,_,v){const b=new V,I=Se(void 0).pipe(Xn(o.outsideAngular),En(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ue.bind(Ue,321)))),he(()=>N_(e,s,i)),he(k=>UR(k,s,a,d,p,g,c,_)),kR({bufferSize:1,refCount:!1}));if(function S$(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Se(null);else{I.pipe(Vo()).subscribe();const k=I.pipe(En(x=>x.getRedirectResult().then(re=>re,()=>null)),Hs,kR({bufferSize:1,refCount:!1})),B=I.pipe(En(x=>new ze(re=>({unsubscribe:s.runOutsideAngular(()=>x.onAuthStateChanged(Pe=>re.next(Pe),Pe=>re.error(Pe),()=>re.complete()))})))),Y=I.pipe(En(x=>new ze(re=>({unsubscribe:s.runOutsideAngular(()=>x.onIdTokenChanged(Pe=>re.next(Pe),Pe=>re.error(Pe),()=>re.complete()))}))));this.authState=k.pipe(RR(B),mi(o.outsideAngular),Xn(o.insideAngular)),this.user=k.pipe(RR(Y),mi(o.outsideAngular),Xn(o.insideAngular)),this.idToken=this.user.pipe(En(x=>x?M(x.getIdToken()):Se(null))),this.idTokenResult=this.user.pipe(En(x=>x?M(x.getIdTokenResult()):Se(null))),this.credential=G(k,b,this.authState.pipe(Yn(x=>!x))).pipe(he(x=>x?.user?x:null),mi(o.outsideAngular),Xn(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(I5.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(d=>e.run(()=>d)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,d)=>o.then(p=>{const g=p?.(...d);return i?.spy?.apply&&i.spy.apply(s,d,g),g})})})}))(this,I,s,{spy:{apply:(k,B,Y)=>{(k.startsWith("signIn")||k.startsWith("createUser"))&&Y.then(x=>b.next(x))}}})}static \u0275fac=function(i){return new(i||n)(R(Bf),R(jf,8),R(Hl),R(We),R(mE),R(OR,8),R(xR,8),R(NR,8),R(FR,8),R(LR,8),R(VR,8),R(gE,8))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),F5=(()=>{class n{constructor(){as.Z.registerVersion("angularfire",Uf.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=tt({type:n});static \u0275inj=ct({providers:[F_]})}return n})();function BR(n,t=hn){return n=n??U5,j((e,i)=>{let r,s=!0;e.subscribe(ue(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function U5(n,t){return n===t}var jo=Ue(859),$s=Ue(861),E=Ue(90),yE=Ue(877);const jR="@firebase/database";let vE="";function bE(n){vE=n}class B5{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,E.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,E.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class j5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,E.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const $R=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new B5(t)}}catch{}return new j5},ec=$R("localStorage"),CE=$R("sessionStorage"),sd=new yE.Yd("@firebase/database"),zR=function(){let n=1;return function(){return n++}}(),WR=function(n){const t=(0,E.dS)(n),e=new E.gQ;e.update(t);const i=e.digest();return E.US.encodeByteArray(i)},Hf=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Hf.apply(null,i):t+="object"==typeof i?(0,E.Wl)(i):i,t+=" "}return t};let tc=null,GR=!0;const qR=function(n,t){(0,E.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(sd.logLevel=yE.in.VERBOSE,tc=sd.log.bind(sd),t&&CE.set("logging_enabled",!0)):"function"==typeof n?tc=n:(tc=null,CE.remove("logging_enabled"))},ei=function(...n){if(!0===GR&&(GR=!1,null===tc&&!0===CE.get("logging_enabled")&&qR(!0)),tc){const t=Hf.apply(null,n);tc(t)}},$f=function(n){return function(...t){ei(n,...t)}},wE=function(...n){const t="FIREBASE INTERNAL ERROR: "+Hf(...n);sd.error(t)},zs=function(...n){const t=`FIREBASE FATAL ERROR: ${Hf(...n)}`;throw sd.error(t),new Error(t)},Ti=function(...n){const t="FIREBASE WARNING: "+Hf(...n);sd.warn(t)},L_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Na="[MIN_NAME]",Ho="[MAX_NAME]",nc=function(n,t){if(n===t)return 0;if(n===Na||t===Ho)return-1;if(t===Na||n===Ho)return 1;{const e=YR(n),i=YR(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},z5=function(n,t){return n===t?0:n<t?-1:1},zf=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,E.Wl)(t))},EE=function(n){if("object"!=typeof n||null===n)return(0,E.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,E.Wl)(t[i]),e+=":",e+=EE(n[t[i]]);return e+="}",e},KR=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ti(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const ZR=function(n){(0,E.hu)(!L_(n),"Invalid JSON number");const i=1023;let r,s,o,a,c;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const d=[];for(c=52;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(r?1:0),d.reverse();const p=d.join("");let g="";for(c=0;c<64;c+=8){let _=parseInt(p.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),g+=_}return g.toLowerCase()},K5=new RegExp("^-?(0*)\\d{1,10}$"),YR=function(n){if(K5.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},od=function(n){try{n()}catch(t){setTimeout(()=>{throw Ti("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Q5=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wf=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class X5{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class J5{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(t)}}let Gf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const tO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rO="websocket",sO="long_polling";class SE{constructor(t,e,i,r,s=!1,o="",a=!1,c=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ec.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ec.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function oO(n,t,e){let i;if((0,E.hu)("string"==typeof t,"typeof type must == string"),(0,E.hu)("object"==typeof e,"typeof params must == object"),t===rO)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==sO)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function e4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ti(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class t4{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,E.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,E.p$)(this.counters_)}}const IE={},TE={};function AE(n){const t=n.toString();return IE[t]||(IE[t]=new t4),IE[t]}class i4{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&od(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fa{constructor(t,e,i,r,s,o,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$f(t),this.stats_=AE(e),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),oO(e,sO,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new i4(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,E.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ME((...s)=>{const[o,a,c,d,p]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&tO.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fa.forceAllow_=!0}static forceDisallow(){Fa.forceDisallow_=!0}static isAvailable(){return!((0,E.Yr)()||!Fa.forceAllow_&&(Fa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,E.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,E.h$)(e),r=KR(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,E.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,E.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ME{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,E.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=zR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ME.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ei("frame writing exception"),a.stack&&ei(a.stack),ei(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ei("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,E.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ei("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let U_=null;typeof MozWebSocket<"u"?U_=MozWebSocket:typeof WebSocket<"u"&&(U_=WebSocket);let ad=(()=>{class n{constructor(e,i,r,s,o,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$f(this.connId),this.stats_=AE(i),this.connURL=n.connectionURL_(i,a,c,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const a={v:"5"};return!(0,E.Yr)()&&typeof location<"u"&&location.hostname&&tO.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),oO(e,rO,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ec.set("previous_websocket_failure",!0);try{let r;if((0,E.Yr)()){r={headers:{"User-Agent":`Firebase/5/${vE}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new U_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==U_&&!n.forceDisallow_}static previouslyFailed(){return ec.isInMemoryStorage||!0===ec.get("previous_websocket_failure")}markConnectionHealthy(){ec.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,E.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,E.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,E.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=KR(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),fO=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fa,ad]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ad&&ad.isAvailable();let r=i&&!ad.previouslyFailed();if(e.webSocketOnly&&(i||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ad];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class bO{constructor(t,e,i,r,s,o,a,c,d,p){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$f("c:"+this.id+":"),this.transportManager_=new fO(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Wf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=zf("t",t),i=zf("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=zf("t",t),i=zf("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=zf("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?wE("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wE("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Wf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ec.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CO{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class wO{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,E.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,E.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class B_ extends wO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,E.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new B_}getInitialEvent(t){return(0,E.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const EO=32,DO=768;class At{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function It(){return new At("")}function rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function La(n){return n.pieces_.length-n.pieceNum_}function Vt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new At(n.pieces_,t)}function kE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function SO(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new At(t,0)}function sn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof At)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new At(e,0)}function st(n){return n.pieceNum_>=n.pieces_.length}function zi(n,t){const e=rt(n),i=rt(t);if(null===e)return t;if(e===i)return zi(Vt(n),Vt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function S4(n,t){const e=qf(n,0),i=qf(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=nc(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function RE(n,t){if(La(n)!==La(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Lr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(La(n)>La(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class I4{constructor(t,e){this.errorPrefix_=e,this.parts_=qf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,E.ug)(this.parts_[i]);IO(this)}}function IO(n){if(n.byteLength_>DO)throw new Error(n.errorPrefix_+"has a key path longer than "+DO+" bytes ("+n.byteLength_+").");if(n.parts_.length>EO)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+EO+") or object contains a cycle "+ic(n))}function ic(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class OE extends wO{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new OE}getInitialEvent(t){return(0,E.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Kf=1e3;let H_,rc=(()=>{class n extends CO{constructor(e,i,r,s,o,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=n.nextPersistentConnectionId_++,this.log_=$f("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,E.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&B_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,E.Wl)(o)),(0,E.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new E.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,E.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,E.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,c=>{const d=c.d,p=c.s;n.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),"ok"!==p&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,E.r3)(e,"w")){const r=(0,E.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,E.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,E.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,E.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,E.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):wE("Unrecognized action received from server: "+(0,E.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,E.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Kf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,$s.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let c=!1,d=null;const p=function(){d?d.close():(c=!0,s())};e.realtime_={close:p,sendRequest:function(v){(0,E.hu)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)}};const _=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[v,b]=yield Promise.all([e.authTokenProvider_.getToken(_),e.appCheckTokenProvider_.getToken(_)]);c?ei("getToken() completed but was canceled"):(ei("getToken() completed. Creating connection."),e.authToken_=v&&v.accessToken,e.appCheckToken_=b&&b.token,d=new bO(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,I=>{Ti(I+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(v){e.log_("Failed to get token: "+v),c||(e.repoInfo_.nodeAdmin&&Ti(v),p())}}})()}interrupt(e){ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,E.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Kf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>EE(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new At(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ei("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ei("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,E.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+vE.replace(/\./g,"-")]=1,(0,E.uI)()?e["framework.cordova"]=1:(0,E.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=B_.getInstance().currentlyOnline();return(0,E.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new dt(t,e)}}class j_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new dt(Na,t),r=new dt(Na,e);return 0!==this.compare(i,r)}minPost(){return dt.MIN}}class MO extends j_{static get __EMPTY_NODE(){return H_}static set __EMPTY_NODE(t){H_=t}compare(t,e){return nc(t.name,e.name)}isDefinedOn(t){throw(0,E.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return dt.MIN}maxPost(){return new dt(Ho,H_)}makePost(t,e){return(0,E.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new dt(t,H_)}toString(){return".key"}}const Ws=new MO;class $_{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let NE,ls=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??nr.EMPTY_NODE,this.right=o??nr.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return nr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return nr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class nr{constructor(t,e=nr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new nr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(t){return new nr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $_(this.root_,null,this.comparator_,!0,t)}}function x4(n,t){return nc(n.name,t.name)}function xE(n,t){return nc(n,t)}nr.EMPTY_NODE=new class O4{copy(t,e,i,r,s){return this}insert(t,e,i){return new ls(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const PO=function(n){return"number"==typeof n?"number:"+ZR(n):"string:"+n},kO=function(n){if(n.isLeafNode()){const t=n.val();(0,E.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,E.r3)(t,".sv"),"Priority must be a string or number.")}else(0,E.hu)(n===NE||n.isEmpty(),"priority of unexpected type.");(0,E.hu)(n===NE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let RO,OO,xO,ld=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,E.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kO(this.priorityNode_)}static set __childrenNodeConstructor(e){RO=e}static get __childrenNodeConstructor(){return RO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return st(e)?this:".priority"===rt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=rt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,E.hu)(".priority"!==r||1===La(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PO(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?ZR(this.value_):this.value_,this.lazyHash_=WR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,E.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,E.hu)(s>=0,"Unknown leaf type: "+i),(0,E.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Kt=new class V4 extends j_{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?nc(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return dt.MIN}maxPost(){return new dt(Ho,new ld("[PRIORITY-POST]",xO))}makePost(t,e){const i=OO(t);return new dt(e,new ld("[PRIORITY-POST]",i))}toString(){return".priority"}},U4=Math.log(2);class B4{constructor(t){this.count=parseInt(Math.log(t+1)/U4,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const z_=function(n,t,e,i){n.sort(t);const r=function(c,d){const p=d-c;let g,_;if(0===p)return null;if(1===p)return g=n[c],_=e?e(g):g,new ls(_,g.node,ls.BLACK,null,null);{const v=parseInt(p/2,10)+c,b=r(c,v),I=r(v+1,d);return g=n[v],_=e?e(g):g,new ls(_,g.node,ls.BLACK,b,I)}},a=function(c){let d=null,p=null,g=n.length;const _=function(b,I){const k=g-b,B=g;g-=b;const Y=r(k+1,B),x=n[k],re=e?e(x):x;v(new ls(re,x.node,I,null,Y))},v=function(b){d?(d.left=b,d=b):(p=b,d=b)};for(let b=0;b<c.count;++b){const I=c.nextBitIsOne(),k=Math.pow(2,c.count-(b+1));I?_(k,ls.BLACK):(_(k,ls.BLACK),_(k,ls.RED))}return p}(new B4(n.length));return new nr(i||t,a)};let FE;const cd={};class $o{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,E.hu)(cd&&Kt,"ChildrenNode.ts has not been loaded"),FE=FE||new $o({".priority":cd},{".priority":Kt}),FE}get(t){const e=(0,E.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof nr?e:null}hasIndex(t){return(0,E.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,E.hu)(t!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(dt.Wrap);let a,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?z_(i,t.getCompare()):cd;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const p=Object.assign({},this.indexes_);return p[c]=a,new $o(p,d)}addToIndexes(t,e){const i=(0,E.UI)(this.indexes_,(r,s)=>{const o=(0,E.DV)(this.indexSet_,s);if((0,E.hu)(o,"Missing index implementation for "+s),r===cd){if(o.isDefinedOn(t.node)){const a=[],c=e.getIterator(dt.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&a.push(d),d=c.getNext();return a.push(t),z_(a,o.getCompare())}return cd}{const a=e.get(t.name);let c=r;return a&&(c=c.remove(new dt(t.name,a))),c.insert(t,t.node)}});return new $o(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,E.UI)(this.indexes_,r=>{if(r===cd)return r;{const s=e.get(t.name);return s?r.remove(new dt(t.name,s)):r}});return new $o(i,this.indexSet_)}}let Zf,qe=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kO(this.priorityNode_),this.children_.isEmpty()&&(0,E.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zf||(Zf=new n(new nr(xE),null,$o.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Zf:i}}getChild(e){const i=rt(e);return null===i?this:this.getImmediateChild(i).getChild(Vt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,E.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new dt(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Zf:this.priorityNode_;return new n(s,a,o)}}updateChild(e,i){const r=rt(e);if(null===r)return i;{(0,E.hu)(".priority"!==rt(e)||1===La(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Vt(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Kt,(a,c)=>{i[a]=c.val(e),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+PO(this.getPriority().val())+":"),this.forEachChild(Kt,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":WR(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new dt(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new dt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new dt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,dt.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,dt.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yf?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Kt),s=i.getIterator(Kt);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Yf=new class j4 extends qe{constructor(){super(new nr(xE),qe.EMPTY_NODE,$o.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(dt,{MIN:{value:new dt(Na,qe.EMPTY_NODE)},MAX:{value:new dt(Ho,Yf)}}),MO.__EMPTY_NODE=qe.EMPTY_NODE,ld.__childrenNodeConstructor=qe,function N4(n){NE=n}(Yf),function L4(n){xO=n}(Yf);const H4=!0;function cn(n,t=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,E.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ld(n,cn(t));if(n instanceof Array||!H4){let e=qe.EMPTY_NODE;return ti(n,(i,r)=>{if((0,E.r3)(n,i)&&"."!==i.substring(0,1)){const s=cn(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(cn(t))}{const e=[];let i=!1;if(ti(n,(o,a)=>{if("."!==o.substring(0,1)){const c=cn(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),e.push(new dt(o,c)))}}),0===e.length)return qe.EMPTY_NODE;const s=z_(e,x4,o=>o.name,xE);if(i){const o=z_(e,Kt.getCompare());return new qe(s,cn(t),new $o({".priority":o},{".priority":Kt}))}return new qe(s,cn(t),$o.Default)}}!function F4(n){OO=n}(cn);class LE extends j_{constructor(t){super(),this.indexPath_=t,(0,E.hu)(!st(t)&&".priority"!==rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?nc(t.name,e.name):s}makePost(t,e){const i=cn(t),r=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new dt(e,r)}maxPost(){const t=qe.EMPTY_NODE.updateChild(this.indexPath_,Yf);return new dt(Ho,t)}toString(){return qf(this.indexPath_,0).join("/")}}const VE=new class $4 extends j_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?nc(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return dt.MIN}maxPost(){return dt.MAX}makePost(t,e){const i=cn(t);return new dt(e,i)}toString(){return".value"}};function NO(n){return{type:"value",snapshotNode:n}}function ud(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Qf(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Xf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class UE{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,E.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(Qf(e,a)):(0,E.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ud(e,i)):o.trackChildChange(Xf(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Kt,(r,s)=>{e.hasChild(r)||i.trackChildChange(Qf(r,s))}),e.isLeafNode()||e.forEachChild(Kt,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(Xf(r,s,o))}else i.trackChildChange(ud(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?qe.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jf{constructor(t){this.indexedFilter_=new UE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Jf.getStartPost_(t),this.endPost_=Jf.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new dt(e,i))||(i=qe.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=qe.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(qe.EMPTY_NODE);const s=this;return e.forEachChild(Kt,(o,a)=>{s.matches(new dt(o,a))||(r=r.updateImmediateChild(o,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class W4{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Jf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new dt(e,i))||(i=qe.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=qe.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(qe.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(_,v)=>g(v,_)}else o=this.index_.getCompare();const a=t;(0,E.hu)(a.numChildren()===this.limit_,"");const c=new dt(e,i),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(a.hasChild(e)){const g=a.getImmediateChild(e);let _=r.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=_&&(_.name===e||a.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:o(_,c);if(p&&!i.isEmpty()&&v>=0)return s?.trackChildChange(Xf(e,i,g)),a.updateImmediateChild(e,i);{s?.trackChildChange(Qf(e,g));const I=a.updateImmediateChild(e,qe.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(s?.trackChildChange(ud(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}return i.isEmpty()?t:p&&o(d,c)>=0?(null!=s&&(s.trackChildChange(Qf(d.name,d.node)),s.trackChildChange(ud(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(d.name,qe.EMPTY_NODE)):t}}class W_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Na}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,E.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kt}copy(){const t=new W_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function BE(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function jE(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function G_(n,t){const e=n.copy();return e.index_=t,e}function FO(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Kt?e="$priority":n.index_===VE?e="$value":n.index_===Ws?e="$key":((0,E.hu)(n.index_ instanceof LE,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,E.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,E.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,E.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,E.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,E.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function LO(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Kt&&(t.i=n.index_.toString()),t}class q_ extends CO{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$f("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,E.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=q_.getListenId_(t,i),a={};this.listens_[o]=a;const c=FO(t._queryParams);this.restRequest_(s+".json",c,(d,p)=>{let g=p;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(s,g,!1,i),(0,E.DV)(this.listens_,o)===a){let _;_=d?401===d?"permission_denied":"rest_error:"+d:"ok",r(_,null)}})}unlisten(t,e){const i=q_.getListenId_(t,e);delete this.listens_[i]}get(t){const e=FO(t._queryParams),i=t._path.toString(),r=new E.BH;return this.restRequest_(i+".json",e,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,E.xO)(e);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,E.cI)(a.responseText)}catch{Ti("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&Ti("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class Q4{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function K_(){return{value:null,children:new Map}}function dd(n,t,e){if(st(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=rt(t);n.children.has(i)||n.children.set(i,K_()),dd(n.children.get(i),t=Vt(t),e)}}function HE(n,t){if(st(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Kt,(i,r)=>{dd(n,new At(i),r)}),HE(n,t)}}if(n.children.size>0){const e=rt(t);return t=Vt(t),n.children.has(e)&&HE(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function $E(n,t,e){null!==n.value?e(t,n.value):function X4(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{$E(r,new At(t.toString()+"/"+i),e)})}class J4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ti(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class nG{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new J4(t);const i=1e4+2e4*Math.random();Wf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ti(t,(r,s)=>{s>0&&(0,E.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Wf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vr=(()=>{return(n=Vr||(Vr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Vr;var n})();function GE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Z_{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Vr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(st(this.path)){if(null!=this.affectedTree.value)return(0,E.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new At(t));return new Z_(It(),e,this.revert)}}return(0,E.hu)(rt(this.path)===t,"operationForChild called for unrelated child."),new Z_(Vt(this.path),this.affectedTree,this.revert)}}class ep{constructor(t,e){this.source=t,this.path=e,this.type=Vr.LISTEN_COMPLETE}operationForChild(t){return st(this.path)?new ep(this.source,It()):new ep(this.source,Vt(this.path))}}class sc{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Vr.OVERWRITE}operationForChild(t){return st(this.path)?new sc(this.source,It(),this.snap.getImmediateChild(t)):new sc(this.source,Vt(this.path),this.snap)}}class hd{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Vr.MERGE}operationForChild(t){if(st(this.path)){const e=this.children.subtree(new At(t));return e.isEmpty()?null:e.value?new sc(this.source,It(),e.value):new hd(this.source,It(),e)}return(0,E.hu)(rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new hd(this.source,Vt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Va{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(st(t))return this.isFullyInitialized()&&!this.filtered_;const e=rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class iG{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function tp(n,t,e,i,r,s){const o=i.filter(a=>a.type===e);o.sort((a,c)=>function oG(n,t,e){if(null==t.childName||null==e.childName)throw(0,E.g5)("Should only compare child_ events.");const i=new dt(t.childName,t.snapshotNode),r=new dt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),o.forEach(a=>{const c=function sG(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,s);r.forEach(d=>{d.respondsTo(a.type)&&t.push(d.createEvent(c,n.query_))})})}function Y_(n,t){return{eventCache:n,serverCache:t}}function np(n,t,e,i){return Y_(new Va(t,e,i),n.serverCache)}function UO(n,t,e,i){return Y_(n.eventCache,new Va(t,e,i))}function Q_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function oc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let qE;class Zt{constructor(t,e=(()=>(qE||(qE=new nr(z5)),qE))()){this.value=t,this.children=e}static fromObject(t){let e=new Zt(null);return ti(t,(i,r)=>{e=e.set(new At(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:It(),value:this.value};if(st(t))return null;{const i=rt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Vt(t),e);return null!=s?{path:sn(new At(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(st(t))return this;{const e=rt(t),i=this.children.get(e);return null!==i?i.subtree(Vt(t)):new Zt(null)}}set(t,e){if(st(t))return new Zt(e,this.children);{const i=rt(t),s=(this.children.get(i)||new Zt(null)).set(Vt(t),e),o=this.children.insert(i,s);return new Zt(this.value,o)}}remove(t){if(st(t))return this.children.isEmpty()?new Zt(null):new Zt(null,this.children);{const e=rt(t),i=this.children.get(e);if(i){const r=i.remove(Vt(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Zt(null):new Zt(this.value,s)}return this}}get(t){if(st(t))return this.value;{const e=rt(t),i=this.children.get(e);return i?i.get(Vt(t)):null}}setTree(t,e){if(st(t))return e;{const i=rt(t),s=(this.children.get(i)||new Zt(null)).setTree(Vt(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Zt(this.value,o)}}fold(t){return this.fold_(It(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(sn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,It(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(st(t))return null;{const s=rt(t),o=this.children.get(s);return o?o.findOnPath_(Vt(t),sn(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,It(),e)}foreachOnPath_(t,e,i){if(st(t))return this;{this.value&&i(e,this.value);const r=rt(t),s=this.children.get(r);return s?s.foreachOnPath_(Vt(t),sn(e,r),i):new Zt(null)}}foreach(t){this.foreach_(It(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(sn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class cs{constructor(t){this.writeTree_=t}static empty(){return new cs(new Zt(null))}}function ip(n,t,e){if(st(t))return new cs(new Zt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=zi(r,t);return s=s.updateChild(o,e),new cs(n.writeTree_.set(r,s))}{const r=new Zt(e),s=n.writeTree_.setTree(t,r);return new cs(s)}}}function KE(n,t,e){let i=n;return ti(e,(r,s)=>{i=ip(i,sn(t,r),s)}),i}function BO(n,t){if(st(t))return cs.empty();{const e=n.writeTree_.setTree(t,new Zt(null));return new cs(e)}}function ZE(n,t){return null!=ac(n,t)}function ac(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(zi(e.path,t)):null}function jO(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Kt,(i,r)=>{t.push(new dt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new dt(i,r.value))}),t}function Ua(n,t){if(st(t))return n;{const e=ac(n,t);return new cs(null!=e?new Zt(e):n.writeTree_.subtree(t))}}function YE(n){return n.writeTree_.isEmpty()}function fd(n,t){return HO(It(),n.writeTree_,t)}function HO(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,E.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=HO(sn(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(sn(n,".priority"),i)),e}}function X_(n,t){return qO(t,n)}function hG(n,t){if(n.snap)return Lr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Lr(sn(n.path,e),t))return!0;return!1}function pG(n){return n.visible}function $O(n,t,e){let i=cs.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let a;if(s.snap)Lr(e,o)?(a=zi(e,o),i=ip(i,a,s.snap)):Lr(o,e)&&(a=zi(o,e),i=ip(i,It(),s.snap.getChild(a)));else{if(!s.children)throw(0,E.g5)("WriteRecord should have .snap or .children");if(Lr(e,o))a=zi(e,o),i=KE(i,a,s.children);else if(Lr(o,e))if(a=zi(o,e),st(a))i=KE(i,It(),s.children);else{const c=(0,E.DV)(s.children,rt(a));if(c){const d=c.getChild(Vt(a));i=ip(i,It(),d)}}}}}return i}function zO(n,t,e,i,r){if(i||r){const s=Ua(n.visibleWrites,t);return!r&&YE(s)?e:r||null!=e||ZE(s,It())?fd($O(n.allWrites,function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Lr(d.path,t)||Lr(t,d.path))},t),e||qe.EMPTY_NODE):null}{const s=ac(n.visibleWrites,t);if(null!=s)return s;{const o=Ua(n.visibleWrites,t);return YE(o)?e:null!=e||ZE(o,It())?fd(o,e||qe.EMPTY_NODE):null}}}function J_(n,t,e,i){return zO(n.writeTree,n.treePath,t,e,i)}function QE(n,t){return function gG(n,t,e){let i=qe.EMPTY_NODE;const r=ac(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Kt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=Ua(n.visibleWrites,t);return e.forEachChild(Kt,(o,a)=>{const c=fd(Ua(s,new At(o)),a);i=i.updateImmediateChild(o,c)}),jO(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return jO(Ua(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function WO(n,t,e,i){return function mG(n,t,e,i,r){(0,E.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=sn(t,e);if(ZE(n.visibleWrites,s))return null;{const o=Ua(n.visibleWrites,s);return YE(o)?r.getChild(e):fd(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function ey(n,t){return function yG(n,t){return ac(n.visibleWrites,t)}(n.writeTree,sn(n.treePath,t))}function XE(n,t,e){return function _G(n,t,e,i){const r=sn(t,e),s=ac(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?fd(Ua(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function GO(n,t){return qO(sn(n.treePath,t),n.writeTree)}function qO(n,t){return{treePath:n,writeTree:t}}class wG{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,E.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,E.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,Xf(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,Qf(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,ud(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,E.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Xf(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const KO=new class EG{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class JE{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XE(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oc(this.viewCache_),s=function CG(n,t,e,i,r,s){return function vG(n,t,e,i,r,s,o){let a;const c=Ua(n.visibleWrites,t),d=ac(c,It());if(null!=d)a=d;else{if(null==e)return[];a=fd(c,e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const p=[],g=o.getCompare(),_=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=_.getNext();for(;v&&p.length<r;)0!==g(v,i)&&p.push(v),v=_.getNext();return p}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function ZO(n,t,e,i,r,s){const o=t.eventCache;if(null!=ey(i,e))return t;{let a,c;if(st(e))if((0,E.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=oc(t),g=QE(i,d instanceof qe?d:qe.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{const d=J_(i,oc(t));a=n.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const d=rt(e);if(".priority"===d){(0,E.hu)(1===La(e),"Can't have a priority with additional path components");const p=o.getNode();c=t.serverCache.getNode();const g=WO(i,e,p,c);a=null!=g?n.filter.updatePriority(p,g):o.getNode()}else{const p=Vt(e);let g;if(o.isCompleteForChild(d)){c=t.serverCache.getNode();const _=WO(i,e,o.getNode(),c);g=null!=_?o.getNode().getImmediateChild(d).updateChild(p,_):o.getNode().getImmediateChild(d)}else g=XE(i,d,t.serverCache);a=null!=g?n.filter.updateChild(o.getNode(),d,g,p,r,s):o.getNode()}}return np(t,a,o.isFullyInitialized()||st(e),n.filter.filtersNodes())}}function ty(n,t,e,i,r,s,o,a){const c=t.serverCache;let d;const p=o?n.filter:n.filter.getIndexedFilter();if(st(e))d=p.updateFullNode(c.getNode(),i,null);else if(p.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(e,i);d=p.updateFullNode(c.getNode(),v,null)}else{const v=rt(e);if(!c.isCompleteForPath(e)&&La(e)>1)return t;const b=Vt(e),k=c.getNode().getImmediateChild(v).updateChild(b,i);d=".priority"===v?p.updatePriority(c.getNode(),k):p.updateChild(c.getNode(),v,k,b,KO,null)}const g=UO(t,d,c.isFullyInitialized()||st(e),p.filtersNodes());return ZO(n,g,e,r,new JE(r,g,s),a)}function e0(n,t,e,i,r,s,o){const a=t.eventCache;let c,d;const p=new JE(r,t,s);if(st(e))d=n.filter.updateFullNode(t.eventCache.getNode(),i,o),c=np(t,d,!0,n.filter.filtersNodes());else{const g=rt(e);if(".priority"===g)d=n.filter.updatePriority(t.eventCache.getNode(),i),c=np(t,d,a.isFullyInitialized(),a.isFiltered());else{const _=Vt(e),v=a.getNode().getImmediateChild(g);let b;if(st(_))b=i;else{const I=p.getCompleteChild(g);b=null!=I?".priority"===kE(_)&&I.getChild(SO(_)).isEmpty()?I:I.updateChild(_,i):qe.EMPTY_NODE}c=v.equals(b)?t:np(t,n.filter.updateChild(a.getNode(),g,b,_,p,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function YO(n,t){return n.eventCache.isCompleteForChild(t)}function QO(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function t0(n,t,e,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d,c=t;d=st(e)?i:new Zt(null).setTree(e,i);const p=t.serverCache.getNode();return d.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const b=QO(0,t.serverCache.getNode().getImmediateChild(g),_);c=ty(n,c,new At(g),b,r,s,o,a)}}),d.children.inorderTraversal((g,_)=>{const v=!t.serverCache.isCompleteForChild(g)&&null===_.value;if(!p.hasChild(g)&&!v){const I=QO(0,t.serverCache.getNode().getImmediateChild(g),_);c=ty(n,c,new At(g),I,r,s,o,a)}}),c}class RG{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new UE(i.getIndex()),s=function G4(n){return n.loadsAllData()?new UE(n.getIndex()):n.hasLimit()?new W4(n):new Jf(n)}(i);this.processor_=function DG(n){return{filter:n}}(s);const o=e.serverCache,a=e.eventCache,c=r.updateFullNode(qe.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),p=new Va(c,o.isFullyInitialized(),r.filtersNodes()),g=new Va(d,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Y_(g,p),this.eventGenerator_=new iG(this.query_)}get query(){return this.query_}}function NG(n,t){const e=oc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!st(t)&&!e.getImmediateChild(rt(t)).isEmpty())?e.getChild(t):null}function XO(n){return 0===n.eventRegistrations_.length}function JO(n,t,e){const i=[];if(e){(0,E.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function ex(n,t,e,i){t.type===Vr.MERGE&&null!==t.source.queryId&&((0,E.hu)(oc(n.viewCache_),"We should always have a full cache before handling merges"),(0,E.hu)(Q_(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function IG(n,t,e,i,r){const s=new wG;let o,a;if(e.type===Vr.OVERWRITE){const d=e;d.source.fromUser?o=e0(n,t,d.path,d.snap,i,r,s):((0,E.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered()&&!st(d.path),o=ty(n,t,d.path,d.snap,i,r,a,s))}else if(e.type===Vr.MERGE){const d=e;d.source.fromUser?o=function AG(n,t,e,i,r,s,o){let a=t;return i.foreach((c,d)=>{const p=sn(e,c);YO(t,rt(p))&&(a=e0(n,a,p,d,r,s,o))}),i.foreach((c,d)=>{const p=sn(e,c);YO(t,rt(p))||(a=e0(n,a,p,d,r,s,o))}),a}(n,t,d.path,d.children,i,r,s):((0,E.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered(),o=t0(n,t,d.path,d.children,i,r,a,s))}else if(e.type===Vr.ACK_USER_WRITE){const d=e;o=d.revert?function kG(n,t,e,i,r,s){let o;if(null!=ey(i,e))return t;{const a=new JE(i,t,r),c=t.eventCache.getNode();let d;if(st(e)||".priority"===rt(e)){let p;if(t.serverCache.isFullyInitialized())p=J_(i,oc(t));else{const g=t.serverCache.getNode();(0,E.hu)(g instanceof qe,"serverChildren would be complete if leaf node"),p=QE(i,g)}d=n.filter.updateFullNode(c,p,s)}else{const p=rt(e);let g=XE(i,p,t.serverCache);null==g&&t.serverCache.isCompleteForChild(p)&&(g=c.getImmediateChild(p)),d=null!=g?n.filter.updateChild(c,p,g,Vt(e),a,s):t.eventCache.getNode().hasChild(p)?n.filter.updateChild(c,p,qe.EMPTY_NODE,Vt(e),a,s):c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=J_(i,oc(t)),o.isLeafNode()&&(d=n.filter.updateFullNode(d,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=ey(i,It()),np(t,d,o,n.filter.filtersNodes())}}(n,t,d.path,i,r,s):function MG(n,t,e,i,r,s,o){if(null!=ey(r,e))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=i.value){if(st(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return ty(n,t,e,c.getNode().getChild(e),r,s,a,o);if(st(e)){let d=new Zt(null);return c.getNode().forEachChild(Ws,(p,g)=>{d=d.set(new At(p),g)}),t0(n,t,e,d,r,s,a,o)}return t}{let d=new Zt(null);return i.foreach((p,g)=>{const _=sn(e,p);c.isCompleteForPath(_)&&(d=d.set(p,c.getNode().getChild(_)))}),t0(n,t,e,d,r,s,a,o)}}(n,t,d.path,d.affectedTree,i,r,s)}else{if(e.type!==Vr.LISTEN_COMPLETE)throw(0,E.g5)("Unknown operation type: "+e.type);o=function PG(n,t,e,i,r){const s=t.serverCache;return ZO(n,UO(t,s.getNode(),s.isFullyInitialized()||st(e),s.isFiltered()),e,i,KO,r)}(n,t,e.path,i,s)}const c=s.getChanges();return function TG(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Q_(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(NO(Q_(t)))}}(t,o,c),{viewCache:o,changes:c}}(n.processor_,r,t,e,i);return function SG(n,t){(0,E.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,E.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,E.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,tx(n,s.changes,s.viewCache.eventCache.getNode(),null)}function tx(n,t,e,i){return function rG(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function z4(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),tp(n,r,"child_removed",t,i,e),tp(n,r,"child_added",t,i,e),tp(n,r,"child_moved",s,i,e),tp(n,r,"child_changed",t,i,e),tp(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let ny,ry;class nx{constructor(){this.views=new Map}}function n0(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,E.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ex(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(ex(o,t,e,i));return s}}function ix(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let a=J_(e,r?i:null),c=!1;a?c=!0:i instanceof qe?(a=QE(e,i),c=!1):(a=qe.EMPTY_NODE,c=!1);const d=Y_(new Va(a,c,!1),new Va(i,r,!1));return new RG(t,d)}return o}function rx(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ba(n,t){let e=null;for(const i of n.views.values())e=e||NG(i,t);return e}function sx(n,t){return t._queryParams.loadsAllData()?iy(n):n.views.get(t._queryIdentifier)}function ox(n,t){return null!=sx(n,t)}function ja(n){return null!=iy(n)}function iy(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let WG=1;class ax{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Zt(null),this.pendingWriteTree_=function bG(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function r0(n,t,e,i,r){return function lG(n,t,e,i,r){(0,E.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=ip(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?pd(n,new sc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ha(n,t,e=!1){const i=function uG(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function dG(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,E.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=e&&hG(a,i.path)?r=!1:Lr(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function fG(n){n.visibleWrites=$O(n.allWrites,pG,It()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=BO(n.visibleWrites,i.path):ti(i.children,c=>{n.visibleWrites=BO(n.visibleWrites,sn(i.path,c))}),!0))}(n.pendingWriteTree_,t)){let s=new Zt(null);return null!=i.snap?s=s.set(It(),!0):ti(i.children,o=>{s=s.set(new At(o),!0)}),pd(n,new Z_(i.path,s,e))}return[]}function rp(n,t,e){return pd(n,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function sy(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||ox(o,t))){const c=function HG(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const a=ja(n);if("default"===r)for(const[c,d]of n.views.entries())o=o.concat(JO(d,e,i)),XO(d)&&(n.views.delete(c),d.query._queryParams.loadsAllData()||s.push(d.query));else{const c=n.views.get(r);c&&(o=o.concat(JO(c,e,i)),XO(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!ja(n)&&s.push(new(function UG(){return(0,E.hu)(ny,"Reference.ts has not been loaded"),ny}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function BG(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const d=c.removed;if(a=c.events,!r){const p=-1!==d.findIndex(_=>_._queryParams.loadsAllData()),g=n.syncPointTree_.findOnPath(s,(_,v)=>ja(v));if(p&&!g){const _=n.syncPointTree_.subtree(s);if(!_.isEmpty()){const v=function XG(n){return n.fold((t,e,i)=>{if(e&&ja(e))return[iy(e)];{let r=[];return e&&(r=rx(e)),ti(i,(s,o)=>{r=r.concat(o)}),r}})}(_);for(let b=0;b<v.length;++b){const I=v[b],k=I.query,B=dx(n,I);n.listenProvider_.startListening(op(k),sp(n,k),B.hashFn,B.onComplete)}}}!g&&d.length>0&&!i&&(p?n.listenProvider_.stopListening(op(t),null):d.forEach(_=>{const v=n.queryToTagMap.get(ay(_));n.listenProvider_.stopListening(op(_),v)}))}!function JG(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=ay(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,d)}return a}function lx(n,t,e,i){const r=o0(n,i);if(null!=r){const s=a0(r),o=s.path,a=s.queryId,c=zi(o,t);return l0(n,o,new sc(GE(a),c,e))}return[]}function s0(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(_,v)=>{const b=zi(_,r);s=s||Ba(v,b),o=o||ja(v)});let c,a=n.syncPointTree_.get(r);a?(o=o||ja(a),s=s||Ba(a,It())):(a=new nx,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=s?c=!0:(c=!1,s=qe.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((v,b)=>{const I=Ba(b,It());I&&(s=s.updateImmediateChild(v,I))}));const d=ox(a,t);if(!d&&!t._queryParams.loadsAllData()){const _=ay(t);(0,E.hu)(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function e6(){return WG++}();n.queryToTagMap.set(_,v),n.tagToQueryMap.set(v,_)}let g=function jG(n,t,e,i,r,s){const o=ix(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function FG(n,t){n.eventRegistrations_.push(t)}(o,e),function LG(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Kt,(s,o)=>{i.push(ud(s,o))}),e.isFullyInitialized()&&i.push(NO(e.getNode())),tx(n,i,e.getNode(),t)}(o,e)}(a,t,e,X_(n.pendingWriteTree_,r),s,c);if(!d&&!o&&!i){const _=sx(a,t);g=g.concat(function t6(n,t,e){const i=t._path,r=sp(n,t),s=dx(n,e),o=n.listenProvider_.startListening(op(t),r,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,E.hu)(!ja(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((d,p,g)=>{if(!st(d)&&p&&ja(p))return[iy(p).query];{let _=[];return p&&(_=_.concat(rx(p).map(v=>v.query))),ti(g,(v,b)=>{_=_.concat(b)}),_}});for(let d=0;d<c.length;++d){const p=c[d];n.listenProvider_.stopListening(op(p),sp(n,p))}}return o}(n,t,_))}return g}function oy(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,a)=>{const d=Ba(a,zi(o,t));if(d)return d});return zO(r,t,s,e,!0)}function pd(n,t){return cx(t,n.syncPointTree_,null,X_(n.pendingWriteTree_,It()))}function cx(n,t,e,i){if(st(n.path))return ux(n,t,e,i);{const r=t.get(It());null==e&&null!=r&&(e=Ba(r,It()));let s=[];const o=rt(n.path),a=n.operationForChild(o),c=t.children.get(o);if(c&&a){const d=e?e.getImmediateChild(o):null,p=GO(i,o);s=s.concat(cx(a,c,d,p))}return r&&(s=s.concat(n0(r,n,i,e))),s}}function ux(n,t,e,i){const r=t.get(It());null==e&&null!=r&&(e=Ba(r,It()));let s=[];return t.children.inorderTraversal((o,a)=>{const c=e?e.getImmediateChild(o):null,d=GO(i,o),p=n.operationForChild(o);p&&(s=s.concat(ux(p,a,c,d)))}),r&&(s=s.concat(n0(r,n,i,e))),s}function dx(n,t){const e=t.query,i=sp(n,e);return{hashFn:()=>(function OG(n){return n.viewCache_.serverCache.getNode()}(t)||qe.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function ZG(n,t,e){const i=o0(n,e);if(i){const r=a0(i),s=r.path,o=r.queryId,a=zi(s,t);return l0(n,s,new ep(GE(o),a))}return[]}(n,e._path,i):function KG(n,t){return pd(n,new ep({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function q5(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return sy(n,e,null,s)}}}}function sp(n,t){const e=ay(t);return n.queryToTagMap.get(e)}function ay(n){return n._path.toString()+"$"+n._queryIdentifier}function o0(n,t){return n.tagToQueryMap.get(t)}function a0(n){const t=n.indexOf("$");return(0,E.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new At(n.substr(0,t))}}function l0(n,t,e){const i=n.syncPointTree_.get(t);return(0,E.hu)(i,"Missing sync point for query tag that we're tracking"),n0(i,e,X_(n.pendingWriteTree_,t),null)}function op(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zG(){return(0,E.hu)(ry,"Reference.ts has not been loaded"),ry}())(n._repo,n._path):n}class c0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new c0(e)}node(){return this.node_}}class u0{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=sn(this.path_,t);return new u0(this.syncTree_,e)}node(){return oy(this.syncTree_,this.path_)}}const n6=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},hx=function(n,t,e){return n&&"object"==typeof n?((0,E.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?i6(n[".sv"],t,e):"object"==typeof n[".sv"]?r6(n[".sv"],t):void(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},i6=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,E.hu)(!1,"Unexpected server value: "+n)},r6=function(n,t,e){n.hasOwnProperty("increment")||(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,E.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,E.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},fx=function(n,t,e,i){return h0(t,new u0(e,n),i)},d0=function(n,t,e){return h0(n,new c0(t),e)};function h0(n,t,e){const i=n.getPriority().val(),r=hx(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,a=hx(o.getValue(),t,e);return a!==o.getValue()||r!==o.getPriority().val()?new ld(a,cn(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new ld(r))),o.forEachChild(Kt,(a,c)=>{const d=h0(c,t.getImmediateChild(a),e);d!==c&&(s=s.updateImmediateChild(a,d))}),s}}class f0{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function ly(n,t){let e=t instanceof At?t:new At(t),i=n,r=rt(e);for(;null!==r;){const s=(0,E.DV)(i.node.children,r)||{children:{},childCount:0};i=new f0(r,i,s),e=Vt(e),r=rt(e)}return i}function lc(n){return n.node.value}function p0(n,t){n.node.value=t,g0(n)}function px(n){return n.node.childCount>0}function cy(n,t){ti(n.node.children,(e,i)=>{t(new f0(e,n,i))})}function gx(n,t,e,i){e&&!i&&t(n),cy(n,r=>{gx(r,t,!0,i)}),e&&i&&t(n)}function ap(n){return new At(null===n.parent?n.name:ap(n.parent)+"/"+n.name)}function g0(n){null!==n.parent&&function a6(n,t,e){const i=function s6(n){return void 0===lc(n)&&!px(n)}(e),r=(0,E.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,g0(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,g0(n))}(n.parent,n.name,n)}const l6=/[\[\].#$\/\u0000-\u001F\u007F]/,c6=/[\[\].#$\u0000-\u001F\u007F]/,m0=10485760,uy=function(n){return"string"==typeof n&&0!==n.length&&!l6.test(n)},mx=function(n){return"string"==typeof n&&0!==n.length&&!c6.test(n)},lp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!L_(n)||n&&"object"==typeof n&&(0,E.r3)(n,".sv")},Gs=function(n,t,e,i){i&&void 0===t||cp((0,E.gK)(n,"value"),t,e)},cp=function(n,t,e){const i=e instanceof At?new I4(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ic(i));if("function"==typeof t)throw new Error(n+"contains a function "+ic(i)+" with contents = "+t.toString());if(L_(t))throw new Error(n+"contains "+t.toString()+" "+ic(i));if("string"==typeof t&&t.length>m0/3&&(0,E.ug)(t)>m0)throw new Error(n+"contains a string greater than "+m0+" utf8 bytes "+ic(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(ti(t,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!uy(o)))throw new Error(n+" contains an invalid key ("+o+") "+ic(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function T4(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,E.ug)(t),IO(n)})(i,o),cp(n,a,i),function A4(n){const t=n.parts_.pop();n.byteLength_-=(0,E.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+ic(i)+" in addition to actual children.")}},_x=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,E.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];ti(t,(o,a)=>{const c=new At(o);if(cp(r,a,sn(e,c)),".priority"===kE(c)&&!lp(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=qf(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!uy(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(S4);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Lr(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},_0=function(n,t,e){if(!e||void 0!==t){if(L_(t))throw new Error((0,E.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lp(t))throw new Error((0,E.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},up=function(n,t,e,i){if(!(i&&void 0===e||uy(e)))throw new Error((0,E.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dp=function(n,t,e,i){if(!(i&&void 0===e||mx(e)))throw new Error((0,E.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},h6=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dp(n,t,e,i)},Ur=function(n,t){if(".info"===rt(t))throw new Error(n+" failed = Can't modify data under /.info/")},yx=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!uy(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mx(n)}(e))throw new Error((0,E.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class f6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dy(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!RE(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function vx(n,t,e){dy(n,e),bx(n,i=>RE(i,t))}function gr(n,t,e){dy(n,e),bx(n,i=>Lr(i,t)||Lr(t,i))}function bx(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(p6(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function p6(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();tc&&ei("event: "+e.toString()),od(i)}}}const Cx="repo_interrupt",g6=25;class m6{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new f6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=K_(),this.transactionQueueTree_=new f0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wx(n){const e=n.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hp(n){return n6({timestamp:wx(n)})}function Ex(n,t,e,i,r){n.dataUpdateCount++;const s=new At(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const c=(0,E.UI)(e,d=>cn(d));o=function YG(n,t,e,i){const r=o0(n,i);if(r){const s=a0(r),o=s.path,a=s.queryId,c=zi(o,t),d=Zt.fromObject(e);return l0(n,o,new hd(GE(a),c,d))}return[]}(n.serverSyncTree_,s,c,r)}else{const c=cn(e);o=lx(n.serverSyncTree_,s,c,r)}else if(i){const c=(0,E.UI)(e,d=>cn(d));o=function qG(n,t,e){const i=Zt.fromObject(e);return pd(n,new hd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,c)}else{const c=cn(e);o=rp(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=md(n,s)),gr(n.eventQueue_,a,o)}function Dx(n,t){y0(n,"connected",t),!1===t&&function C6(n){gd(n,"onDisconnectEvents");const t=hp(n),e=K_();$E(n.onDisconnect_,It(),(r,s)=>{const o=fx(r,s,n.serverSyncTree_,t);dd(e,r,o)});let i=[];$E(e,It(),(r,s)=>{i=i.concat(rp(n.serverSyncTree_,r,s));const o=w0(n,r);md(n,o)}),n.onDisconnect_=K_(),gr(n.eventQueue_,It(),i)}(n)}function y0(n,t,e){const i=new At("/.info/"+t),r=cn(e);n.infoData_.updateSnapshot(i,r);const s=rp(n.infoSyncTree_,i,r);gr(n.eventQueue_,i,s)}function hy(n){return n.nextWriteId_++}function v0(n,t,e,i,r){gd(n,"set",{path:t.toString(),value:e,priority:i});const s=hp(n),o=cn(e,i),a=oy(n.serverSyncTree_,t),c=d0(o,a,s),d=hy(n),p=r0(n.serverSyncTree_,t,c,d,!0);dy(n.eventQueue_,p),n.server_.put(t.toString(),o.val(!0),(_,v)=>{const b="ok"===_;b||Ti("set at "+t+" failed: "+_);const I=Ha(n.serverSyncTree_,d,!b);gr(n.eventQueue_,t,I),$a(0,r,_,v)});const g=w0(n,t);md(n,g),gr(n.eventQueue_,g,[])}function w6(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&HE(n.onDisconnect_,t),$a(0,e,i,r)})}function Sx(n,t,e,i){const r=cn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&dd(n.onDisconnect_,t,r),$a(0,i,s,o)})}function b0(n,t,e){let i;i=".info"===rt(t._path)?sy(n.infoSyncTree_,t,e):sy(n.serverSyncTree_,t,e),vx(n.eventQueue_,t._path,i)}function Ix(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Cx)}function gd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ei(e,...t)}function $a(n,t,e,i){t&&od(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function C0(n,t,e){return oy(n.serverSyncTree_,t,e)||qe.EMPTY_NODE}function fy(n,t=n.transactionQueueTree_){if(t||py(n,t),lc(t)){const e=Ax(n,t);(0,E.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function A6(n,t,e){const i=e.map(d=>d.currentWriteId),r=C0(n,t,i);let s=r;const o=r.hash();for(let d=0;d<e.length;d++){const p=e[d];(0,E.hu)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=zi(t,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const a=s.val(!0),c=t;n.server_.put(c.toString(),a,d=>{gd(n,"transaction put response",{path:c.toString(),status:d});let p=[];if("ok"===d){const g=[];for(let _=0;_<e.length;_++)e[_].status=2,p=p.concat(Ha(n.serverSyncTree_,e[_].currentWriteId)),e[_].onComplete&&g.push(()=>e[_].onComplete(null,!0,e[_].currentOutputSnapshotResolved)),e[_].unwatcher();py(n,ly(n.transactionQueueTree_,t)),fy(n,n.transactionQueueTree_),gr(n.eventQueue_,t,p);for(let _=0;_<g.length;_++)od(g[_])}else{if("datastale"===d)for(let g=0;g<e.length;g++)e[g].status=3===e[g].status?4:0;else{Ti("transaction at "+c.toString()+" failed: "+d);for(let g=0;g<e.length;g++)e[g].status=4,e[g].abortReason=d}md(n,t)}},o)}(n,ap(t),e)}else px(t)&&cy(t,e=>{fy(n,e)})}function md(n,t){const e=Tx(n,t),i=ap(e);return function M6(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],d=zi(e,c.path);let g,p=!1;if((0,E.hu)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)p=!0,g=c.abortReason,r=r.concat(Ha(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=g6)p=!0,g="maxretry",r=r.concat(Ha(n.serverSyncTree_,c.currentWriteId,!0));else{const _=C0(n,c.path,o);c.currentInputSnapshot=_;const v=t[a].update(_.val());if(void 0!==v){cp("transaction failed: Data returned ",v,c.path);let b=cn(v);"object"==typeof v&&null!=v&&(0,E.r3)(v,".priority")||(b=b.updatePriority(_.getPriority()));const k=c.currentWriteId,B=hp(n),Y=d0(b,_,B);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=Y,c.currentWriteId=hy(n),o.splice(o.indexOf(k),1),r=r.concat(r0(n.serverSyncTree_,c.path,Y,c.currentWriteId,c.applyLocally)),r=r.concat(Ha(n.serverSyncTree_,k,!0))}else p=!0,g="nodata",r=r.concat(Ha(n.serverSyncTree_,c.currentWriteId,!0))}gr(n.eventQueue_,e,r),r=[],p&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===g?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(g),!1,null)))}py(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)od(i[a]);fy(n,n.transactionQueueTree_)}(n,Ax(n,e),i),i}function Tx(n,t){let e,i=n.transactionQueueTree_;for(e=rt(t);null!==e&&void 0===lc(i);)i=ly(i,e),e=rt(t=Vt(t));return i}function Ax(n,t){const e=[];return Mx(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Mx(n,t,e){const i=lc(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);cy(t,r=>{Mx(n,r,e)})}function py(n,t){const e=lc(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,p0(t,e.length>0?e:void 0)}cy(t,i=>{py(n,i)})}function w0(n,t){const e=ap(Tx(n,t)),i=ly(n.transactionQueueTree_,t);return function o6(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{E0(n,r)}),E0(n,i),gx(i,r=>{E0(n,r)}),e}function E0(n,t){const e=lc(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,E.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,E.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(Ha(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?p0(t,void 0):e.length=s+1,gr(n.eventQueue_,ap(t),r);for(let o=0;o<i.length;o++)od(i[o])}}const D0=function(n,t){const e=R6(n),i=e.namespace;return"firebase.com"===e.domain&&zs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new SE(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new At(e.pathString)}},R6=function(n){let t="",e="",i="",r="",s="",o=!0,a="https",c=443;if("string"==typeof n){let d=n.indexOf("//");d>=0&&(a=n.substring(0,d-1),n=n.substring(d+2));let p=n.indexOf("/");-1===p&&(p=n.length);let g=n.indexOf("?");-1===g&&(g=n.length),t=n.substring(0,Math.min(p,g)),p<g&&(r=function P6(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(p,g)));const _=function k6(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ti(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,g)));d=t.indexOf(":"),d>=0?(o="https"===a||"wss"===a,c=parseInt(t.substring(d+1),10)):d=t.length;const v=t.slice(0,d);if("localhost"===v.toLowerCase())e="localhost";else if(v.split(".").length<=2)e=v;else{const b=t.indexOf(".");i=t.substring(0,b).toLowerCase(),e=t.substring(b+1),s=i}"ns"in _&&(s=_.ns)}return{host:t,port:c,domain:e,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},Px="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",O6=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Px.charAt(e%64),e=Math.floor(e/64);(0,E.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Px.charAt(t[r]);return(0,E.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class kx{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,E.Wl)(this.snapshot.exportVal())}}class Rx{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class S0{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,E.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Ox{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new E.BH;return w6(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ur("OnDisconnect.remove",this._path);const t=new E.BH;return Sx(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ur("OnDisconnect.set",this._path),Gs("OnDisconnect.set",t,this._path,!1);const e=new E.BH;return Sx(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ur("OnDisconnect.setWithPriority",this._path),Gs("OnDisconnect.setWithPriority",t,this._path,!1),_0("OnDisconnect.setWithPriority",e,!1);const i=new E.BH;return function E6(n,t,e,i,r){const s=cn(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,a)=>{"ok"===o&&dd(n.onDisconnect_,t,s),$a(0,r,o,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ur("OnDisconnect.update",this._path),_x("OnDisconnect.update",t,this._path,!1);const e=new E.BH;return function D6(n,t,e,i){if((0,E.xb)(e))return ei("onDisconnect().update() called with empty data.  Don't do anything."),void $a(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&ti(e,(o,a)=>{const c=cn(a);dd(n.onDisconnect_,sn(t,o),c)}),$a(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ir{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return st(this._path)?null:kE(this._path)}get ref(){return new Br(this._repo,this._path)}get _queryIdentifier(){const t=LO(this._queryParams),e=EE(t);return"{}"===e?"default":e}get _queryObject(){return LO(this._queryParams)}isEqual(t){if(!((t=(0,E.m9)(t))instanceof ir))return!1;const e=this._repo===t._repo,i=RE(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function D4(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function gy(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function za(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ws){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Na)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ho)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Kt){if(null!=t&&!lp(t)||null!=e&&!lp(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,E.hu)(n.getIndex()instanceof LE||n.getIndex()===VE,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function my(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Br extends ir{constructor(t,e){super(t,e,new W_,!1)}get parent(){const t=SO(this._path);return null===t?null:new Br(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new At(t),i=uc(this.ref,t);return new cc(this._node.getChild(e),i,Kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new cc(r,uc(this.ref,i),Kt)))}hasChild(t){const e=new At(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xx(n,t){return(n=(0,E.m9)(n))._checkNotDeleted("ref"),void 0!==t?uc(n._root,t):n._root}function Nx(n,t){(n=(0,E.m9)(n))._checkNotDeleted("refFromURL");const e=D0(t,n._repo.repoInfo_.nodeAdmin);yx("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&zs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),xx(n,e.path.toString())}function uc(n,t){return null===rt((n=(0,E.m9)(n))._path)?h6("child","path",t,!1):dp("child","path",t,!1),new Br(n._repo,sn(n._path,t))}function I0(n,t){n=(0,E.m9)(n),Ur("set",n._path),Gs("set",t,n._path,!1);const e=new E.BH;return v0(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function V6(n,t){_x("update",t,n._path,!1);const e=new E.BH;return function b6(n,t,e,i){gd(n,"update",{path:t.toString(),value:e});let r=!0;const s=hp(n),o={};if(ti(e,(a,c)=>{r=!1,o[a]=fx(sn(t,a),cn(c),n.serverSyncTree_,s)}),r)ei("update() called with empty data.  Don't do anything."),$a(0,i,"ok",void 0);else{const a=hy(n),c=function GG(n,t,e,i){!function cG(n,t,e,i){(0,E.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=KE(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Zt.fromObject(e);return pd(n,new hd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,a);dy(n.eventQueue_,c),n.server_.merge(t.toString(),e,(d,p)=>{const g="ok"===d;g||Ti("update at "+t+" failed: "+d);const _=Ha(n.serverSyncTree_,a,!g),v=_.length>0?md(n,t):t;gr(n.eventQueue_,v,_),$a(0,i,d,p)}),ti(e,d=>{const p=w0(n,sn(t,d));md(n,p)}),gr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function U6(n){n=(0,E.m9)(n);const t=new S0(()=>{}),e=new fp(t);return function v6(n,t,e){const i=function QG(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(d,p)=>{const g=zi(d,e);i=i||Ba(p,g)});let r=n.syncPointTree_.get(e);r?i=i||Ba(r,It()):(r=new nx,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Va(i,!0,!1):null;return function xG(n){return Q_(n.viewCache_)}(ix(r,t,X_(n.pendingWriteTree_,t._path),s?o.getNode():qe.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=cn(r).withIndex(t._queryParams.getIndex());let o;if(s0(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=rp(n.serverSyncTree_,t._path,s);else{const a=sp(n.serverSyncTree_,t);o=lx(n.serverSyncTree_,t._path,s,a)}return gr(n.eventQueue_,t._path,o),sy(n.serverSyncTree_,t,e,null,!0),s},r=>(gd(n,"get for query "+(0,E.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new cc(i,new Br(n._repo,n._path),n._queryParams.getIndex()))}class fp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new kx("value",this,new cc(t.snapshotNode,new Br(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Rx(this,t,e):null}matches(t){return t instanceof fp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _y{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Rx(this,t,e):null}createEvent(t,e){(0,E.hu)(null!=t.childName,"Child events should have a childName.");const i=uc(new Br(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new kx(t.type,this,new cc(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof _y&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pp(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const c=e,d=(p,g)=>{b0(n._repo,n,a),c(p,g)};d.userCallback=e.userCallback,d.context=e.context,e=d}const o=new S0(e,s||void 0),a="value"===t?new fp(o):new _y(t,o);return function S6(n,t,e){let i;i=".info"===rt(t._path)?s0(n.infoSyncTree_,t,e):s0(n.serverSyncTree_,t,e),vx(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>b0(n._repo,n,a)}function T0(n,t,e,i){return pp(n,"value",t,e,i)}function Fx(n,t,e,i){return pp(n,"child_added",t,e,i)}function Lx(n,t,e,i){return pp(n,"child_changed",t,e,i)}function Vx(n,t,e,i){return pp(n,"child_moved",t,e,i)}function Ux(n,t,e,i){return pp(n,"child_removed",t,e,i)}function Bx(n,t,e){let i=null;const r=e?new S0(e):null;"value"===t?i=new fp(r):t&&(i=new _y(t,r)),b0(n._repo,n,i)}class us{}class jx extends us{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){Gs("endAt",this._value,t._path,!0);const e=jE(t._queryParams,this._value,this._key);if(my(e),za(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ir(t._repo,t._path,e,t._orderByCalled)}}class j6 extends us{constructor(t,e){super(),this._value=t,this._key=e,this.type="endBefore"}_apply(t){Gs("endBefore",this._value,t._path,!1);const e=function Y4(n,t,e){let i;return i=jE(n,t,n.index_===Ws||e?e:Na),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(my(e),za(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ir(t._repo,t._path,e,t._orderByCalled)}}class Hx extends us{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){Gs("startAt",this._value,t._path,!0);const e=BE(t._queryParams,this._value,this._key);if(my(e),za(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ir(t._repo,t._path,e,t._orderByCalled)}}class z6 extends us{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAfter"}_apply(t){Gs("startAfter",this._value,t._path,!1);const e=function Z4(n,t,e){let i;return i=BE(n,t,n.index_===Ws||e?e:Ho),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(my(e),za(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ir(t._repo,t._path,e,t._orderByCalled)}}class G6 extends us{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ir(t._repo,t._path,function q4(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class K6 extends us{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ir(t._repo,t._path,function K4(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Y6 extends us{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){gy(t,"orderByChild");const e=new At(this._path);if(st(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new LE(e),r=G_(t._queryParams,i);return za(r),new ir(t._repo,t._path,r,!0)}}class X6 extends us{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){gy(t,"orderByKey");const e=G_(t._queryParams,Ws);return za(e),new ir(t._repo,t._path,e,!0)}}class e9 extends us{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){gy(t,"orderByPriority");const e=G_(t._queryParams,Kt);return za(e),new ir(t._repo,t._path,e,!0)}}class n9 extends us{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){gy(t,"orderByValue");const e=G_(t._queryParams,VE);return za(e),new ir(t._repo,t._path,e,!0)}}class r9 extends us{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(Gs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jx(this._value,this._key)._apply(new Hx(this._value,this._key)._apply(t))}}function ds(n,...t){let e=(0,E.m9)(n);for(const i of t)e=i._apply(e);return e}(function VG(n){(0,E.hu)(!ny,"__referenceConstructor has already been defined"),ny=n})(Br),function $G(n){(0,E.hu)(!ry,"__referenceConstructor has already been defined"),ry=n}(Br);const o9="FIREBASE_DATABASE_EMULATOR_HOST",A0={};let $x=!1;function M0(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ei("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,d,o=D0(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(d=process.env[o9]),d?(c=!0,s=`http://${d}?ns=${a.namespace}`,o=D0(s,r),a=o.repoInfo):c=!o.repoInfo.secure;const p=r&&c?new Gf(Gf.OWNER):new J5(n.name,n.options,t);yx("Invalid Firebase Database URL",o),st(o.path)||zs("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function c9(n,t,e,i){let r=A0[t.name];r||(r={},A0[t.name]=r);let s=r[n.toURLString()];return s&&zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new m6(n,$x,e,i),r[n.toURLString()]=s,s}(a,n,p,new X5(n.name,e));return new d9(g,n)}class d9{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _6(n,t,e){if(n.stats_=AE(n.repoInfo_),n.forceRestClient_||Q5())n.server_=new q_(n.repoInfo_,(i,r,s,o)=>{Ex(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Dx(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,E.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rc(n.repoInfo_,t,(i,r,s,o)=>{Ex(n,i,r,s,o)},i=>{Dx(n,i)},i=>{!function y6(n,t){ti(t,(e,i)=>{y0(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function n4(n,t){const e=n.toString();return TE[e]||(TE[e]=t()),TE[e]}(n.repoInfo_,()=>new nG(n.stats_,n.server_)),n.infoData_=new Q4,n.infoSyncTree_=new ax({startListening:(i,r,s,o)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=rp(n.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),y0(n,"connected",!1),n.serverSyncTree_=new ax({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,c)=>{const d=o(a,c);gr(n.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Br(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function l9(n,t){const e=A0[t];(!e||e[n.key]!==n)&&zs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Ix(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&zs("Cannot call "+t+" on a deleted database.")}}function zx(){fO.IS_TRANSPORT_INITIALIZED&&Ti("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function h9(){zx(),Fa.forceDisallow()}function f9(){zx(),ad.forceDisallow(),Fa.forceAllow()}function m9(n,t){qR(n,t)}const y9={".sv":"timestamp"};class C9{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}rc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function _9(n){bE(js.SDK_VERSION),(0,js._registerComponent)(new jo.wA("database",(t,{instanceIdentifier:e})=>M0(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(jR,"1.0.3",n),(0,js.registerVersion)(jR,"1.0.3","esm2017")}();const S9=new yE.Yd("@firebase/database-compat"),Gx=function(n){S9.warn("FIREBASE WARNING: "+n)};class A9{constructor(t){this._delegate=t}cancel(t){(0,E.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,E.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,E.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,E.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,E.Dv)("OnDisconnect.set",1,2,arguments.length),(0,E.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,E.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,E.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,E.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Gx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,E.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class M9{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,E.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Wa{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,E.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,E.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,E.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,E.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,E.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),dp("DataSnapshot.child","path",t,!1),new Wa(this._database,this._delegate.child(t))}hasChild(t){return(0,E.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,E.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,E.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,E.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Wa(this._database,e)))}hasChildren(){return(0,E.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,E.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,E.Dv)("DataSnapshot.ref",0,0,arguments.length),new mr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,E.Dv)("Query.on",2,4,arguments.length),(0,E.Wj)("Query.on","callback",e,!1);const o=fi.getCancelAndContextArgs_("Query.on",i,r),a=(d,p)=>{e.call(o.context,new Wa(this.database,d),p)};a.userCallback=e,a.context=o.context;const c=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return T0(this._delegate,a,c),e;case"child_added":return Fx(this._delegate,a,c),e;case"child_removed":return Ux(this._delegate,a,c),e;case"child_changed":return Lx(this._delegate,a,c),e;case"child_moved":return Vx(this._delegate,a,c),e;default:throw new Error((0,E.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,E.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,E.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,E.Wj)("Query.off","callback",e,!0),(0,E.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Bx(this._delegate,t,r)}else Bx(this._delegate,t)}get(){return U6(this._delegate).then(t=>new Wa(this.database,t))}once(t,e,i,r){(0,E.Dv)("Query.once",1,4,arguments.length),(0,E.Wj)("Query.once","callback",e,!0);const s=fi.getCancelAndContextArgs_("Query.once",i,r),o=new E.BH,a=(d,p)=>{const g=new Wa(this.database,d);e&&e.call(s.context,g,p),o.resolve(g)};a.userCallback=e,a.context=s.context;const c=d=>{s.cancel&&s.cancel.call(s.context,d),o.reject(d)};switch(t){case"value":T0(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":Fx(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":Ux(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":Lx(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Vx(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,E.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,E.Dv)("Query.limitToFirst",1,1,arguments.length),new fi(this.database,ds(this._delegate,function q6(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new G6(n)}(t)))}limitToLast(t){return(0,E.Dv)("Query.limitToLast",1,1,arguments.length),new fi(this.database,ds(this._delegate,function Z6(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new K6(n)}(t)))}orderByChild(t){return(0,E.Dv)("Query.orderByChild",1,1,arguments.length),new fi(this.database,ds(this._delegate,function Q6(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dp("orderByChild","path",n,!1),new Y6(n)}(t)))}orderByKey(){return(0,E.Dv)("Query.orderByKey",0,0,arguments.length),new fi(this.database,ds(this._delegate,function J6(){return new X6}()))}orderByPriority(){return(0,E.Dv)("Query.orderByPriority",0,0,arguments.length),new fi(this.database,ds(this._delegate,function t9(){return new e9}()))}orderByValue(){return(0,E.Dv)("Query.orderByValue",0,0,arguments.length),new fi(this.database,ds(this._delegate,function i9(){return new n9}()))}startAt(t=null,e){return(0,E.Dv)("Query.startAt",0,2,arguments.length),new fi(this.database,ds(this._delegate,function $6(n=null,t){return up("startAt","key",t,!0),new Hx(n,t)}(t,e)))}startAfter(t=null,e){return(0,E.Dv)("Query.startAfter",0,2,arguments.length),new fi(this.database,ds(this._delegate,function W6(n,t){return up("startAfter","key",t,!0),new z6(n,t)}(t,e)))}endAt(t=null,e){return(0,E.Dv)("Query.endAt",0,2,arguments.length),new fi(this.database,ds(this._delegate,function B6(n,t){return up("endAt","key",t,!0),new jx(n,t)}(t,e)))}endBefore(t=null,e){return(0,E.Dv)("Query.endBefore",0,2,arguments.length),new fi(this.database,ds(this._delegate,function H6(n,t){return up("endBefore","key",t,!0),new j6(n,t)}(t,e)))}equalTo(t,e){return(0,E.Dv)("Query.equalTo",1,2,arguments.length),new fi(this.database,ds(this._delegate,function s9(n,t){return up("equalTo","key",t,!0),new r9(n,t)}(t,e)))}toString(){return(0,E.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,E.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,E.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof fi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,E.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,E.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,E.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new mr(this.database,new Br(this._delegate._repo,this._delegate._path))}}class mr extends fi{constructor(t,e){super(t,new ir(e._repo,e._path,new W_,!1)),this.database=t,this._delegate=e}getKey(){return(0,E.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,E.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new mr(this.database,uc(this._delegate,t))}getParent(){(0,E.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new mr(this.database,t):null}getRoot(){return(0,E.Dv)("Reference.root",0,0,arguments.length),new mr(this.database,this._delegate.root)}set(t,e){(0,E.Dv)("Reference.set",1,2,arguments.length),(0,E.Wj)("Reference.set","onComplete",e,!0);const i=I0(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,E.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Gx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ur("Reference.update",this._delegate._path),(0,E.Wj)("Reference.update","onComplete",e,!0);const i=V6(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,E.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,E.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function L6(n,t,e){if(Ur("setWithPriority",n._path),Gs("setWithPriority",t,n._path,!1),_0("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new E.BH;return v0(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,E.Dv)("Reference.remove",0,1,arguments.length),(0,E.Wj)("Reference.remove","onComplete",t,!0);const e=function N6(n){return Ur("remove",n._path),I0(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,E.Dv)("Reference.transaction",1,3,arguments.length),(0,E.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,E.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,E.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function w9(n,t,e){var i;if(n=(0,E.m9)(n),Ur("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new E.BH,a=T0(n,()=>{});return function T6(n,t,e,i,r,s){gd(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:zR(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=C0(n,t,void 0);o.currentInputSnapshot=a;const c=o.update(a.val());if(void 0===c)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{cp("transaction failed: Data returned ",c,o.path),o.status=0;const d=ly(n.transactionQueueTree_,t),p=lc(d)||[];let g;p.push(o),p0(d,p),"object"==typeof c&&null!==c&&(0,E.r3)(c,".priority")?(g=(0,E.DV)(c,".priority"),(0,E.hu)(lp(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(oy(n.serverSyncTree_,t)||qe.EMPTY_NODE).getPriority().val();const _=hp(n),v=cn(c,g),b=d0(v,a,_);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=b,o.currentWriteId=hy(n);const I=r0(n.serverSyncTree_,t,b,o.currentWriteId,o.applyLocally);gr(n.eventQueue_,t,I),fy(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(c,d,p)=>{let g=null;c?s.reject(c):(g=new cc(p,new Br(n._repo,n._path),Kt),s.resolve(new C9(d,g)))},a,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new M9(s.committed,new Wa(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,E.Dv)("Reference.setPriority",1,2,arguments.length),(0,E.Wj)("Reference.setPriority","onComplete",e,!0);const i=function F6(n,t){n=(0,E.m9)(n),Ur("setPriority",n._path),_0("setPriority",t,!1);const e=new E.BH;return v0(n._repo,sn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,E.Dv)("Reference.push",0,2,arguments.length),(0,E.Wj)("Reference.push","onComplete",e,!0);const i=function x6(n,t){n=(0,E.m9)(n),Ur("push",n._path),Gs("push",t,n._path,!0);const e=wx(n._repo),i=O6(e),r=uc(n,i),s=uc(n,i);let o;return o=null!=t?I0(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new mr(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new mr(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ur("Reference.onDisconnect",this._delegate._path),new A9(new Ox(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gp{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:h9,forceLongPolling:f9}}useEmulator(t,e,i={}){!function Wx(n,t,e,i={}){(n=(0,E.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&zs("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Gf(Gf.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,E.Sg)(i.mockUserToken,n.app.options.projectId);s=new Gf(o)}!function a9(n,t,e,i){n.repoInfo_=new SE(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,E.Dv)("database.ref",0,1,arguments.length),t instanceof mr){const e=Nx(this._delegate,t.toString());return new mr(this,e)}{const e=xx(this._delegate,t);return new mr(this,e)}}refFromURL(t){(0,E.Dv)("database.refFromURL",1,1,arguments.length);const i=Nx(this._delegate,t);return new mr(this,i)}goOffline(){return(0,E.Dv)("database.goOffline",0,0,arguments.length),function p9(n){(n=(0,E.m9)(n))._checkNotDeleted("goOffline"),Ix(n._repo)}(this._delegate)}goOnline(){return(0,E.Dv)("database.goOnline",0,0,arguments.length),function g9(n){(n=(0,E.m9)(n))._checkNotDeleted("goOnline"),function I6(n){n.persistentConnection_&&n.persistentConnection_.resume(Cx)}(n._repo)}(this._delegate)}}gp.ServerValue={TIMESTAMP:function v9(){return y9}(),increment:n=>function b9(n){return{".sv":{increment:n}}}(n)};var k9=Object.freeze({__proto__:null,initStandalone:function P9({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){bE(e);const a=new jo.H0("database-standalone"),c=new jo.zt("auth-internal",a);let d;return c.setComponent(new jo.wA("auth-internal",()=>i,"PRIVATE")),r&&(d=new jo.zt("app-check-internal",a),d.setComponent(new jo.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new gp(M0(n,c,d,t,o),n),namespace:s}}});const R9=gp.ServerValue;function mp(n,t,e="on",i=Vf){return new ze(r=>{let s=null;return s=n[e](t,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe(he(r=>{const{snapshot:s,prevKey:o}=r;let a=null;return s.exists()&&(a=s.key),{type:t,payload:s,prevKey:o,key:a}}),N())}function qx(n){return null==n}function Kx(n){return"function"==typeof n.set}function Zx(n,t){return Kx(t)?t:n.ref(t)}function Yx(n,t){if(function x9(n){return"string"==typeof n}(n))return t.stringCase();if(Kx(n))return t.firebaseCase();if(function N9(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Qx(n){return(qx(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Xx(n,t,e){return G(...(t=Qx(t)).map(r=>mp(n,r,"on",e)))}function Jx(n,t){return function(i,r){return Yx(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function U9(n){return function(e){return e?Yx(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function e1(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function H9(n,t){const{payload:e,prevKey:i,key:r}=t,s=e1(n,r),o=function j9(n,t){if(qx(t))return 0;{const e=e1(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(c=>{const d={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,n=[...n,d],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(c=>c.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(s>-1){const a=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,a),n}return n;default:return n}}function t1(n,t,e){return function B9(n,t,e){return mp(n,"value","once",e).pipe(En(i=>{const r=[Se(i)];return t.forEach(s=>r.push(mp(n,s,"on",e))),G(...r).pipe(d_(H9,[]))}),BR())}(n,t=Qx(t),e)}function n1(n,t){return function(){return mp(n,"value","on",t)}}!function O9(n){n.INTERNAL.registerComponent(new jo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new gp(r,i)},"PUBLIC").setServiceProps({Reference:mr,Query:fi,Database:gp,DataSnapshot:Wa,enableLogging:m9,INTERNAL:k9,ServerValue:R9}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.3")}(as.Z);const W9=new oe("angularfire2.realtimeDatabaseURL"),G9=new oe("angularfire2.database.use-emulator");let P0=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,a,c,d,p,g,_,v,b,I,k){this.schedulers=a;const B=c,Y=N_(e,o,i);d&&UR(Y,o,p,_,v,b,g,I),this.database=_E(`${Y.name}.database.${r}`,"AngularFireDatabase",Y.name,()=>{const x=o.runOutsideAngular(()=>Y.database(r||void 0));return B&&x.useEmulator(...B),x},[B])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Zx(this.database,e));let s=r;return i&&(s=i(r)),function $9(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Jx(i,"update"),set:Jx(i,"set"),push:r=>i.push(r),remove:U9(i),snapshotChanges:r=>t1(n,r,e).pipe(Hs),stateChanges:r=>Xx(n,r,e).pipe(Hs),auditTrail:r=>function F9(n,t,e){return function V9(n,t,e){return function L9(n,t){return mp(n,"value","on",t).pipe(he(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function L5(...n){const t=gs(n);return j((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)nn(n[c]).subscribe(ue(i,d=>{s[c]=d,!a&&!o[c]&&(o[c]=!0,(a=o.every(hn))&&(o=null))},ve));e.subscribe(ue(i,c=>{if(a){const d=[c,...s];i.next(t?t(...d):d)}}))})}(t),he(([r,s])=>{const o=r.lastKeyToLoad,a=s.map(c=>c.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function V5(n){return j((t,e)=>{let i=!1,r=0;t.subscribe(ue(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),he(r=>r.actions))}(n,Xx(n,t).pipe(d_((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Hs),valueChanges:(r,s)=>t1(n,r,e).pipe(he(a=>a.map(c=>s&&s.idField?{...c.payload.val(),[s.idField]:c.key}:c.payload.val())),Hs)}}(s,this)}object(e){return function z9(n,t){return{query:n,snapshotChanges:()=>n1(n,t.schedulers.outsideAngular)().pipe(Hs),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>n1(n,t.schedulers.outsideAngular)().pipe(Hs,he(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Zx(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(R(Bf),R(jf,8),R(W9,8),R(Hl),R(We),R(mE),R(G9,8),R(F_,8),R(OR,8),R(xR,8),R(NR,8),R(FR,8),R(LR,8),R(VR,8),R(gE,8))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),q9=(()=>{class n{constructor(){as.Z.registerVersion("angularfire",Uf.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=tt({type:n});static \u0275inj=ct({providers:[P0]})}return n})();function K9(n,t){if(1&n&&Ie(0,"div",9),2&n){const e=Ae();Po("height",e.pbThickness,"px")("color",e.pbColor),Rn("ngx-position-absolute",e.loaderId!==e.defaultConfig.masterLoaderId)("loading-foreground",e.showForeground)("foreground-closing",e.foregroundClosing)("fast-closing",e.foregroundClosing&&e.fastFadeOut),le("ngClass","ngx-progress-bar-"+e.pbDirection)}}function Z9(n,t){if(1&n&&Ie(0,"img",10),2&n){const e=Ae();Po("width",e.logoSize,"px")("height",e.logoSize,"px")("top",e.logoTop),le("ngClass",e.logoPosition)("src",e.trustedLogoUrl,Ea)}}function Y9(n,t){1&n&&Ie(0,"div")}function Q9(n,t){if(1&n&&(L(0,"div"),Te(1,Y9,1,0,"div",11),F()),2&n){const e=Ae();rC(e.fgSpinnerClass),ie(1),le("ngForOf",e.fgDivs)}}function X9(n,t){1&n&&hm(0)}function J9(n,t){1&n&&Te(0,X9,1,0,"ng-container",12),2&n&&le("ngTemplateOutlet",Ae().fgsTemplate)}function eq(n,t){1&n&&Ie(0,"div")}function tq(n,t){if(1&n&&(L(0,"div"),Te(1,eq,1,0,"div",11),F()),2&n){const e=Ae();rC(e.bgSpinnerClass),ie(1),le("ngForOf",e.bgDivs)}}function nq(n,t){1&n&&hm(0)}function iq(n,t){1&n&&Te(0,nq,1,0,"ng-container",12),2&n&&le("ngTemplateOutlet",Ae().bgsTemplate)}var _p=(()=>{return(n=_p||(_p={})).ballScaleMultiple="ball-scale-multiple",n.ballSpin="ball-spin",n.ballSpinClockwise="ball-spin-clockwise",n.ballSpinClockwiseFadeRotating="ball-spin-clockwise-fade-rotating",n.ballSpinFadeRotating="ball-spin-fade-rotating",n.chasingDots="chasing-dots",n.circle="circle",n.cubeGrid="cube-grid",n.doubleBounce="double-bounce",n.fadingCircle="fading-circle",n.foldingCube="folding-cube",n.pulse="pulse",n.rectangleBounce="rectangle-bounce",n.rectangleBounceParty="rectangle-bounce-party",n.rectangleBouncePulseOut="rectangle-bounce-pulse-out",n.rectangleBouncePulseOutRapid="rectangle-bounce-pulse-out-rapid",n.rotatingPlane="rotating-plane",n.squareJellyBox="square-jelly-box",n.squareLoader="square-loader",n.threeBounce="three-bounce",n.threeStrings="three-strings",n.wanderingCubes="wandering-cubes",_p;var n})(),_r=(()=>{return(n=_r||(_r={})).bottomCenter="bottom-center",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.centerCenter="center-center",n.centerLeft="center-left",n.centerRight="center-right",n.topCenter="top-center",n.topLeft="top-left",n.topRight="top-right",_r;var n})(),yy=(()=>{return(n=yy||(yy={})).leftToRight="ltr",n.rightToLeft="rtl",yy;var n})();const vy="fg-default",by="bg-default",sq={},_d=!1,yd=!0,Cy={"ball-scale-multiple":{divs:3,class:"sk-ball-scale-multiple"},"ball-spin":{divs:8,class:"sk-ball-spin"},"ball-spin-clockwise":{divs:8,class:"sk-ball-spin-clockwise"},"ball-spin-clockwise-fade-rotating":{divs:8,class:"sk-ball-spin-clockwise-fade-rotating"},"ball-spin-fade-rotating":{divs:8,class:"sk-ball-spin-fade-rotating"},"chasing-dots":{divs:2,class:"sk-chasing-dots"},circle:{divs:12,class:"sk-circle"},"cube-grid":{divs:9,class:"sk-cube-grid"},"double-bounce":{divs:2,class:"sk-double-bounce"},"fading-circle":{divs:12,class:"sk-fading-circle"},"folding-cube":{divs:4,class:"sk-folding-cube"},pulse:{divs:1,class:"sk-pulse"},"rectangle-bounce":{divs:5,class:"sk-rectangle-bounce"},"rectangle-bounce-party":{divs:5,class:"sk-rectangle-bounce-party"},"rectangle-bounce-pulse-out":{divs:5,class:"sk-rectangle-bounce-pulse-out"},"rectangle-bounce-pulse-out-rapid":{divs:5,class:"sk-rectangle-bounce-pulse-out-rapid"},"rotating-plane":{divs:1,class:"sk-rotating-plane"},"square-jelly-box":{divs:2,class:"sk-square-jelly-box"},"square-loader":{divs:1,class:"sk-square-loader"},"three-bounce":{divs:3,class:"sk-three-bounce"},"three-strings":{divs:3,class:"sk-three-strings"},"wandering-cubes":{divs:2,class:"sk-wandering-cubes"}},oq={bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:_r.bottomRight,bgsSize:60,bgsType:_p.ballSpinClockwise,blur:5,delay:0,fastFadeOut:!1,fgsColor:"#00ACC1",fgsPosition:_r.centerCenter,fgsSize:60,fgsType:_p.ballSpinClockwise,gap:24,logoPosition:_r.centerCenter,logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:yy.leftToRight,pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:_r.centerCenter,maxTime:-1,minTime:300},R0=new oe("ngxUiLoaderCustom.config");let O0=(()=>{class n{constructor(e){this.config=e,this.defaultConfig=Object.assign({},oq),this.config&&(this.config.minTime&&this.config.minTime<0&&(this.config.minTime=0),this.defaultConfig=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.loaders={},this.showForeground=new ui({loaderId:"",isShow:!1}),this.showForeground$=this.showForeground.asObservable(),this.showBackground=new ui({loaderId:"",isShow:!1}),this.showBackground$=this.showBackground.asObservable(),this.fgClosing=new ui({loaderId:"",isShow:!1}),this.foregroundClosing$=this.fgClosing.asObservable(),this.bgClosing=new ui({loaderId:"",isShow:!1}),this.backgroundClosing$=this.bgClosing.asObservable()}bindLoaderData(e){const i=e===this.defaultConfig.masterLoaderId;if(this.loaders[e]){if(this.loaders[e].isBound)throw new Error(`[ngx-ui-loader] - loaderId "${e}" is duplicated.`);this.loaders[e].isBound=!0,this.loaders[e].isMaster=i,this.hasRunningTask(yd,e)?this.showForeground.next({loaderId:e,isShow:!0}):this.hasRunningTask(_d,e)&&this.showBackground.next({loaderId:e,isShow:!0})}else this.createLoaderData(e,i,!0)}destroyLoaderData(e){this.stopAllLoader(e),delete this.loaders[e]}getDefaultConfig(){return Object.assign({},this.defaultConfig)}getLoaders(){return JSON.parse(JSON.stringify(this.loaders))}getLoader(e){return this.loaders[e=e||this.defaultConfig.masterLoaderId]?JSON.parse(JSON.stringify(this.loaders[e])):null}startLoader(e,i=vy,r){this.readyToStart(e,i,!0,r)&&(this.loaders[e].tasks[i].isOtherRunning||(this.hasRunningTask(_d,e)&&(this.backgroundCloseout(e),this.showBackground.next({loaderId:e,isShow:!1})),this.showForeground.next({loaderId:e,isShow:!0})))}start(e=vy,i){this.startLoader(this.defaultConfig.masterLoaderId,e,i)}startBackgroundLoader(e,i=by,r){this.readyToStart(e,i,!1,r)&&!this.hasRunningTask(yd,e)&&!this.loaders[e].tasks[i].isOtherRunning&&this.showBackground.next({loaderId:e,isShow:!0})}startBackground(e=by,i){this.startBackgroundLoader(this.defaultConfig.masterLoaderId,e,i)}stopLoader(e,i=vy){this.readyToStop(e,i)&&(this.hasRunningTask(yd,e)||(this.foregroundCloseout(e),this.showForeground.next({loaderId:e,isShow:!1}),this.hasRunningTask(_d,e)&&setTimeout(()=>{this.hasRunningTask(_d,e)&&this.showBackground.next({loaderId:e,isShow:!0})},this.defaultConfig.fastFadeOut?300:500)))}stop(e=vy){this.stopLoader(this.defaultConfig.masterLoaderId,e)}stopBackgroundLoader(e,i=by){this.readyToStop(e,i)&&!this.hasRunningTask(yd,e)&&!this.hasRunningTask(_d,e)&&(this.backgroundCloseout(e),this.showBackground.next({loaderId:e,isShow:!1}))}stopBackground(e=by){this.stopBackgroundLoader(this.defaultConfig.masterLoaderId,e)}stopAllLoader(e){this.loaders[e]?(this.hasRunningTask(yd,e)?(this.foregroundCloseout(e),this.showForeground.next({loaderId:e,isShow:!1})):this.hasRunningTask(_d,e)&&(this.backgroundCloseout(e),this.showBackground.next({loaderId:e,isShow:!1})),this.clearAllTimers(this.loaders[e].tasks),this.loaders[e].tasks={}):console.warn(`[ngx-ui-loader] - loaderId "${e}" does not exist.`)}stopAll(){this.stopAllLoader(this.defaultConfig.masterLoaderId)}hasRunningTask(e,i,r){if(this.loaders[i]){const s=this.loaders[i].tasks;return r?!!s[r]&&!!s[r].startAt:Object.keys(s).some(o=>!!s[o].startAt&&s[o].isForeground===e)}return!1}createLoaderData(e,i,r){this.loaders[e]||(this.loaders[e]={loaderId:e,tasks:{},isMaster:i,isBound:r})}foregroundCloseout(e){this.fgClosing.next({loaderId:e,isShow:!0}),setTimeout(()=>{this.fgClosing.next({loaderId:e,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}backgroundCloseout(e){this.bgClosing.next({loaderId:e,isShow:!0}),setTimeout(()=>{this.bgClosing.next({loaderId:e,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}clearTimers(e){clearTimeout(e.delayTimer),clearTimeout(e.maxTimer),clearTimeout(e.minTimer)}clearAllTimers(e){Object.keys(e).map(i=>{this.clearTimers(e[i])})}readyToStart(e,i,r,s=sq){this.createLoaderData(e,void 0,!1);const o=this.hasRunningTask(r,e);if(this.loaders[e].tasks[i]){if(this.loaders[e].tasks[i].isForeground!==r)throw new Error(`[ngx-ui-loader] - taskId "${i}" is duplicated.`)}else this.loaders[e].tasks[i]={taskId:i,isForeground:r,minTime:s.minTime>=0?s.minTime:this.defaultConfig.minTime,maxTime:s.maxTime?s.maxTime:this.defaultConfig.maxTime,delay:s.delay>=0?s.delay:this.defaultConfig.delay};return!(this.setDelayTimer(this.loaders[e].tasks[i],e)||(this.loaders[e].tasks[i]=Object.assign(Object.assign({},this.loaders[e].tasks[i]),{isOtherRunning:o,startAt:Date.now()}),this.setMaxTimer(this.loaders[e].tasks[i],e),!this.loaders[e].isBound))}readyToStop(e,i){if(!this.loaders[e])return console.warn(`[ngx-ui-loader] - loaderId "${e}" does not exist.`),!1;const r=this.loaders[e].tasks[i];return!(!r||(r.isDelayed?(this.clearTimers(r),delete this.loaders[e].tasks[i],1):this.setMinTimer(r,e)||(this.clearTimers(r),delete this.loaders[e].tasks[i],0)))}setDelayTimer(e,i){if(e.delay>0){if(e.isDelayed)return!0;if(!e.delayTimer)return e.isDelayed=!0,e.delayTimer=setTimeout(()=>{e.isDelayed=!1,e.isForeground?this.startLoader(i,e.taskId):this.startBackgroundLoader(i,e.taskId)},e.delay),!0}return!1}setMaxTimer(e,i){e.maxTime>e.minTime&&(clearTimeout(e.maxTimer),e.maxTimer=setTimeout(()=>{e.isForeground?this.stopLoader(i,e.taskId):this.stopBackgroundLoader(i,e.taskId)},e.maxTime))}setMinTimer(e,i){const r=Date.now();return!!(e.startAt&&e.startAt+e.minTime>r)&&(e.minTimer=setTimeout(()=>{e.isForeground?this.stopLoader(i,e.taskId):this.stopBackgroundLoader(i,e.taskId)},e.startAt+e.minTime-r),!0)}}return n.\u0275fac=function(e){return new(e||n)(R(R0,8))},n.\u0275prov=ae({factory:function(){return new n(R(R0,8))},token:n,providedIn:"root"}),n})(),aq=(()=>{class n{constructor(e,i,r){this.domSanitizer=e,this.changeDetectorRef=i,this.ngxService=r,this.initialized=!1,this.defaultConfig=this.ngxService.getDefaultConfig(),this.bgsColor=this.defaultConfig.bgsColor,this.bgsOpacity=this.defaultConfig.bgsOpacity,this.bgsPosition=this.defaultConfig.bgsPosition,this.bgsSize=this.defaultConfig.bgsSize,this.bgsType=this.defaultConfig.bgsType,this.fastFadeOut=this.defaultConfig.fastFadeOut,this.fgsColor=this.defaultConfig.fgsColor,this.fgsPosition=this.defaultConfig.fgsPosition,this.fgsSize=this.defaultConfig.fgsSize,this.fgsType=this.defaultConfig.fgsType,this.gap=this.defaultConfig.gap,this.loaderId=this.defaultConfig.masterLoaderId,this.logoPosition=this.defaultConfig.logoPosition,this.logoSize=this.defaultConfig.logoSize,this.logoUrl=this.defaultConfig.logoUrl,this.overlayBorderRadius=this.defaultConfig.overlayBorderRadius,this.overlayColor=this.defaultConfig.overlayColor,this.pbColor=this.defaultConfig.pbColor,this.pbDirection=this.defaultConfig.pbDirection,this.pbThickness=this.defaultConfig.pbThickness,this.hasProgressBar=this.defaultConfig.hasProgressBar,this.text=this.defaultConfig.text,this.textColor=this.defaultConfig.textColor,this.textPosition=this.defaultConfig.textPosition}ngOnInit(){this.initializeSpinners(),this.ngxService.bindLoaderData(this.loaderId),this.determinePositions(),this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl),this.showForegroundWatcher=this.ngxService.showForeground$.pipe(Yn(e=>this.loaderId===e.loaderId)).subscribe(e=>{this.showForeground=e.isShow,this.changeDetectorRef.markForCheck()}),this.showBackgroundWatcher=this.ngxService.showBackground$.pipe(Yn(e=>this.loaderId===e.loaderId)).subscribe(e=>{this.showBackground=e.isShow,this.changeDetectorRef.markForCheck()}),this.foregroundClosingWatcher=this.ngxService.foregroundClosing$.pipe(Yn(e=>this.loaderId===e.loaderId)).subscribe(e=>{this.foregroundClosing=e.isShow,this.changeDetectorRef.markForCheck()}),this.backgroundClosingWatcher=this.ngxService.backgroundClosing$.pipe(Yn(e=>this.loaderId===e.loaderId)).subscribe(e=>{this.backgroundClosing=e.isShow,this.changeDetectorRef.markForCheck()}),this.initialized=!0}ngOnChanges(e){if(!this.initialized)return;const s=e.logoUrl;(e.fgsType||e.bgsType)&&this.initializeSpinners(),this.determinePositions(),s&&(this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl))}ngOnDestroy(){this.ngxService.destroyLoaderData(this.loaderId),this.showForegroundWatcher&&this.showForegroundWatcher.unsubscribe(),this.showBackgroundWatcher&&this.showBackgroundWatcher.unsubscribe(),this.foregroundClosingWatcher&&this.foregroundClosingWatcher.unsubscribe(),this.backgroundClosingWatcher&&this.backgroundClosingWatcher.unsubscribe()}initializeSpinners(){this.fgDivs=Array(Cy[this.fgsType].divs).fill(1),this.fgSpinnerClass=Cy[this.fgsType].class,this.bgDivs=Array(Cy[this.bgsType].divs).fill(1),this.bgSpinnerClass=Cy[this.bgsType].class}determinePositions(){this.logoTop="initial",this.spinnerTop="initial",this.textTop="initial",this.logoPosition.startsWith("center")?this.logoTop="50%":this.logoPosition.startsWith("top")&&(this.logoTop="30px"),this.fgsPosition.startsWith("center")?this.spinnerTop="50%":this.fgsPosition.startsWith("top")&&(this.spinnerTop="30px"),this.textPosition.startsWith("center")?this.textTop="50%":this.textPosition.startsWith("top")&&(this.textTop="30px"),this.fgsPosition===_r.centerCenter?this.logoUrl&&this.logoPosition===_r.centerCenter?this.text&&this.textPosition===_r.centerCenter?(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - 12px - ${this.gap}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px - 12px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap}px + ${this.fgsSize/2}px)`)):(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - ${this.gap/2}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`)):this.text&&this.textPosition===_r.centerCenter&&(this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.fgsSize/2}px + ${this.gap/2}px)`)):this.logoUrl&&this.logoPosition===_r.centerCenter&&this.text&&this.textPosition===_r.centerCenter&&(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`))}}return n.\u0275fac=function(e){return new(e||n)(P(uP),P(Ns),P(O0))},n.\u0275cmp=Nt({type:n,selectors:[["ngx-ui-loader"]],inputs:{bgsColor:"bgsColor",bgsOpacity:"bgsOpacity",bgsPosition:"bgsPosition",bgsSize:"bgsSize",bgsType:"bgsType",fgsColor:"fgsColor",fgsPosition:"fgsPosition",fgsSize:"fgsSize",fgsType:"fgsType",gap:"gap",loaderId:"loaderId",logoPosition:"logoPosition",logoSize:"logoSize",logoUrl:"logoUrl",overlayBorderRadius:"overlayBorderRadius",overlayColor:"overlayColor",pbColor:"pbColor",pbDirection:"pbDirection",pbThickness:"pbThickness",hasProgressBar:"hasProgressBar",text:"text",textColor:"textColor",textPosition:"textPosition",bgsTemplate:"bgsTemplate",fgsTemplate:"fgsTemplate"},features:[_i],decls:13,vars:50,consts:[["class","ngx-progress-bar",3,"ngx-position-absolute","ngClass","height","color","loading-foreground","foreground-closing","fast-closing",4,"ngIf"],[1,"ngx-overlay"],["class","ngx-loading-logo",3,"ngClass","src","width","height","top",4,"ngIf"],[1,"ngx-foreground-spinner",3,"ngClass"],[3,"class",4,"ngIf","ngIfElse"],["foregroundTemplate",""],[1,"ngx-loading-text",3,"ngClass"],[1,"ngx-background-spinner",3,"ngClass"],["backgroundTemplate",""],[1,"ngx-progress-bar",3,"ngClass"],[1,"ngx-loading-logo",3,"ngClass","src"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(Te(0,K9,1,13,"div",0),L(1,"div",1),Te(2,Z9,1,8,"img",2),L(3,"div",3),Te(4,Q9,2,3,"div",4),Te(5,J9,1,1,"ng-template",null,5,wm),F(),L(7,"div",6),te(8),F()(),L(9,"div",7),Te(10,tq,2,3,"div",4),Te(11,iq,1,1,"ng-template",null,8,wm),F()),2&e){const r=Ui(6),s=Ui(12);le("ngIf",i.hasProgressBar),ie(1),Po("background-color",i.overlayColor)("border-radius",i.overlayBorderRadius),Rn("ngx-position-absolute",i.loaderId!==i.defaultConfig.masterLoaderId)("loading-foreground",i.showForeground)("foreground-closing",i.foregroundClosing)("fast-closing",i.foregroundClosing&&i.fastFadeOut),ie(1),le("ngIf",i.logoUrl),ie(1),Po("color",i.fgsColor)("width",i.fgsSize,"px")("height",i.fgsSize,"px")("top",i.spinnerTop),le("ngClass",i.fgsPosition),ie(1),le("ngIf",!i.fgsTemplate)("ngIfElse",r),ie(3),Po("top",i.textTop)("color",i.textColor),le("ngClass",i.textPosition),ie(1),Si(i.text),ie(1),Po("width",i.bgsSize,"px")("height",i.bgsSize,"px")("color",i.bgsColor)("opacity",i.bgsOpacity),Rn("ngx-position-absolute",i.loaderId!==i.defaultConfig.masterLoaderId)("loading-background",i.showBackground)("background-closing",i.backgroundClosing)("fast-closing",i.backgroundClosing&&i.fastFadeOut),le("ngClass",i.bgsPosition),ie(1),le("ngIf",!i.bgsTemplate)("ngIfElse",s)}},dependencies:[sw,Hm,tr,xM],styles:['.ngx-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:99999!important;display:none;color:#00acc1;overflow:hidden}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%], .ngx-progress-bar.loading-foreground[_ngcontent-%COMP%]{display:block}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-progress-bar.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-progress-bar[_ngcontent-%COMP%]:after, .ngx-progress-bar[_ngcontent-%COMP%]:before{background-color:currentColor;content:"";display:block;width:100%;height:100%;position:absolute;top:0}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{transform:translate3d(-100%,0,0)}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-ltr 12s ease-out 0s 1 normal;transform:translate3d(-5%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{transform:translate3d(100%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-rtl 12s ease-out 0s 1 normal;transform:translate3d(5%,0,0)}.foreground-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr .6s ease-out 0s 1!important}.foreground-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl .6s ease-out 0s 1!important}@keyframes _ngcontent-%COMP%_progressBar-slide-ltr{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-rtl{0%{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translateZ(0)}}.ngx-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998!important;background-color:rgba(40,40,40,.8);cursor:progress;display:none}.ngx-overlay.foreground-closing[_ngcontent-%COMP%], .ngx-overlay.loading-foreground[_ngcontent-%COMP%]{display:block}.ngx-overlay.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-overlay.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-overlay[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;margin:0;color:#00acc1}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%]{position:fixed;margin:0;width:120px;height:120px}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:fixed;margin:0;font-family:sans-serif;font-weight:400;font-size:1.2em;color:#fff}.ngx-background-spinner[_ngcontent-%COMP%]{position:fixed;z-index:99997!important;width:60px;height:60px;margin:0;color:#00acc1;opacity:.6;display:none}.ngx-background-spinner.background-closing[_ngcontent-%COMP%], .ngx-background-spinner.loading-background[_ngcontent-%COMP%]{display:block}.ngx-background-spinner.background-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .7s ease-out}.ngx-background-spinner.fast-closing[_ngcontent-%COMP%]{transition:opacity .4s ease-out!important}.ngx-position-absolute[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute.ngx-progress-bar[_ngcontent-%COMP%]{z-index:99996!important}.ngx-position-absolute.ngx-overlay[_ngcontent-%COMP%]{z-index:99995!important}.ngx-position-absolute.ngx-background-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%]   .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{z-index:99994!important}.top-left[_ngcontent-%COMP%]{top:30px;left:30px}.top-center[_ngcontent-%COMP%]{top:30px;left:50%;transform:translateX(-50%)}.top-right[_ngcontent-%COMP%]{top:30px;right:30px}.center-left[_ngcontent-%COMP%]{top:50%;left:30px;transform:translateY(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:30px;transform:translateY(-50%)}.bottom-left[_ngcontent-%COMP%]{bottom:30px;left:30px}.bottom-center[_ngcontent-%COMP%]{bottom:30px;left:50%;transform:translateX(-50%)}.bottom-right[_ngcontent-%COMP%]{bottom:30px;right:30px}.sk-ball-scale-multiple[_ngcontent-%COMP%], .sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-scale-multiple[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:100%;opacity:0;animation:_ngcontent-%COMP%_ball-scale-multiple 1s linear 0s infinite}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.sk-ball-spin[_ngcontent-%COMP%], .sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s ease-in-out infinite}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise[_ngcontent-%COMP%], .sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s ease-in-out infinite}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate 6s linear infinite}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating 1s linear infinite}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0;animation:_ngcontent-%COMP%_ball-spin-fade-rotate 6s linear infinite}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-fade 1s linear infinite}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin-fade-rotate{to{transform:rotate(1turn)}}@keyframes _ngcontent-%COMP%_ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.sk-chasing-dots[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:absolute;text-align:center;animation:_ngcontent-%COMP%_sk-chasingDots-rotate 2s linear infinite}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-chasingDots-bounce 2s ease-in-out infinite}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:auto;bottom:0;animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-chasingDots-rotate{to{transform:rotate(1turn)}}@keyframes _ngcontent-%COMP%_sk-chasingDots-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-circle-bounceDelay 1.2s ease-in-out infinite both}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-circle-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-cube-grid[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%;height:33%;background-color:currentColor;float:left;animation:_ngcontent-%COMP%_sk-cubeGrid-scaleDelay 1.3s ease-in-out infinite}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){animation-delay:.2s}@keyframes _ngcontent-%COMP%_sk-cubeGrid-scaleDelay{0%,70%,to{transform:scaleX(1)}35%{transform:scale3D(0,0,1)}}.sk-double-bounce[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin:auto}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:currentColor;opacity:.6;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-doubleBounce-bounce 2s ease-in-out infinite}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-doubleBounce-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-fading-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-fadingCircle-FadeDelay 1.2s ease-in-out infinite both}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-fadingCircle-FadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}.sk-folding-cube[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;transform:rotate(45deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-foldingCube-angle 2.4s linear infinite both;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:.9s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:.6s}@keyframes _ngcontent-%COMP%_sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0deg);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.sk-pulse[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-pulse-scaleOut 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sk-pulse-scaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.sk-rectangle-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;height:100%;width:10%;margin:0 5%;display:inline-block;animation:_ngcontent-%COMP%_sk-rectangleBounce-stretchDelay 1.2s ease-in-out infinite}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.9s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.8s}@keyframes _ngcontent-%COMP%_sk-rectangleBounce-stretchDelay{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.sk-rectangle-bounce-party[_ngcontent-%COMP%], .sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-party[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;width:10%;height:100%;margin:0 5%;border-radius:0;animation-name:_ngcontent-%COMP%_rectangle-bounce-party;animation-iteration-count:infinite}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{animation-duration:.43s;animation-delay:-.23s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-duration:.62s;animation-delay:-.32s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-duration:.43s;animation-delay:-.44s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-duration:.8s;animation-delay:-.31s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-duration:.74s;animation-delay:-.24s}@keyframes _ngcontent-%COMP%_rectangle-bounce-party{0%{transform:scaleY(1)}50%{transform:scaleY(.4)}to{transform:scaleY(1)}}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.7s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.4)}to{transform:scaley(1)}}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.65s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.4s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.4)}90%{transform:scaley(1)}}.sk-rotating-plane[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;margin:auto}.sk-rotating-plane[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-rotatePlane 1.2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sk-rotatePlane{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.sk-square-jelly-box[_ngcontent-%COMP%], .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-jelly-box[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-25%;z-index:99997;height:100%;border-radius:10%;animation:_ngcontent-%COMP%_square-jelly-box-animate .6s linear -.1s infinite}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;animation:_ngcontent-%COMP%_square-jelly-box-shadow .6s linear -.1s infinite}@keyframes _ngcontent-%COMP%_square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes _ngcontent-%COMP%_square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.sk-square-loader[_ngcontent-%COMP%], .sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-loader[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid;width:100%;height:100%;background:transparent;border-width:3px;border-radius:0;animation:_ngcontent-%COMP%_square-loader 2s ease infinite}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;animation:_ngcontent-%COMP%_square-loader-inner 2s ease-in infinite}@keyframes _ngcontent-%COMP%_square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes _ngcontent-%COMP%_square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.sk-three-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:35%;width:30%;height:30%;background-color:currentColor;border-radius:100%;display:inline-block;animation:_ngcontent-%COMP%_sk-threeBounce-bounceDelay 1.4s ease-in-out infinite both}.bottom-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:70%!important}.top-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:0!important}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{animation-delay:-.32s}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-threeBounce-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-three-strings[_ngcontent-%COMP%], .sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;border-radius:50%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{left:0;top:0;animation:_ngcontent-%COMP%_sk-threeStrings-rotateOne 1s linear infinite;border-bottom:3px solid}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){right:0;top:0;animation:_ngcontent-%COMP%_sk-threeStrings-rotateTwo 1s linear infinite;border-right:3px solid}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){right:0;bottom:0;animation:_ngcontent-%COMP%_sk-threeStrings-rotateThree 1s linear infinite;border-top:3px solid}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0deg)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(1turn)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0deg)}to{transform:rotateX(50deg) rotateY(10deg) rotate(1turn)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0deg)}to{transform:rotateX(35deg) rotateY(55deg) rotate(1turn)}}.sk-wandering-cubes[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;text-align:center}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;width:25%;height:25%;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-wanderingCubes-cubeMove 1.8s ease-in-out infinite}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-wanderingCubes-cubeMove{25%{transform:translateX(290%) rotate(-90deg) scale(.5)}50%{transform:translateX(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translateX(290%) translateY(290%) rotate(-180deg)}75%{transform:translateX(0) translateY(290%) rotate(-270deg) scale(.5)}to{transform:rotate(-1turn)}}'],changeDetection:0}),n})(),lq=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:R0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[cf]}),n})();new oe("ngxUiLoaderRouterCustom.config"),new oe("ngxUiLoaderHttpCustom.config");let wy=(()=>{class n{constructor(e,i){this.firebaseDb=e,this.ngxService=i,this.productId=new ui(""),this.productId$=this.productId.asObservable()}getProducts(){return this.firebaseDb.list("Product").valueChanges()}addProduct(e){const i=this.generateCustomId(e.price);e.id=i,this.firebaseDb.object("Product/"+i).set(e),this.firebaseDb.list("Product-Notifications").push({type:"newProduct",productId:i})}deleteProduct(e){this.firebaseDb.object("Product/"+e).remove()}updateProduct(e,i){this.firebaseDb.object("Product/"+i).update(e)}getProductById(e){return this.firebaseDb.object("Product/"+e).valueChanges()}setProductId(e){this.productId.next(e)}getNewProductAdded(){return this.firebaseDb.list("Product-Notifications").valueChanges()}ngxServiceLoader(){this.ngxService.start(),setTimeout(()=>{this.ngxService.stop()},2e3)}generateCustomId(e="custom"){return`${e}_${(new Date).getTime().toString(16)}_${Math.floor(1e6*Math.random()).toString(16)}`}}return n.\u0275fac=function(e){return new(e||n)(R(P0),R(O0))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x0=(()=>{class n{constructor(e){this.firebaseDb=e}getWallet(e){return this.firebaseDb.object(`wallets/${e}`).valueChanges()}topUp(e,i){this.firebaseDb.object(`wallets/${e}/balance`).query.ref.transaction(r=>(r||0)+i)}withdraw(e,i){this.firebaseDb.object(`wallets/${e}/balance`).query.ref.transaction(r=>{const s=(r||0)-i;return s>=0?s:r})}}return n.\u0275fac=function(e){return new(e||n)(R(P0))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qs=(()=>{class n{constructor(e){this.afAuth=e,this.user$=e.authState}signUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i)}signIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}signOut(){return this.afAuth.signOut()}resetPassword(e){return this.afAuth.sendPasswordResetEmail(e)}isUserAuthenticated(){return this.user$.pipe(he(e=>!!e))}getCurrentUser(){return this.afAuth.currentUser}}return n.\u0275fac=function(e){return new(e||n)(R(F_))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ey(n){return null!=n&&"false"!=`${n}`}function Dy(n){return Array.isArray(n)?n:[n]}function Nn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vd(n){return n instanceof Wt?n.nativeElement:n}const uq=["addListener","removeListener"],dq=["addEventListener","removeEventListener"],hq=["on","off"];function Sy(n,t,e,i){if(C(e)&&(i=e,e=void 0),i)return Sy(n,t,e).pipe(vw(i));const[r,s]=function gq(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?dq.map(o=>a=>n[o](t,a,e)):function fq(n){return C(n.addListener)&&C(n.removeListener)}(n)?uq.map(c1(n,t)):function pq(n){return C(n.on)&&C(n.off)}(n)?hq.map(c1(n,t)):[];if(!r&&gt(n))return Rt(o=>Sy(o,t,e))(nn(n));if(!r)throw new TypeError("Invalid event target");return new ze(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function c1(n,t){return e=>i=>n[e](t,i)}const yp={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=yp;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new at(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=yp;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=yp;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},yq=new class _q extends x_{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class mq extends O_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=yp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(yp.cancelAnimationFrame(e),t._scheduled=void 0)}});let N0,vq=1;const Iy={};function u1(n){return n in Iy&&(delete Iy[n],!0)}const bq={setImmediate(n){const t=vq++;return Iy[t]=!0,N0||(N0=Promise.resolve()),N0.then(()=>u1(t)&&n()),t},clearImmediate(n){u1(n)}},{setImmediate:Cq,clearImmediate:wq}=bq,Ty={setImmediate(...n){const{delegate:t}=Ty;return(t?.setImmediate||Cq)(...n)},clearImmediate(n){const{delegate:t}=Ty;return(t?.clearImmediate||wq)(n)},delegate:void 0},Sq=new class Dq extends x_{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Eq extends O_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ty.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Ty.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function F0(n,t=Vf){return function Iq(n){return j((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const d=r;r=null,e.next(d)}o&&e.complete()},c=()=>{s=null,o&&e.complete()};t.subscribe(ue(e,d=>{i=!0,r=d,s||nn(n(d)).subscribe(s=ue(e,a,c))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function Aq(n=0,t,e=_5){let i=-1;return null!=t&&(gi(t)?e=t:i=t),new ze(r=>{let s=function Tq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}function bd(n){return j((t,e)=>{nn(n).subscribe(ue(e,()=>e.complete(),ve)),!e.closed&&t.subscribe(e)})}let L0;try{L0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{L0=!1}let vp,Ay,dc,U0,yr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function D$(n){return n===LM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!L0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(R(Hl))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();function V0(n){return function Mq(){if(null==vp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vp=!0}))}finally{vp=vp||!1}return vp}()?n:!!n.capture}function f1(){if(null==dc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return dc=!1,dc;if("scrollBehavior"in document.documentElement.style)dc=!0;else{const n=Element.prototype.scrollTo;dc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return dc}function bp(){if("object"!=typeof document||!document)return 0;if(null==Ay){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Ay=0,0===n.scrollLeft&&(n.scrollLeft=1,Ay=0===n.scrollLeft?1:2),n.remove()}return Ay}function hc(n){return n.composedPath?n.composedPath()[0]:n.target}function B0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Rq=new oe("cdk-dir-doc",{providedIn:"root",factory:function Oq(){return Qe(vt)}}),xq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let My=(()=>{class n{constructor(e){this.value="ltr",this.change=new Tt,e&&(this.value=function Nq(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?xq.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(R(Rq,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();const Fq=["contentWrapper"],Lq=["*"],Vq=new oe("VIRTUAL_SCROLL_STRATEGY");let Py=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ze(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(F0(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Se()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Yn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=vd(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Sy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(R(We),R(yr),R(vt,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p1=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new V,this._elementScrolled=new ze(o=>this.ngZone.runOutsideAngular(()=>Sy(this.elementRef.nativeElement,"scroll").pipe(bd(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=bp()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==bp()?e.left=e.right:1==bp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;f1()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&2==bp()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==bp()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(Py),P(We),P(My,8))},n.\u0275dir=be({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),j0=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new V,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(F0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(R(yr),R(We),R(vt,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g1=new oe("VIRTUAL_SCROLLABLE");let jq=(()=>{class n extends p1{constructor(e,i,r,s){super(e,i,r,s)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(Py),P(We),P(My,8))},n.\u0275dir=be({type:n,features:[ut]}),n})();const $q=typeof requestAnimationFrame<"u"?yq:Sq;let zq=(()=>{class n extends jq{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Ey(e)}constructor(e,i,r,s,o,a,c,d){super(e,a,r,o),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=d,this._platform=Qe(yr),this._detachedSubject=new V,this._renderedRangeSubject=new V,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ze(p=>this._scrollStrategy.scrolledIndexChange.subscribe(g=>Promise.resolve().then(()=>this.ngZone.run(()=>p.next(g))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=at.EMPTY,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Vw(null),F0(0,$q)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(bd(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function Hq(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const s="horizontal"==this.orientation,o=s?"X":"Y";let c=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(c+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==e?o?s:r:"end"==e?o?r:s:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(Ns),P(We),P(Vq,8),P(My,8),P(Py),P(j0),P(g1,8))},n.\u0275cmp=Nt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Cm(Fq,7),2&e){let r;Jh(r=ef())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&Rn("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Gt([{provide:p1,useFactory:(t,e)=>t||e,deps:[[new yo,new ou(g1)],n]}]),ut,mC],ngContentSelectors:Lq,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(Nu(),L(0,"div",0,1),Ul(2),F(),Ie(3,"div",2)),2&e&&(ie(3),Po("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),m1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[Cp,m1,zq,Cp,m1]}),n})();class H0{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $0 extends H0{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class y1 extends H0{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Wq extends H0{constructor(t){super(),this.element=t instanceof Wt?t.nativeElement:t}}class z0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof y1?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Wq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gq extends z0{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||wi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let v1=(()=>{class n extends z0{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Tt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(P(Ll),P(Or),P(vt))},n.\u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ut]}),n})(),b1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({}),n})();const C1=f1();class qq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Nn(-this._previousScrollPosition.left),t.style.top=Nn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),C1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),C1&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Kq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Yn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class w1{enable(){}disable(){}attach(){}}function W0(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function E1(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Zq{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();W0(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Yq=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new w1,this.close=o=>new Kq(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new qq(this._viewportRuler,this._document),this.reposition=o=>new Zq(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(R(Py),R(j0),R(We),R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D1{constructor(t){if(this.scrollStrategy=new w1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Qq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let S1=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xq=(()=>{class n extends S1{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(R(vt),R(We,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jq=(()=>{class n extends S1{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=hc(s)},this._clickListener=s=>{const o=hc(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const p=c[d];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(o)||p.overlayElement.contains(a))break;const g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(R(vt),R(yr),R(We,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||B0()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),B0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(R(vt),R(yr))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class e7{constructor(t,e,i,r,s,o,a,c,d,p=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=p,this._backdropElement=null,this._backdropClick=new V,this._attachments=new V,this._detachments=new V,this._locationChanges=at.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new V,this._outsidePointerEvents=new V,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(os(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Nn(this._config.width),t.height=Nn(this._config.height),t.minWidth=Nn(this._config.minWidth),t.minHeight=Nn(this._config.minHeight),t.maxWidth=Nn(this._config.maxWidth),t.maxHeight=Nn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Dy(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bd(G(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const T1="cdk-overlay-connected-position-bounding-box",t7=/([A-Za-z%]+)$/;class n7{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V,this._resizeSubscription=at.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(T1),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),d=this._getOverlayPoint(c,e,a),p=this._getOverlayFit(d,e,i,a);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(p,d,i)?s.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<p.visibleArea)&&(o={overlayFit:p,overlayPoint:d,originPoint:c,position:a,overlayRect:e})}if(s.length){let a=null,c=-1;for(const d of s){const p=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);p>c&&(c=p,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(T1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?o:a}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=M1(e);let{x:o,y:a}=t,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(o+=c),d&&(a+=d);let _=0-a,v=a+s.height-i.height,b=this._subtractOverflows(s.width,0-o,o+s.width-i.width),I=this._subtractOverflows(s.height,_,v),k=b*I;return{visibleArea:k,isCompletelyWithinViewport:s.width*s.height===k,fitsInViewportVertically:I===s.height,fitsInViewportHorizontally:b==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=A1(this._overlayRef.getConfig().minHeight),a=A1(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=M1(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),c=Math.max(s.top-i.top-t.y,0),d=Math.max(s.left-i.left-t.x,0);let p=0,g=0;return p=r.width<=s.width?d||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,g=r.height<=s.height?c||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:p,y:g},{x:t.x+p,y:t.y+g}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Qq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,p,g,_;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-t.y+i.top,t.y),b=this._lastBoundingBoxSize.height;s=2*v,o=t.y-v,s>b&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)_=i.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)g=t.x,p=i.right-t.x;else{const v=Math.min(i.right-t.x+i.left,t.x),b=this._lastBoundingBoxSize.width;p=2*v,g=t.x-v,p>b&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.x-b/2)}return{top:o,left:g,bottom:a,right:_,width:p,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Nn(i.height),r.top=Nn(i.top),r.bottom=Nn(i.bottom),r.width=Nn(i.width),r.left=Nn(i.left),r.right=Nn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Nn(s)),o&&(r.maxWidth=Nn(o))}this._lastBoundingBoxSize=i,fc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const p=this._viewportRuler.getViewportScrollPosition();fc(i,this._getExactOverlayY(e,t,p)),fc(i,this._getExactOverlayX(e,t,p))}else i.position="static";let a="",c=this._getOffset(e,"x"),d=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Nn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Nn(o.maxWidth):s&&(i.maxWidth="")),fc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Nn(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Nn(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E1(t,i),isOriginOutsideView:W0(t,i),isOverlayClipped:E1(e,i),isOverlayOutsideView:W0(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Dy(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Wt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function fc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function A1(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(t7);return e&&"px"!==e?null:parseFloat(t)}return n||null}function M1(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const P1="cdk-global-overlay-wrapper";class i7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(P1),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),d=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),p=this._xPosition,g=this._xOffset,_="rtl"===this._overlayRef.getConfig().direction;let v="",b="",I="";c?I="flex-start":"center"===p?(I="center",_?b=g:v=g):_?"left"===p||"end"===p?(I="flex-end",v=g):("right"===p||"start"===p)&&(I="flex-start",b=g):"left"===p||"start"===p?(I="flex-start",v=g):("right"===p||"end"===p)&&(I="flex-end",b=g),t.position=this._cssPosition,t.marginLeft=c?"0":v,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":b,e.justifyContent=I,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(P1),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let r7=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new i7}flexibleConnectedTo(e){return new n7(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(R(j0),R(vt),R(yr),R(I1))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s7=0,ky=(()=>{class n{constructor(e,i,r,s,o,a,c,d,p,g,_,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=d,this._directionality=p,this._location=g,this._outsideClickDispatcher=_,this._animationsModuleType=v}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new D1(e);return o.direction=o.direction||this._directionality.value,new e7(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+s7++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Hu)),new Gq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(R(Yq),R(I1),R(Ll),R(r7),R(Xq),R(wi),R(We),R(vt),R(My),R(Rm),R(Jq),R($l,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l7={provide:new oe("cdk-connected-overlay-scroll-strategy"),deps:[ky],useFactory:function a7(n){return()=>n.scrollStrategies.reposition()}};let c7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({providers:[ky,l7],imports:[Cp,b1,_1,_1]}),n})();function k1(n){return Yn((t,e)=>n<=e)}function R1(n,t=Vf){return j((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=s;s=null,i.next(d)}};function c(){const d=o+n,p=t.now();if(p<d)return r=this.schedule(void 0,d-p),void i.add(r);a()}e.subscribe(ue(i,d=>{s=d,o=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const O1=new Set;let wd,y7=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function v7(n){if(!O1.has(n))try{wd||(wd=document.createElement("style"),wd.setAttribute("type","text/css"),document.head.appendChild(wd)),wd.sheet&&(wd.sheet.insertRule(`@media ${n} {body{ }}`,0),O1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(R(yr))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let G0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new V}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return x1(Dy(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Fw(x1(Dy(e)).map(o=>this._registerQuery(o).observable));return s=c_(s.pipe(os(1)),s.pipe(k1(1),R1(0))),s.pipe(he(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ze(o=>{const a=c=>this._zone.run(()=>o.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Vw(i),he(({matches:o})=>({query:e,matches:o})),bd(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(R(y7),R(We))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function V1(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function U1(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const M7=new oe("cdk-input-modality-detector-options"),P7={ignoreKeys:[18,17,224,91,16]},Ed=V0({passive:!0,capture:!0});let k7=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new ui(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V1(o)?"keyboard":"mouse"),this._mostRecentTarget=hc(o))},this._onTouchstart=o=>{U1(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hc(o))},this._options={...P7,...s},this.modalityDetected=this._modality.pipe(k1(1)),this.modalityChanged=this.modalityDetected.pipe(BR()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ed),r.addEventListener("mousedown",this._onMousedown,Ed),r.addEventListener("touchstart",this._onTouchstart,Ed)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ed),document.removeEventListener("mousedown",this._onMousedown,Ed),document.removeEventListener("touchstart",this._onTouchstart,Ed))}}return n.\u0275fac=function(e){return new(e||n)(R(yr),R(We),R(vt),R(M7,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R7=new oe("liveAnnouncerElement",{providedIn:"root",factory:function O7(){return null}}),x7=new oe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let N7=0,j1=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+N7++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(R(R7,8),R(We),R(vt),R(x7,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F7=new oe("cdk-focus-monitor-default-options"),Ry=V0({passive:!0,capture:!0});let H1=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new V,this._rootNodeFocusAndBlurListener=a=>{for(let d=hc(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=vd(e);if(!this._platform.isBrowser||1!==r.nodeType)return Se(null);const s=function kq(n){if(function Pq(){if(null==U0){const n=typeof document<"u"?document.head:null;U0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return U0}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new V,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=vd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=vd(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=hc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ry),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ry)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bd(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ry),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ry),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(R(We),R(yr),R(k7),R(vt,8),R(F7,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $1="cdk-high-contrast-black-on-white",z1="cdk-high-contrast-white-on-black",q0="cdk-high-contrast-active";let L7=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Qe(G0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(q0,$1,z1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(q0,$1):2===i&&e.add(q0,z1)}}}return n.\u0275fac=function(e){return new(e||n)(R(yr),R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W1=new So("15.2.9"),G1=new So("12.2.13"),z7=new oe("mat-sanity-checks",{providedIn:"root",factory:function $7(){return!0}});let pc,Ks=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!1}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&G1.full!==W1.full&&console.warn("The Angular Material version ("+G1.full+") does not match the Angular CDK version ("+W1.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(R(L7),R(z7,8),R(vt))},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[Cp,Cp]}),n})();function q1(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ey(t)}}}function W7(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function G7(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ey(t)}}}try{pc=typeof Intl<"u"}catch{pc=!1}class rK{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Z1={enterDuration:225,exitDuration:150},K0=V0({passive:!0}),Y1=["mousedown","touchstart"],Q1=["mouseup","mouseleave","touchend","touchcancel"];class oK{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},Z1),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function lK(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,d=s.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=a-o+"px",p.style.top=c-o+"px",p.style.height=2*o+"px",p.style.width=2*o+"px",null!=i.color&&(p.style.backgroundColor=i.color),p.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(p),function aK(n){window.getComputedStyle(n).getPropertyValue("opacity")}(p),p.style.transform="scale(1)";const g=new rK(this,p,i);return g.state=0,this._activeRipples.add(g),i.persistent||(this._mostRecentTransientRipple=g),this._runTimeoutOutsideZone(()=>{const _=g===this._mostRecentTransientRipple;g.state=1,!i.persistent&&(!_||!this._isPointerDown)&&g.fadeOut()},d),g}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},Z1),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=vd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Y1))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Q1),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=V1(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!U1(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,K0)})})}_removeTriggerEvents(){this._triggerElement&&(Y1.forEach(t=>{this._triggerElement.removeEventListener(t,this,K0)}),this._pointerUpEventsRegistered&&Q1.forEach(t=>{this._triggerElement.removeEventListener(t,this,K0)}))}}const cK=new oe("mat-ripple-global-options");let xy=(()=>{class n{constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new oK(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(We),P(yr),P(cK,8),P($l,8))},n.\u0275dir=be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Rn("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[Ks,d1,Ks]}),n})();const nN=["mat-button",""],iN=["*"],yK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vK=W7(q1(G7(class{constructor(n){this._elementRef=n}})));let sN=(()=>{class n extends vK{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of yK)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(H1),P($l,8))},n.\u0275cmp=Nt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Cm(xy,5),2&e){let r;Jh(r=ef())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Di("disabled",i.disabled||null),Rn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ut],attrs:nN,ngContentSelectors:iN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Nu(),L(0,"span",0),Ul(1),F(),Ie(2,"span",1)(3,"span",2)),2&e&&(ie(2),Rn("mat-button-ripple-round",i.isRoundButton||i.isIconButton),le("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[xy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),bK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[X1,Ks,Ks]}),n})();class oN{}class CK{}const zo="*";function wK(n,t){return{type:7,name:n,definitions:t,options:{}}}function aN(n,t=null){return{type:4,styles:t,timings:n}}function lN(n,t=null){return{type:2,steps:n,options:t}}function Ep(n){return{type:6,styles:n,offset:null}}function cN(n,t,e){return{type:0,name:n,styles:t,options:e}}function uN(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function dN(n){Promise.resolve().then(n)}class Dp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?dN(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Z0="!";function EK(n,t){if(1&n){const e=Rr();L(0,"div",1)(1,"button",2),Oe("click",function(){return Jt(e),en(Ae().action())}),te(2),F()()}if(2&n){const e=Ae();ie(2),Si(e.data.action)}}function DK(n,t){}const fN=new oe("MatSnackBarData");class Ny{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const SK=Math.pow(2,31)-1;class Y0{constructor(t,e){this._overlayRef=e,this._afterDismissed=new V,this._afterOpened=new V,this._onAction=new V,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,SK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let IK=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(P(Y0),P(fN))},n.\u0275cmp=Nt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(L(0,"span"),te(1),F(),Te(2,EK,3,1,"div",0)),2&e&&(ie(1),Si(i.data.message),ie(1),le("ngIf",i.hasAction))},dependencies:[tr,sN],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const TK={snackBarState:wK("state",[cN("void, hidden",Ep({transform:"scale(0.8)",opacity:0})),cN("visible",Ep({transform:"scale(1)",opacity:1})),uN("* => visible",aN("150ms cubic-bezier(0, 0, 0.2, 1)")),uN("* => void, * => hidden",aN("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ep({opacity:0})))])};let AK=(()=>{class n extends z0{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new V,this._onExit=new V,this._onEnter=new V,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(os(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(P(We),P(Wt),P(Ns),P(yr),P(Ny))},n.\u0275cmp=Nt({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&Cm(v1,7),2&e){let r;Jh(r=ef())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&Jb("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&lC("@state",i._animationState)},features:[ut],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(L(0,"div",0),Te(1,DK,0,0,"ng-template",1),F(),Ie(2,"div")),2&e&&(ie(2),Di("aria-live",i._live)("role",i._role))},dependencies:[v1],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[TK.snackBarState]}}),n})(),pN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[c7,b1,cf,bK,Ks,Ks]}),n})();const gN=new oe("mat-snack-bar-default-options",{providedIn:"root",factory:function MK(){return new Ny}});let Fy=(()=>{class n{constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=IK,this.snackBarContainerComponent=AK,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=wi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Ny,useValue:i}]}),o=new $0(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new Ny),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new Y0(o,s);if(e instanceof Os){const c=new y1(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),d=new $0(e,void 0,c),p=o.attachComponentPortal(d);a.instance=p.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(bd(s.detachments())).subscribe(c=>{const d=s.overlayElement.classList;c.matches?d.add(this.handsetCssClass):d.remove(this.handsetCssClass)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new D1;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!o&&"center"!==e.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return wi.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Y0,useValue:i},{provide:fN,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(R(ky),R(j1),R(wi),R(G0),R(n,12),R(gN))},n.\u0275prov=ae({factory:function(){return new n(R(ky),R(j1),R(wb),R(G0),R(n,12),R(gN))},token:n,providedIn:pN}),n})();function PK(n,t){1&n&&Ie(0,"img",23),2&n&&le("src",Ae(2).selectedProduct.picture,Ea)}function kK(n,t){if(1&n&&(L(0,"div",12)(1,"div",13)(2,"div",14),Te(3,PK,1,1,"img",15),F(),L(4,"div",16)(5,"div",17)(6,"h2",18),te(7,"Product Details"),F(),L(8,"h5",19),te(9),F(),L(10,"p",20)(11,"strong"),te(12,"Details:"),F(),te(13),F(),L(14,"p",20)(15,"strong"),te(16,"Price:"),F(),te(17),ko(18,"currency"),F(),L(19,"div",21)(20,"button",22),te(21,"Buy Now"),F()()()()()()),2&n){const e=Ae();ie(3),le("ngIf",e.selectedProduct.picture),ie(6),Si(e.selectedProduct.name),ie(4),Bi(" ",e.selectedProduct.description,""),ie(4),Bi(" ",Ro(18,4,e.selectedProduct.price,"AED "),"")}}let mN=(()=>{class n{constructor(e,i,r,s,o,a){this.activatedRoute=e,this.apiService=i,this.walletService=r,this.authService=s,this.snackBar=o,this.router=a,this.selectedProduct=new fE,this.userId="",this.currentBalance=0}ngOnInit(){this.getProductId(),this.getUser()}getUser(){this.authService.user$.subscribe(e=>{this.userId=e.uid,this.getWallet(this.userId)})}getWallet(e){this.walletService.getWallet(e).subscribe(i=>{this.currentBalance=i?.balance})}getProductDetails(e){this.apiService.getProductById(e).subscribe(i=>{console.log("Product:",i),this.selectedProduct=i})}getProductId(){var e,i;console.log("activatedRoute:",null===(e=this.activatedRoute.snapshot.firstChild)||void 0===e?void 0:e.params.id);const r=null===(i=this.activatedRoute.snapshot.firstChild)||void 0===i?void 0:i.params.id;console.log("Product ID:",r),this.getProductDetails(r)}onBuyConfirmed(e){this.currentBalance>=e?(this.walletService.withdraw(this.userId,e),this.snackBar.open("Purchase successful! Your remaining balance is "+(this.currentBalance-e),"Close",{duration:5e3}),this.router.navigate(["/dashboard"])):this.snackBar.open("Your current balance is insufficient for this transaction.","Close",{duration:5e3})}}return n.\u0275fac=function(e){return new(e||n)(P(Bs),P(wy),P(x0),P(qs),P(Fy),P(mn))},n.\u0275cmp=Nt({type:n,selectors:[["app-view-product"]],decls:16,vars:1,consts:[[1,"container","mt-5","ml-2"],["class","card","style","overflow-x: hidden;",4,"ngIf"],["id","confirmationModal","tabindex","-1","aria-labelledby","confirmationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"card",2,"overflow-x","hidden"],[1,"row","no-gutters"],[1,"col-md-4"],["alt","View Image","class","card-img img-fluid",3,"src",4,"ngIf"],[1,"col-md-8"],[1,"card-body","p-5"],[1,"card-title"],[1,"card-subtitle","mb-4"],[1,"card-text"],[1,"mt-4"],["data-bs-toggle","modal","data-bs-target","#confirmationModal",1,"btn","btn-primary"],["alt","View Image",1,"card-img","img-fluid",3,"src"]],template:function(e,i){1&e&&(L(0,"div",0),Te(1,kK,22,7,"div",1),F(),L(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),te(7,"Confirm Purchase"),F(),Ie(8,"button",7),F(),L(9,"div",8),te(10," Are you sure you want to purchase this product? "),F(),L(11,"div",9)(12,"button",10),te(13,"Cancel"),F(),L(14,"button",11),Oe("click",function(){return i.onBuyConfirmed(i.selectedProduct.price)}),te(15,"Buy Now"),F()()()()()),2&e&&(ie(1),le("ngIf",i.selectedProduct))},dependencies:[tr,lf]}),n})(),_N=(()=>{class n{constructor(){this.newProductAddedSource=new V,this.newProductAdded$=this.newProductAddedSource.asObservable()}notifyNewProductAdded(){this.newProductAddedSource.next(),console.log("product notified in data service.")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RK(n,t){if(1&n){const e=Rr();L(0,"button",6),Oe("click",function(){return Jt(e),en(Ae().openWallet())}),Ie(1,"i",7),te(2),ko(3,"currency"),F()}if(2&n){const e=Ae();ie(2),Bi(" ",Ro(3,1,e.currentBalance,"AED")," ")}}function OK(n,t){if(1&n){const e=Rr();L(0,"button",8),Oe("click",function(){return Jt(e),en(Ae().signOut())}),te(1," Sign Out "),F()}}let xK=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.walletService=r,this.isSignedIn=!1,this.currentBalance=0,this.userId=""}ngOnInit(){this.isLoggedIn(),this.getUser()}getUser(){this.authService.user$.subscribe(e=>{console.log(e),this.userId=e.uid,this.getWallet(this.userId)})}getWallet(e){this.walletService.getWallet(e).subscribe(i=>{this.currentBalance=i?.balance})}isLoggedIn(){this.authService.user$.subscribe(e=>{e&&(this.isSignedIn=!0)})}signOut(){this.authService.signOut()}openWallet(){this.router.navigate(["/wallet"])}}return n.\u0275fac=function(e){return new(e||n)(P(qs),P(mn),P(x0))},n.\u0275cmp=Nt({type:n,selectors:[["app-navbar"]],decls:7,vars:2,consts:[[1,"navbar"],[1,"navbar-header"],["target","_blank"],[1,"d-flex","mr-3"],["class","btn btn-primary mr-2",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"bi","bi-wallet2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(L(0,"nav",0)(1,"h1",1)(2,"a",2),te(3,"Zone Delivery Services"),F()(),L(4,"div",3),Te(5,RK,4,4,"button",4),Te(6,OK,2,0,"button",5),F()()),2&e&&(ie(5),le("ngIf",i.isSignedIn),ie(1),le("ngIf",i.isSignedIn))},dependencies:[tr,lf],styles:[".navbar[_ngcontent-%COMP%]{background-color:#8b0000;text-align:justify}.navbar-header[_ngcontent-%COMP%]{color:#f0f8ff;padding:15px;justify-content:left}"]}),n})();const yN="firebasestorage.googleapis.com",vN="storageBucket";class un extends E.ZR{constructor(t,e,i=0){super(Q0(t),`Firebase Storage: ${e} (${Q0(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Q0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Yt=(()=>{return(n=Yt||(Yt={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Yt;var n})();function Q0(n){return"storage/"+n}function X0(){return new un(Yt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bN(){return new un(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CN(){return new un(Yt.CANCELED,"User canceled the upload/download.")}function wN(){return new un(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dd(n){return new un(Yt.INVALID_ARGUMENT,n)}function EN(){return new un(Yt.APP_DELETED,"The Firebase app was deleted.")}function DN(n){return new un(Yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sp(n,t){return new un(Yt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ip(n){throw new un(Yt.INTERNAL_ERROR,"Internal error: "+n)}class Ai{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ai.makeFromUrl(t,e)}catch{return new Ai(t,"")}if(""===i.path)return i;throw function zK(n){return new un(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function d(re){re.path_=decodeURIComponent(re.path)}const g=e.replace(/[.]/g,"\\."),x=[{regex:a,indices:{bucket:1,path:3},postModify:function s(re){"/"===re.path.charAt(re.path.length-1)&&(re.path_=re.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:d},{regex:new RegExp(`^https?://${e===yN?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:d}];for(let re=0;re<x.length;re++){const Pe=x[re],ot=Pe.regex.exec(t);if(ot){let qi=ot[Pe.indices.path];qi||(qi=""),i=new Ai(ot[Pe.indices.bucket],qi),Pe.postModify(i);break}}if(null==i)throw function $K(n){return new un(Yt.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class ZK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Ly(n){return"string"==typeof n||n instanceof String}function SN(n){return J0()&&n instanceof Blob}function J0(){return typeof Blob<"u"}function eD(n,t,e,i){if(i<t)throw Dd(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Dd(`Invalid value for '${n}'. Expected ${e} or less.`)}function Wo(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function IN(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Ga=(()=>{return(n=Ga||(Ga={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Ga;var n})();function TN(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class tZ{constructor(t,e,i,r,s,o,a,c,d,p,g,_=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function XK(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=X0();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(r.canceled?this.appDelete_?EN():CN():bN())};this.canceled_?e(0,new Vy(!1,null,!0)):this.backoffId_=function YK(n,t,e){let i=1,r=null,s=null,o=!1,a=0;function c(){return 2===a}let d=!1;function p(...k){d||(d=!0,t.apply(null,k))}function g(k){r=setTimeout(()=>{r=null,n(v,c())},k)}function _(){s&&clearTimeout(s)}function v(k,...B){if(d)return void _();if(k)return _(),void p.call(null,k,...B);if(c()||o)return _(),void p.call(null,k,...B);let x;i<64&&(i*=2),1===a?(a=2,x=0):x=1e3*(i+Math.random()),g(x)}let b=!1;function I(k){b||(b=!0,_(),!d&&(null!==r?(k||(a=2),clearTimeout(r),g(0)):k||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,I(!0)},e),I}((i,r)=>{if(r)return void i(!1,new Vy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ga.NO_ERROR,c=s.getStatus();if(!a||TN(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Ga.ABORT;return void i(!1,new Vy(!1,null,p))}const d=-1!==this.successCodes_.indexOf(c);i(!0,new Vy(d,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function QK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vy{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function lZ(...n){const t=function aZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(J0())return new Blob(n);throw new un(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tD{constructor(t,e){this.data=t,this.contentType=e||null}}function nD(n,t){switch(n){case vr.RAW:return new tD(AN(t));case vr.BASE64:case vr.BASE64URL:return new tD(MN(n,t));case vr.DATA_URL:return new tD(function hZ(n){const t=new PN(n);return t.base64?MN(vr.BASE64,t.rest):function dZ(n){let t;try{t=decodeURIComponent(n)}catch{throw Sp(vr.DATA_URL,"Malformed data URL.")}return AN(t)}(t.rest)}(t),function fZ(n){return new PN(n).contentType}(t))}throw X0()}function AN(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function MN(n,t){switch(n){case vr.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Sp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case vr.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Sp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function uZ(n){if(typeof atob>"u")throw function KK(n){return new un(Yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Sp(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class PN{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Sp(vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function pZ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Zs{constructor(t,e){let i=0,r="";SN(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(SN(this.data_)){const r=function cZ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Zs(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Zs(i,!0)}}static getBlob(...t){if(J0()){const e=t.map(i=>i instanceof Zs?i.data_:i);return new Zs(lZ.apply(null,e))}{const e=t.map(o=>Ly(o)?nD(vr.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Zs(r,!0)}}uploadData(){return this.data_}}function iD(n){let t;try{t=JSON.parse(n)}catch{return null}return function eZ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function kN(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function _Z(n,t){return t}class Wi{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||_Z}}let Uy=null;function Tp(){if(Uy)return Uy;const n=[];n.push(new Wi("bucket")),n.push(new Wi("generation")),n.push(new Wi("metageneration")),n.push(new Wi("name","fullPath",!0));const e=new Wi("name");e.xform=function t(s,o){return function yZ(n){return!Ly(n)||n.length<2?n:kN(n)}(o)},n.push(e);const r=new Wi("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Wi("timeCreated")),n.push(new Wi("updated")),n.push(new Wi("md5Hash",null,!0)),n.push(new Wi("cacheControl",null,!0)),n.push(new Wi("contentDisposition",null,!0)),n.push(new Wi("contentEncoding",null,!0)),n.push(new Wi("contentLanguage",null,!0)),n.push(new Wi("contentType",null,!0)),n.push(new Wi("metadata","customMetadata",!0)),Uy=n,Uy}function RN(n,t,e){const i=iD(t);return null===i?null:function bZ(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function vZ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Ai(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function rD(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const ON="prefixes",xN="items";class Ys{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qs(n){if(!n)throw X0()}function By(n,t){return function e(i,r){const s=RN(n,r,t);return Qs(null!==s),s}}function Sd(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function jK(){return new un(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function BK(){return new un(Yt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function UK(n){return new un(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function HK(n){return new un(Yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Ap(n){const t=Sd(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function VK(n){return new un(Yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function NN(n,t,e){const r=Wo(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ys(r,"GET",By(n,e),o);return a.errorHandler=Ap(t),a}function IZ(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const a=Wo(t.bucketOnlyServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Ys(a,"GET",function DZ(n,t){return function e(i,r){const s=function EZ(n,t,e){const i=iD(e);return null===i?null:function wZ(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[ON])for(const r of e[ON]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new Ai(t,s));i.prefixes.push(o)}if(e[xN])for(const r of e[xN]){const s=n._makeStorageReference(new Ai(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Qs(null!==s),s}}(n,t.bucket),d);return p.urlParams=s,p.errorHandler=Sd(t),p}function LN(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function PZ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class jy{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function sD(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Qs(!1)}return Qs(!!e&&-1!==(t||["active"]).indexOf(e)),e}const xZ={STATE_CHANGED:"state_changed"},Gi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oD(n){switch(n){case"running":case"pausing":case"canceling":return Gi.RUNNING;case"paused":return Gi.PAUSED;case"success":return Gi.SUCCESS;case"canceled":return Gi.CANCELED;default:return Gi.ERROR}}class NZ{constructor(t,e,i){if(function JK(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Id(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let BN=null;class FZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ga.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ga.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ga.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ip("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ip("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ip("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ip("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ip("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class LZ extends FZ{initXhr(){this.xhr_.responseType="text"}}function hs(){return BN?BN():new LZ}class jN{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Tp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(TN(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=bN()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Yt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function kZ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=LN(t,i,r),a={name:o.fullPath},c=Wo(s,n.host,n._protocol),p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},g=rD(o,e),b=new Ys(c,"POST",function v(I){let k;sD(I);try{k=I.getResponseHeader("X-Goog-Upload-URL")}catch{Qs(!1)}return Qs(Ly(k)),k},n.maxUploadRetryTime);return b.urlParams=a,b.headers=p,b.body=g,b.errorHandler=Sd(t),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,hs,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function RZ(n,t,e,i){const c=new Ys(e,"POST",function s(d){const p=sD(d,["active","final"]);let g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qs(!1)}g||Qs(!1);const _=Number(g);return Qs(!isNaN(_)),new jy(_,i.size(),"final"===p)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Sd(t),c}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,hs,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new jy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function OZ(n,t,e,i,r,s,o,a){const c=new jy(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw function GK(){return new un(Yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const d=c.total-c.current;let p=d;r>0&&(p=Math.min(p,r));const g=c.current;let v="";v=0===p?"finalize":d===p?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},I=i.slice(g,g+p);if(null===I)throw wN();const x=new Ys(e,"POST",function k(re,Pe){const ot=sD(re,["active","final"]),Fn=c.current+p,qi=i.size();let wr;return wr="final"===ot?By(t,s)(re,Pe):null,new jy(Fn,qi,"final"===ot,wr)},t.maxUploadRetryTime);return x.headers=b,x.body=I.uploadData(),x.progressCallback=a||null,x.errorHandler=Sd(n),x}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(o,hs,r,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=NN(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,hs,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function VN(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let x="";for(let re=0;re<2;re++)x+=Math.random().toString().slice(2);return x}();o["Content-Type"]="multipart/related; boundary="+c;const d=LN(t,i,r),p=rD(d,e),v=Zs.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+p+"\r\n--"+c+"\r\nContent-Type: "+d.contentType+"\r\n\r\n",i,"\r\n--"+c+"--");if(null===v)throw wN();const b={name:d.fullPath},I=Wo(s,n.host,n._protocol),B=n.maxUploadRetryTime,Y=new Ys(I,"POST",By(n,e),B);return Y.urlParams=b,Y.headers=o,Y.body=v.uploadData(),Y.errorHandler=Sd(t),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,hs,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=CN(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=oD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new NZ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(oD(this._state)){case Gi.SUCCESS:Id(this._resolve.bind(null,this.snapshot))();break;case Gi.CANCELED:case Gi.ERROR:Id(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(oD(this._state)){case Gi.RUNNING:case Gi.PAUSED:t.next&&Id(t.next.bind(t,this.snapshot))();break;case Gi.SUCCESS:t.complete&&Id(t.complete.bind(t))();break;default:t.error&&Id(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class gc{constructor(t,e){this._service=t,this._location=e instanceof Ai?e:Ai.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new gc(t,e)}get root(){const t=new Ai(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kN(this._location.path)}get storage(){return this._service}get parent(){const t=function gZ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ai(this._location.bucket,t);return new gc(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw DN(t)}}function $N(n,t,e){return aD.apply(this,arguments)}function aD(){return(aD=(0,$s.Z)(function*(n,t,e){const r=yield zN(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield $N(n,t,r.nextPageToken))})).apply(this,arguments)}function zN(n,t){null!=t&&"number"==typeof t.maxResults&&eD("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=IZ(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,hs)}function ZZ(n){n._throwIfRoot("getDownloadURL");const t=function TZ(n,t,e){const r=Wo(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ys(r,"GET",function SZ(n,t){return function e(i,r){const s=RN(n,r,t);return Qs(null!==s),function CZ(n,t,e,i){const r=iD(t);if(null===r||!Ly(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const g=n.fullPath;return Wo("/b/"+o(n.bucket)+"/o/"+o(g),e,i)+IN({alt:"media",token:d})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return a.errorHandler=Ap(t),a}(n.storage,n._location,Tp());return n.storage.makeRequestWithTokens(t,hs).then(e=>{if(null===e)throw function qK(){return new un(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function WN(n,t){const e=function mZ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ai(n._location.bucket,e);return new gc(n.storage,i)}function GN(n,t){if(n instanceof lD){const e=n;if(null==e._bucket)throw function WK(){return new un(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vN+"' property when initializing the app?")}();const i=new gc(e,e._bucket);return null!=t?GN(i,t):i}return void 0!==t?WN(n,t):n}function JZ(n,t){if(t&&function QZ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof lD)return function XZ(n,t){return new gc(n,t)}(n,t);throw Dd("To use ref(service, url), the first argument must be a Storage instance.")}return GN(n,t)}function qN(n,t){const e=t?.[vN];return null==e?null:Ai.makeFromBucketSpec(e,n)}class lD{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=yN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ai.makeFromBucketSpec(r,this._host):qN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ai.makeFromBucketSpec(this._url,t):qN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){eD("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){eD("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,$s.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,$s.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new gc(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new ZK(EN());{const o=function oZ(n,t,e,i,r,s,o=!0){const a=IN(n.urlParams),c=n.url+a,d=Object.assign({},n.headers);return function rZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(d,t),function nZ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(d,e),function iZ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(d,s),function sZ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(d,i),new tZ(c,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,$s.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const KN="@firebase/storage";function QN(n,t){return JZ(n=(0,E.m9)(n),t)}function cY(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new lD(e,i,r,t,js.SDK_VERSION)}!function uY(){(0,js._registerComponent)(new jo.wA("storage",cY,"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(KN,"0.12.1",""),(0,js.registerVersion)(KN,"0.12.1","esm2017")}();class Hy{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class JN{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hy(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Hy(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new Hy(o,this,this._ref)):{next:e.next?o=>e.next(new Hy(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class eF{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Go(t,this._service))}get items(){return this._delegate.items.map(t=>new Go(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Go{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function lY(n,t){return WN(n,t)}(this._delegate,t);return new Go(e,this.storage)}get root(){return new Go(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Go(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new JN(function tY(n,t,e){return function zZ(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new jN(n,new Zs(t),e)}(n=(0,E.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=vr.RAW,i){this._throwIfRoot("putString");const r=nD(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new JN(new jN(this._delegate,new Zs(r.data,!0),s),this)}listAll(){return function sY(n){return function GZ(n){const t={prefixes:[],items:[]};return $N(n,t).then(()=>t)}(n=(0,E.m9)(n))}(this._delegate).then(t=>new eF(t,this.storage))}list(t){return function rY(n,t){return zN(n=(0,E.m9)(n),t)}(this._delegate,t||void 0).then(e=>new eF(e,this.storage))}getMetadata(){return function nY(n){return function qZ(n){n._throwIfRoot("getMetadata");const t=NN(n.storage,n._location,Tp());return n.storage.makeRequestWithTokens(t,hs)}(n=(0,E.m9)(n))}(this._delegate)}updateMetadata(t){return function iY(n,t){return function KZ(n,t){n._throwIfRoot("updateMetadata");const e=function AZ(n,t,e,i){const s=Wo(t.fullServerUrl(),n.host,n._protocol),a=rD(e,i),d=n.maxOperationRetryTime,p=new Ys(s,"PATCH",By(n,i),d);return p.headers={"Content-Type":"application/json; charset=utf-8"},p.body=a,p.errorHandler=Ap(t),p}(n.storage,n._location,t,Tp());return n.storage.makeRequestWithTokens(e,hs)}(n=(0,E.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function oY(n){return ZZ(n=(0,E.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function aY(n){return function YZ(n){n._throwIfRoot("deleteObject");const t=function MZ(n,t){const i=Wo(t.fullServerUrl(),n.host,n._protocol),a=new Ys(i,"DELETE",function o(c,d){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Ap(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,hs)}(n=(0,E.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw DN(t)}}class tF{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(nF(t))throw Dd("ref() expected a child path but got a URL, use refFromURL instead.");return new Go(QN(this._delegate,t),this)}refFromURL(t){if(!nF(t))throw Dd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ai.makeFromUrl(t,this._delegate.host)}catch{throw Dd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Go(QN(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function XN(n,t,e,i={}){!function eY(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,E.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function nF(n){return/^[A-Za-z]+:\/\//.test(n)}function pY(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new tF(e,i)}function iF(n){const t=function mY(n){return new ze(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(R1(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(he(e=>e.bytesTransferred/e.totalBytes*100))}}function $y(n){return{getDownloadURL:()=>Se(void 0).pipe(AR,En(()=>n.getDownloadURL()),Hs),getMetadata:()=>Se(void 0).pipe(AR,En(()=>n.getMetadata()),Hs),delete:()=>M(n.delete()),child:t=>$y(n.child(t)),updateMetadata:t=>M(n.updateMetadata(t)),put:(t,e)=>iF(n.put(t,e)),putString:(t,e,i)=>iF(n.putString(t,e,i)),list:t=>M(n.list(t)),listAll:()=>M(n.listAll())}}!function gY(n){const t={TaskState:Gi,TaskEvent:xZ,StringFormat:vr,Storage:tF,Reference:Go};n.INTERNAL.registerComponent(new jo.wA("storage-compat",pY,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.4")}(as.Z);const _Y=new oe("angularfire2.storageBucket"),yY=new oe("angularfire2.storage.maxUploadRetryTime"),vY=new oe("angularfire2.storage.maxOperationRetryTime"),bY=new oe("angularfire2.storage.use-emulator");let cD=(()=>{class n{storage;constructor(e,i,r,s,o,a,c,d,p,g){const _=N_(e,o,i);this.storage=_E(`${_.name}.storage.${r}`,"AngularFireStorage",_.name,()=>{const v=o.runOutsideAngular(()=>_.storage(r||void 0)),b=p;return b&&v.useEmulator(...b),c&&v.setMaxUploadRetryTime(c),d&&v.setMaxOperationRetryTime(d),v},[c,d])}ref(e){return $y(this.storage.ref(e))}refFromURL(e){return $y(this.storage.refFromURL(e))}upload(e,i,r){return $y(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(R(Bf),R(jf,8),R(_Y,8),R(Hl),R(We),R(mE),R(yY,8),R(vY,8),R(bY,8),R(gE,8))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),CY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=tt({type:n});static \u0275inj=ct({})}return n})(),wY=(()=>{class n{constructor(){as.Z.registerVersion("angularfire",Uf.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=tt({type:n});static \u0275inj=ct({providers:[cD],imports:[CY]})}return n})();function EY(n,t){if(1&n){const e=Rr();L(0,"a",12),Oe("keyup.enter",function(){return Jt(e),Ae(3),en(Ui(1).previous())})("click",function(){return Jt(e),Ae(3),en(Ui(1).previous())}),te(1),L(2,"span",13),te(3),F()()}if(2&n){const e=Ae(3);ie(1),Bi(" ",e.previousLabel," "),ie(2),Si(e.screenReaderPageLabel)}}function DY(n,t){if(1&n&&(L(0,"span",14),te(1),L(2,"span",13),te(3),F()()),2&n){const e=Ae(3);ie(1),Bi(" ",e.previousLabel," "),ie(2),Si(e.screenReaderPageLabel)}}function SY(n,t){if(1&n&&(L(0,"li",9),Te(1,EY,4,2,"a",10),Te(2,DY,4,2,"span",11),F()),2&n){Ae(2);const e=Ui(1);Rn("disabled",e.isFirstPage()),ie(1),le("ngIf",1<e.getCurrent()),ie(1),le("ngIf",e.isFirstPage())}}function IY(n,t){if(1&n){const e=Rr();L(0,"a",12),Oe("keyup.enter",function(){Jt(e);const r=Ae().$implicit;return Ae(2),en(Ui(1).setCurrent(r.value))})("click",function(){Jt(e);const r=Ae().$implicit;return Ae(2),en(Ui(1).setCurrent(r.value))}),L(1,"span",13),te(2),F(),L(3,"span"),te(4),ko(5,"number"),F()()}if(2&n){const e=Ae().$implicit,i=Ae(2);ie(2),Bi("",i.screenReaderPageLabel," "),ie(2),Si("..."===e.label?e.label:Ro(5,2,e.label,""))}}function TY(n,t){if(1&n&&(Ao(0),L(1,"span",16)(2,"span",13),te(3),F(),L(4,"span"),te(5),ko(6,"number"),F()(),Mo()),2&n){const e=Ae().$implicit,i=Ae(2);ie(3),Bi("",i.screenReaderCurrentLabel," "),ie(2),Si("..."===e.label?e.label:Ro(6,2,e.label,""))}}function AY(n,t){if(1&n&&(L(0,"li"),Te(1,IY,6,5,"a",10),Te(2,TY,7,5,"ng-container",15),F()),2&n){const e=t.$implicit;Ae(2);const i=Ui(1);Rn("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),ie(1),le("ngIf",i.getCurrent()!==e.value),ie(1),le("ngIf",i.getCurrent()===e.value)}}function MY(n,t){if(1&n){const e=Rr();L(0,"a",12),Oe("keyup.enter",function(){return Jt(e),Ae(3),en(Ui(1).next())})("click",function(){return Jt(e),Ae(3),en(Ui(1).next())}),te(1),L(2,"span",13),te(3),F()()}if(2&n){const e=Ae(3);ie(1),Bi(" ",e.nextLabel," "),ie(2),Si(e.screenReaderPageLabel)}}function PY(n,t){if(1&n&&(L(0,"span",14),te(1),L(2,"span",13),te(3),F()()),2&n){const e=Ae(3);ie(1),Bi(" ",e.nextLabel," "),ie(2),Si(e.screenReaderPageLabel)}}function kY(n,t){if(1&n&&(L(0,"li",17),Te(1,MY,4,2,"a",10),Te(2,PY,4,2,"span",11),F()),2&n){Ae(2);const e=Ui(1);Rn("disabled",e.isLastPage()),ie(1),le("ngIf",!e.isLastPage()),ie(1),le("ngIf",e.isLastPage())}}function RY(n,t){if(1&n&&(L(0,"ul",4),Te(1,SY,3,4,"li",5),L(2,"li",6),te(3),F(),Te(4,AY,3,6,"li",7),Te(5,kY,3,4,"li",8),F()),2&n){const e=Ae(),i=Ui(1);Rn("responsive",e.responsive),ie(1),le("ngIf",e.directionLinks),ie(2),oC(" ",i.getCurrent()," / ",i.getLastPage()," "),ie(1),le("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),ie(1),le("ngIf",e.directionLinks)}}class uD{constructor(){this.change=new Tt,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const OY=Number.MAX_SAFE_INTEGER;let xY=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let g=i.id||this.service.defaultId();return this.state[g]?this.state[g].slice:e}let a,c,r=i.totalItems&&i.totalItems!==e.length,s=this.createInstance(e,i),o=s.id,d=s.itemsPerPage,p=this.service.register(s);if(!r&&e instanceof Array){if(d=+d||OY,a=(s.currentPage-1)*d,c=a+d,this.stateIsIdentical(o,e,a,c))return this.state[o].slice;{let _=e.slice(a,c);return this.saveState(o,e,_,a,c),this.service.change.emit(o),_}}return p&&this.service.change.emit(o),this.saveState(o,e,e,a,c),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const r=["itemsPerPage","currentPage"].filter(s=>!(s in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,s,o){this.state[e]={collection:i,size:i.length,slice:r,start:s,end:o}}stateIsIdentical(e,i,r,s){let o=this.state[e];return!(!o||o.size!==i.length||o.start!==r||o.end!==s)&&o.slice.every((c,d)=>c===i[r+d])}}return n.\u0275fac=function(e){return new(e||n)(P(uD,16))},n.\u0275pipe=an({name:"paginate",type:n,pure:!1}),n})(),NY=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new Tt,this.pageBoundsCorrection=new Tt,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,s){s=+s;let o=[];const a=Math.max(Math.ceil(r/i),1),c=Math.ceil(s/2),d=e<=c,p=a-c<e,g=!d&&!p;let _=s<a,v=1;for(;v<=a&&v<=s;){let b,I=this.calculatePageNumber(v,e,s,a);b=_&&(2===v&&(g||p)||v===s-1&&(g||d))?"...":I,o.push({label:b,value:I}),v++}return o}calculatePageNumber(e,i,r,s){let o=Math.ceil(r/2);return e===r?s:1===e?e:r<s?s-o<i?s-r+e:o<i?i-o+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(P(uD),P(Ns))},n.\u0275dir=be({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[_i]}),n})();function dD(n){return!!n&&"false"!==n}let FY=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Tt,this.pageBoundsCorrection=new Tt,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=dD(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=dD(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=dD(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nt({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(L(0,"pagination-template",0,1),Oe("pageChange",function(s){return i.pageChange.emit(s)})("pageBoundsCorrection",function(s){return i.pageBoundsCorrection.emit(s)}),L(2,"nav",2),Te(3,RY,6,8,"ul",3),F()()),2&e){const r=Ui(1);le("id",i.id)("maxSize",i.maxSize),ie(2),Di("aria-label",i.screenReaderPaginationLabel),ie(1),le("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[NY,tr,Hm,FM],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),LY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({providers:[uD],imports:[[cf]]}),n})(),VY=(()=>{class n{transform(e,i){return e&&i?e.filter(r=>r.name.toLocaleLowerCase().includes(i.toLocaleLowerCase())||r.description.toLocaleLowerCase().includes(i.toLocaleLowerCase())||r.price.toString().toLocaleLowerCase().includes(i.toLocaleLowerCase())):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=an({name:"searchfilter",type:n,pure:!0}),n})();function UY(n,t){1&n&&(gl(),Wc(),Ie(0,"i",68))}function BY(n,t){1&n&&(gl(),Wc(),Ie(0,"i",69))}function jY(n,t){1&n&&Ie(0,"img",82),2&n&&le("src",Ae().$implicit.picture,Ea)}function HY(n,t){1&n&&(L(0,"span"),Ie(1,"img",83),F())}const $Y=function(n){return{odd:n}},zY=function(n){return["/edit-product",n]};function WY(n,t){if(1&n){const e=Rr();L(0,"tr",70)(1,"td",71),te(2),F(),L(3,"td",71)(4,"div",72),Te(5,jY,1,1,"img",73),Te(6,HY,2,0,"span",74),F()(),L(7,"td",71),te(8),F(),L(9,"td",71),te(10),F(),L(11,"td",75),te(12),ko(13,"currency"),F(),L(14,"td",71)(15,"button",76),Oe("click",function(){const s=Jt(e).$implicit;return en(Ae().viewProduct(s.id))}),Ie(16,"i",77),F(),L(17,"button",78),Ie(18,"i",79),F(),L(19,"button",80),Oe("click",function(){const s=Jt(e).$implicit;return en(Ae().deleteIndexId=s.id)}),Ie(20,"i",81),F()()()}if(2&n){const e=t.$implicit,r=t.index;le("ngClass",yC(11,$Y,t.odd)),ie(2),Si(r+1),ie(3),le("ngIf",e.picture),ie(1),le("ngIf",!e.picture),ie(2),Si(e.name),ie(2),Si(e.description),ie(2),Si(Ro(13,8,e.price,"AED ")),ie(5),le("routerLink",yC(13,zY,e.id))}}function GY(n,t){1&n&&Ie(0,"img",84),2&n&&le("src",Ae().productImage,Ea)}function qY(n,t){1&n&&(L(0,"div"),te(1,"Name is required."),F())}function KY(n,t){if(1&n&&(L(0,"div",85),Te(1,qY,2,0,"div",74),F()),2&n){const e=Ae();ie(1),le("ngIf",e.f.name.errors&&e.f.name.errors.required)}}function ZY(n,t){1&n&&(L(0,"div"),te(1,"description is required. "),F())}function YY(n,t){1&n&&(L(0,"div"),te(1,"Please Enter valid description. "),F())}function QY(n,t){if(1&n&&(L(0,"div",85),Te(1,ZY,2,0,"div",74),Te(2,YY,2,0,"div",74),F()),2&n){const e=Ae();ie(1),le("ngIf",e.f.description.errors&&e.f.description.errors.required),ie(1),le("ngIf",e.f.description.errors&&e.f.description.errors.pattern)}}function XY(n,t){1&n&&(L(0,"div"),te(1,"price Number is required."),F())}function JY(n,t){if(1&n&&(L(0,"div",85),Te(1,XY,2,0,"div",74),F()),2&n){const e=Ae();ie(1),le("ngIf",e.f.price.errors&&e.f.price.errors.required)}}const eQ=function(n,t){return{itemsPerPage:4,currentPage:n,totalItems:t}};let tQ=(()=>{class n{ngOnInit(){this.getAllData(),this.apiService.ngxServiceLoader(),this.authService.user$.subscribe(e=>{this.currentUser=e})}constructor(e,i,r,s,o){this.apiService=e,this.storage=i,this.router=r,this.dataService=s,this.authService=o,this.employeeModelObject=new fE,this.myLocalArray=[],this.formattedArray={},this.sortingOrder="ascending",this.searchQuery="",this.hasSearchQuery=!1,this.editForm=new Pa({name:new ci("",fr.required),price:new ci("",fr.required),description:new ci("",fr.required),picture:new ci("")}),this.productForm=new Pa({name:new ci("",fr.required),price:new ci("",fr.required),description:new ci("",fr.required),picture:new ci("")})}onEdit(e){const i=this.myLocalArray.find(r=>r.id===e);this.editForm.setValue({name:i.name,price:i.price,description:i.description,picture:i.picture}),this.productImage=i.picture,this.editableId=e}onUpdate(){var e=this;return(0,$s.Z)(function*(){e.apiService.ngxServiceLoader();const i=`productImages/${Date.now()}`,r=yield e.storage.upload(i,e.selectedFile);e.getUrlForImage(r)})()}getUrlForImage(e){var i=this;return(0,$s.Z)(function*(){const r=yield e.ref.getDownloadURL();if(r){const s=i.editForm.value;s.picture=r,i.apiService.updateProduct(s,i.editableId),i.editForm.reset()}})()}uploadDataoFireStorage(){var e=this;return(0,$s.Z)(function*(){e.apiService.ngxServiceLoader();const i=`productImages/${Date.now()}`,r=yield e.storage.upload(i,e.selectedFile);e.getUrl(r)})()}getUrl(e){var i=this;return(0,$s.Z)(function*(){const r=yield e.ref.getDownloadURL();if(i.url=r,r){let s=i.productForm.value;s.picture=r,s.userId=i.currentUser.uid,i.apiService.addProduct(s),i.productForm.reset()}i.productImage=""})()}deleteProduct(e){this.apiService.ngxServiceLoader(),this.apiService.deleteProduct(e)}getAllData(){this.apiService.getProducts().subscribe(e=>{this.myLocalArray=e})}addImage(e){this.selectedFile=e.target.files[0],this.apiService.ngxServiceLoader()}sortArray(e,i){"ascending"==i?(this.myLocalArray.sort((r,s)=>s[e]>r[e]?-1:1),this.sortingOrder="descending"):(this.myLocalArray.sort((r,s)=>s[e]>r[e]?1:-1),this.sortingOrder="ascending")}resetForm(){this.productForm.reset()}get f(){return this.productForm.controls}resetFilters(){this.searchQuery="",this.hasSearchQuery=!1,this.getAllData()}searchButton(){if(!this.myLocalArray.length)return this.myLocalArray;{const e=this.myLocalArray.filter(i=>i.name.toLowerCase().includes(this.searchQuery.toLowerCase())||i.description.toLowerCase().includes(this.searchQuery.toLowerCase()));this.myLocalArray=e}}openFileInput(){document.getElementById("file-upload").click()}viewImage(e){const i=this.myLocalArray.find(r=>r.id===e);this.productImage=i.picture,this.selectedItem=i}viewProduct(e){this.apiService.setProductId(e),this.router.navigate(["/view-product",e])}}return n.\u0275fac=function(e){return new(e||n)(P(wy),P(cD),P(mn),P(_N),P(qs))},n.\u0275cmp=Nt({type:n,selectors:[["productsComponent"]],decls:123,vars:21,consts:[[1,"container-fluid","jumbotron"],[1,"row"],[1,"col-6"],[1,"input-group"],["type","text","title","Search Product Details","placeholder","search product by name or description",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"bi","bi-search","p-1"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"col-2","text-end"],["type","button","data-bs-toggle","modal","data-bs-target","#newModal",1,"btn","btn-success"],[1,"fa","fa-circle"],[1,"container-fluid"],[1,"table","p-2"],["scope","col",1,"align-middle","columnColor"],["scope","col",1,"align-middle","columnColor",2,"width","250px"],[1,"pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-sort-alpha-down"],["fill-rule","evenodd","d","M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"],["d","M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"],["class","fa fa-arrow-up",4,"ngIf"],["class","fa fa-arrow-down",4,"ngIf"],["scope","col",1,"align-middle","columnColor",2,"width","550px"],["scope","col",1,"align-middle","columnColor","ml-2"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pagination"],[3,"pageChange"],["id","newModal","tabindex","-1","role","dialog","aria-labelledby","ModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"avatar",2,"text-align","center"],["alt","avatar","style","width: 80px; height: 80px; object-fit: cover;","class","rounded-circle",3,"src",4,"ngIf"],[2,"text-align","center","margin","5px"],["for","file-upload",1,"custom-file-upload","btn","btn-default",2,"text-align","center"],[1,"fa","fa-image","fa-2xl"],["id","file-upload","type","file","formArrayName","picture",3,"change"],[1,"form-group","mb-3"],["for","name"],["type","name","id","name","formControlName","name","placeholder","Enter Product Name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","description"],["type","description","id","description","formControlName","description","placeholder","Enter description",1,"form-control"],["for","price"],["type","number","id","price","formControlName","price","placeholder","Enter Valid price Number",1,"form-control"],[1,"modal-footer"],["type","button","id","clear","data-dismiss","modal",1,"btn","btn-light",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","editModalCenter","tabindex","-1","role","dialog","aria-labelledby","ModalCenterTitle","aria-hidden","true",1,"modal","fade"],["id","ModalLongTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"form-group"],[2,"width","80px","height","80px","object-fit","cover",3,"src"],[2,"text-align","center"],["type","name","id","name","formControlName","name",1,"form-control"],["type","description","id","description","formControlName","description",1,"form-control"],["type","tel","id","price","formControlName","price",1,"form-control"],["data-bs-dismiss","modal",1,"btn","btn-dark","mb-3",3,"click"],["id","deleteModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],[1,"fa","fa-arrow-up"],[1,"fa","fa-arrow-down"],[3,"ngClass"],[1,"align-middle"],[1,"d-flex","align-items-center"],["alt","not_found","style","width: 75px; height: 75px; object-fit: cover; border-radius: 2%;",3,"src",4,"ngIf"],[4,"ngIf"],[1,"align-middle","ml-2"],["type","button","data-toggle","tooltip","data-placement","bottom","title","view",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","title","edit",1,"btn","btn-secondary","btn-sm","ml-1",3,"routerLink"],[1,"bi","bi-pencil"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal","data-toggle","tooltip","data-placement","bottom","title","delete",1,"btn","btn-danger","btn-sm",2,"margin-left","5px",3,"click"],[1,"bi","bi-trash"],["alt","not_found",2,"width","75px","height","75px","object-fit","cover","border-radius","2%",3,"src"],["src","https://cdn-icons-png.flaticon.com/512/149/149071.png",2,"width","75px","height","75px","object-fit","cover","border-radius","2%"],["alt","avatar",1,"rounded-circle",2,"width","80px","height","80px","object-fit","cover",3,"src"],[1,"alert","alert-danger"]],template:function(e,i){1&e&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),Oe("ngModelChange",function(s){return i.searchQuery=s}),F(),L(5,"button",5),Oe("click",function(){return i.searchButton()}),Ie(6,"i",6),te(7,"Search "),F()()(),L(8,"div",7)(9,"button",8),Oe("click",function(){return i.resetFilters()}),te(10," Reset "),F()(),L(11,"div",9)(12,"button",10),Ie(13,"i",11),te(14," Add Product "),F()()()(),L(15,"div",12)(16,"table",13)(17,"thead")(18,"tr")(19,"th",14),te(20,"SR."),F(),L(21,"th",14),te(22,"PICTURE"),F(),L(23,"th",15),te(24,"PRODUCT-NAME "),L(25,"a",16),Oe("click",function(){return i.sortArray("name",i.sortingOrder)}),gl(),L(26,"svg",17),Ie(27,"path",18)(28,"path",19),F(),Te(29,UY,1,0,"i",20),Te(30,BY,1,0,"i",21),F()(),Wc(),L(31,"th",22),te(32,"DESCRIPTION"),F(),L(33,"th",23),te(34,"PRICE"),F(),L(35,"th",14),te(36,"ACTION"),F()()(),L(37,"tbody"),Te(38,WY,21,15,"tr",24),ko(39,"searchfilter"),ko(40,"paginate"),F()(),L(41,"div",25)(42,"pagination-controls",26),Oe("pageChange",function(s){return i.p=s}),F()()(),L(43,"div",27)(44,"div",28)(45,"div",29)(46,"div",30)(47,"h2",31),te(48,"Enter New Product Data"),F(),L(49,"button",32),Oe("click",function(){return i.resetForm()}),F()(),L(50,"div",33)(51,"form",34)(52,"div",35),Te(53,GY,1,1,"img",36),F(),L(54,"div",37)(55,"label",38),Ie(56,"i",39),te(57," Choose image "),F(),L(58,"input",40),Oe("change",function(s){return i.addImage(s)}),F()(),L(59,"div",41)(60,"label",42),te(61,"Name"),F(),Ie(62,"input",43),Te(63,KY,2,1,"div",44),F(),L(64,"div",41)(65,"label",45),te(66,"Description"),F(),Ie(67,"input",46),Te(68,QY,3,2,"div",44),F(),L(69,"div",41)(70,"label",47),te(71,"Price"),F(),Ie(72,"input",48),Te(73,JY,2,1,"div",44),F()()(),L(74,"div",49)(75,"button",50),Oe("click",function(){return i.resetForm()}),te(76,"Reset"),F(),L(77,"button",51),Oe("click",function(){return i.uploadDataoFireStorage()}),te(78,"Add Details"),F()()()()(),L(79,"div",52)(80,"div",28)(81,"div",29)(82,"div",30)(83,"h2",53),te(84,"Edit Product Data"),F(),Ie(85,"button",54),F(),L(86,"div",33)(87,"form",34)(88,"div",55)(89,"div",35),Ie(90,"img",56),F(),L(91,"div",57)(92,"input",40),Oe("change",function(s){return i.addImage(s)}),F()()(),L(93,"div",41)(94,"label",42),te(95,"Name"),F(),Ie(96,"input",58),F(),L(97,"div",41)(98,"label",45),te(99,"description address"),F(),Ie(100,"input",59),F(),L(101,"div",41)(102,"label",47),te(103,"Price"),F(),Ie(104,"input",60),F(),L(105,"button",61),Oe("click",function(){return i.onUpdate()}),te(106," Update "),F()()()()()(),L(107,"div",62)(108,"div",63)(109,"div",29)(110,"div",30)(111,"h2",64),te(112,"Delete This Product"),F(),L(113,"button",65)(114,"span",66),te(115,"\xd7"),F()()(),L(116,"div",33),te(117," Are you sure? "),F(),L(118,"div",49)(119,"button",67),te(120,"Back"),F(),L(121,"button",51),Oe("click",function(){return i.deleteProduct(i.deleteIndexId)}),te(122,"Confirm"),F()()()()()),2&e&&(ie(4),le("ngModel",i.searchQuery),ie(1),le("disabled",!i.searchQuery),ie(24),le("ngIf","ascending"!==i.sortingOrder),ie(1),le("ngIf","ascending"==i.sortingOrder),ie(8),le("ngForOf",Ro(39,12,Ro(40,15,i.myLocalArray,function aA(n,t,e,i,r){return cA(ne(),Pn(),n,t,e,i,r)}(18,eQ,i.p,i.totalLength)),i.searchValue)),ie(13),le("formGroup",i.productForm),ie(2),le("ngIf",i.productImage),ie(10),le("ngIf",i.f.name.touched&&i.f.name.invalid),ie(5),le("ngIf",i.f.description.touched&&i.f.description.invalid),ie(5),le("ngIf",i.f.price.touched&&i.f.price.invalid),ie(14),le("formGroup",i.editForm),ie(3),le("src",i.productImage,Ea))},dependencies:[sw,Hm,tr,Bo,vf,Lo,o_,ql,ff,Gu,bf,a_,Wu,FY,lf,xY,VY]}),n})(),nQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nt({type:n,selectors:[["app-sidebar"]],decls:21,vars:2,consts:[[1,"background"],[1,"content"],["src","assets/images/logo.png",1,"logo",3,"routerLink"],[2,"margin-top","50%"],[1,"btn","btn-primary","mt-3",3,"routerLink"],[1,"footer","mb-1"]],template:function(e,i){1&e&&(L(0,"div",0)(1,"div",1),Ie(2,"img",2),L(3,"h2",3),te(4,"WELCOME"),F(),L(5,"p"),te(6,"We deals all over UAE."),F(),L(7,"p"),te(8,"Toll-free # 111-111-111"),F(),L(9,"p"),te(10,"Zone Delivery Services"),Ie(11,"br"),te(12,"Dubai, UAE."),F(),L(13,"button",4),te(14,"Products Dashboard"),F()(),L(15,"div",5)(16,"span"),te(17,"All rights reserved "),L(18,"strong"),te(19,"\xa9 "),F(),te(20," 2024"),F()()()),2&e&&(ie(2),le("routerLink","dashboard"),ie(11),le("routerLink","/dashboard"))},dependencies:[Bo],styles:[".background[_ngcontent-%COMP%]{background-color:#2f4f4f;min-height:100vh;display:flex;flex-direction:column;justify-content:space-between;align-items:center}@media (max-width: 767px){.background[_ngcontent-%COMP%]{min-height:auto}}.content[_ngcontent-%COMP%]{text-align:center;padding:10px;color:#fff;display:flex;flex-direction:column;height:100%}.logo[_ngcontent-%COMP%]{max-width:100%;max-height:78px;background-color:azure;box-shadow:0 0 20px #00000080;filter:brightness(1.2);cursor:pointer}.footer[_ngcontent-%COMP%]{text-align:center;color:#000;background-color:azure}"]}),n})();function iQ(n,t){if(1&n){const e=Rr();L(0,"div",13)(1,"form",14)(2,"div",15)(3,"div",16),Ie(4,"img",17),L(5,"div",18)(6,"span"),te(7,"Change Image:"),F(),L(8,"input",19),Oe("change",function(r){return Jt(e),en(Ae().addImage(r))}),F()()(),L(9,"div",20)(10,"div",21)(11,"h2",22),te(12,"Edit Product Data"),F(),L(13,"div",23)(14,"label",24),te(15,"Name"),F(),Ie(16,"input",25),F(),L(17,"div",23)(18,"label",26),te(19,"Description"),F(),Ie(20,"input",27),F(),L(21,"div",23)(22,"label",28),te(23,"Price"),F(),Ie(24,"input",29),F(),L(25,"button",30),te(26," Update "),F(),L(27,"button",31),te(28,"Go Back"),F()()(),Ie(29,"div",32),F()()()}if(2&n){const e=Ae();ie(1),le("formGroup",e.editForm),ie(3),le("src",e.productImage,Ea),ie(21),le("disabled",!e.editForm.dirty),ie(2),le("routerLink","/dashboard")}}let rF=(()=>{class n{constructor(e,i,r){this.activatedRoute=e,this.apiService=i,this.storage=r,this.selectedProduct=new fE,this.editForm=new Pa({name:new ci("",fr.required),price:new ci("",fr.required),description:new ci("",fr.required),picture:new ci("")})}ngOnInit(){var e;this.productId=null===(e=this.activatedRoute.snapshot.firstChild)||void 0===e?void 0:e.params.id,this.getProductDetails(this.productId)}getProductDetails(e){this.apiService.getProductById(e).subscribe(i=>{this.selectedProduct=i,console.log("product:",this.selectedProduct),this.onEdit()})}onEdit(){this.editForm.setValue({name:this.selectedProduct.name,price:this.selectedProduct.price,description:this.selectedProduct.description,picture:this.selectedProduct.picture}),this.productImage=this.selectedProduct.picture}onUpdate(){var e=this;return(0,$s.Z)(function*(){if(e.apiService.ngxServiceLoader(),e.selectedFile){const r=`productImages/${Date.now()}`,o=yield(yield e.storage.upload(r,e.selectedFile)).ref.getDownloadURL();o&&(e.productImage=o)}const i=e.editForm.value;i.picture=e.productImage,e.apiService.updateProduct(i,e.productId),e.editForm.reset()})()}addImage(e){this.selectedFile=e.target.files[0],this.selectedFile&&(this.productImage=URL.createObjectURL(this.selectedFile)),this.apiService.ngxServiceLoader()}}return n.\u0275fac=function(e){return new(e||n)(P(Bs),P(wy),P(cD))},n.\u0275cmp=Nt({type:n,selectors:[["app-edit-product"]],decls:18,vars:1,consts:[[1,"container","mt-5"],["class","card","style","overflow-x: hidden;",4,"ngIf"],["id","confirmUpdateModal","tabindex","-1","role","dialog","aria-labelledby","confirmUpdateModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"card",2,"overflow-x","hidden"],[3,"formGroup"],[1,"row","no-gutters"],[1,"col-md-4"],["alt","View Image",1,"card-img","img-fluid",3,"src"],[2,"text-align","center","margin-top","10px"],["id","file-upload","type","file",3,"change"],[1,"col-md-6"],[1,"card-body","p-5"],[1,"card-title"],[1,"form-group","mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["for","price"],["type","text","id","price","formControlName","price",1,"form-control"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmUpdateModal",1,"btn","btn-success",3,"disabled"],[1,"btn","btn-primary","ml-2",3,"routerLink"],[1,"col-md-2"]],template:function(e,i){1&e&&(L(0,"div",0),Te(1,iQ,30,4,"div",1),F(),L(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),te(7,"Confirm Update"),F(),L(8,"button",7)(9,"span",8),te(10,"\xd7"),F()()(),L(11,"div",9),te(12," Are you sure you want to update this product? "),F(),L(13,"div",10)(14,"button",11),te(15,"Back"),F(),L(16,"button",12),Oe("click",function(){return i.onUpdate()}),te(17,"Confirm"),F()()()()()),2&e&&(ie(1),le("ngIf",i.selectedProduct))},dependencies:[tr,Bo,vf,Lo,ql,ff,Gu,bf]}),n})(),sF=(()=>{class n{constructor(e,i,r){this.authService=e,this.walletService=i,this.snackBar=r,this.currentBalance=0,this.topUpAmount=0,this.withDrawAmount=0,this.userId=""}ngOnInit(){this.getUser()}getUser(){this.authService.user$.subscribe(e=>{console.log(e),this.userId=e.uid,this.getWallet(this.userId)})}getWallet(e){this.walletService.getWallet(e).subscribe(i=>{this.currentBalance=i?.balance})}topUpBalance(){this.topUpAmount>0?(this.walletService.topUp(this.userId,this.topUpAmount),this.snackBar.open(`${this.topUpAmount} has been added in your wallet.`,"Close",{duration:5e3})):this.snackBar.open("Please, Enter an amount.","Close",{duration:5e3}),this.topUpAmount=0}withdDrawBalance(){this.withDrawAmount>0&&this.withDrawAmount<=this.currentBalance?(this.walletService.withdraw(this.userId,this.withDrawAmount),this.snackBar.open(`${this.withDrawAmount} has been withdrawn from your wallet.`,"Close",{duration:5e3})):this.snackBar.open("Please, Enter a valid amount.","Close",{duration:5e3}),this.withDrawAmount=0}}return n.\u0275fac=function(e){return new(e||n)(P(qs),P(x0),P(Fy))},n.\u0275cmp=Nt({type:n,selectors:[["app-wallet"]],decls:25,vars:6,consts:[[1,"container","mt-5"],[1,"card","mx-auto",2,"max-width","400px"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"card-text"],[1,"mb-3"],[1,"input-group"],["type","number","placeholder","Enter amount",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),te(4,"Wallet"),F()(),L(5,"div",4)(6,"p",5),te(7),ko(8,"currency"),F(),L(9,"div",6)(10,"h5"),te(11,"Top-Up"),F(),L(12,"div",7)(13,"input",8),Oe("ngModelChange",function(s){return i.topUpAmount=s}),F(),L(14,"div",9)(15,"button",10),Oe("click",function(){return i.topUpBalance()}),te(16,"Top-Up"),F()()()(),L(17,"div",6)(18,"h5"),te(19,"Withdrawal"),F(),L(20,"div",7)(21,"input",8),Oe("ngModelChange",function(s){return i.withDrawAmount=s}),F(),L(22,"div",9)(23,"button",11),Oe("click",function(){return i.withdDrawBalance()}),te(24,"Withdraw"),F()()()()()()()),2&e&&(ie(7),Bi("Your current balance: ",Ro(8,3,i.currentBalance,"AED"),""),ie(6),le("ngModel",i.topUpAmount),ie(8),le("ngModel",i.withDrawAmount))},dependencies:[Lo,o_,ql,Wu,lf]}),n})();function rQ(n,t){1&n&&(Ao(0),Ie(1,"app-wallet"),Mo())}function sQ(n,t){1&n&&(Ao(0),Ie(1,"productsComponent"),Mo())}function oQ(n,t){1&n&&(Ao(0),Ie(1,"app-view-product"),Mo())}function aQ(n,t){1&n&&(Ao(0),Ie(1,"app-edit-product"),Mo())}let oF=(()=>{class n{constructor(e,i,r,s,o,a){this.apiService=e,this.router=i,this.activatedRoute=r,this.authService=s,this.snackBar=o,this.dataService=a,this.isEditPage=!1,this.isViewPage=!1,this.isWalletPage=!1,this.isDashboard=!1,this.initialProductsCount=0,this.initialized=!1,this.userLoggedIn=!1,this.productAddedSinceLogin=!1}ngOnInit(){this.authService.user$.subscribe(e=>{console.log("User:",e),e?(this.userLoggedIn=!0,this.getRoute()):this.router.navigate(["/signin"])}),this.getRoute(),this.initialized||(this.initialized=!0,this.listenForNewProducts(),console.log("intialized.")),this.apiService.getProducts().pipe(os(1)).subscribe(e=>{this.initialProductsCount=e.length,console.log("initialProductsCount:",this.initialProductsCount)})}getRoute(){this.router.events.pipe(Yn(e=>e instanceof Us)).subscribe(()=>{var e,i,r,s,o,a,c,d,p,g;console.log("path:",null===(i=null===(e=this.activatedRoute.snapshot.firstChild)||void 0===e?void 0:e.routeConfig)||void 0===i?void 0:i.path),this.isEditPage="edit-product/:id"===(null===(s=null===(r=this.activatedRoute.snapshot.firstChild)||void 0===r?void 0:r.routeConfig)||void 0===s?void 0:s.path),this.isViewPage="view-product/:id"===(null===(a=null===(o=this.activatedRoute.snapshot.firstChild)||void 0===o?void 0:o.routeConfig)||void 0===a?void 0:a.path),this.isWalletPage="wallet"===(null===(d=null===(c=this.activatedRoute.snapshot.firstChild)||void 0===c?void 0:c.routeConfig)||void 0===d?void 0:d.path),this.isDashboard="dashboard"===(null===(g=null===(p=this.activatedRoute.snapshot.firstChild)||void 0===p?void 0:p.routeConfig)||void 0===g?void 0:g.path)})}listenForNewProducts(){this.apiService.getNewProductAdded().subscribe(()=>{if(this.userLoggedIn){const e=this.router.url.includes("dashboard");e&&this.productAddedSinceLogin?this.showProductAlert():!e&&this.productAddedSinceLogin&&this.showProductAlertNoDash(),this.productAddedSinceLogin=!0}})}showProductAlert(){this.snackBar.open("A new product has been added.","Close",{duration:5e3})}showProductAlertNoDash(){this.snackBar.open("A new product has been added, kindly check the dashboard page.","Close",{duration:5e3})}}return n.\u0275fac=function(e){return new(e||n)(P(wy),P(mn),P(Bs),P(qs),P(Fy),P(_N))},n.\u0275cmp=Nt({type:n,selectors:[["app-dashboard"]],decls:10,vars:4,consts:[[1,"container-fluid"],[1,"row","no-gutters"],[1,"col-2"],[1,"col-10"],[4,"ngIf"]],template:function(e,i){1&e&&(L(0,"div",0)(1,"div",1)(2,"div",2),Ie(3,"app-sidebar"),F(),L(4,"div",3),Ie(5,"app-navbar"),Te(6,rQ,2,0,"ng-container",4),Te(7,sQ,2,0,"ng-container",4),Te(8,oQ,2,0,"ng-container",4),Te(9,aQ,2,0,"ng-container",4),F()()()),2&e&&(ie(6),le("ngIf",i.isWalletPage),ie(1),le("ngIf",i.isDashboard),ie(1),le("ngIf",i.isViewPage),ie(1),le("ngIf",i.isEditPage))},dependencies:[tr,xK,tQ,nQ,mN,rF,sF]}),n})();function lQ(n,t){if(1&n){const e=Rr();L(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),te(4,"Sign In"),F()(),L(5,"div",6)(6,"form")(7,"div",7)(8,"label",8),te(9,"Email address"),F(),L(10,"input",9),Oe("ngModelChange",function(r){return Jt(e),en(Ae().email=r)}),F()(),L(11,"div",7)(12,"label",10),te(13,"Password"),F(),L(14,"input",11),Oe("ngModelChange",function(r){return Jt(e),en(Ae().password=r)}),F()(),L(15,"button",12),Oe("click",function(){return Jt(e),en(Ae().signIn())}),te(16,"Sign In"),F()()(),L(17,"div",13)(18,"a",14),Oe("click",function(){return Jt(e),en(Ae().clickSignUp())}),te(19,"Don't have an account? Sign Up"),F()(),L(20,"div",13)(21,"a",15),Oe("click",function(){return Jt(e),en(Ae().clickForgetBtn())}),te(22,"Forget Password?"),F()()()()}if(2&n){const e=Ae();ie(10),le("ngModel",e.email),ie(4),le("ngModel",e.password)}}function cQ(n,t){1&n&&Ie(0,"app-sign-up")}function uQ(n,t){1&n&&Ie(0,"app-forget-password")}let Mp=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.showSignUpPage=!1,this.isForget=!1}signIn(){this.authService.signIn(this.email,this.password).then(e=>{e&&this.router.navigate(["/dashboard"])}).catch(e=>{console.error("Sign In Error:",e.message)})}clickSignUp(){this.showSignUpPage=!0}clickForgetBtn(){this.isForget=!0}}return n.\u0275fac=function(e){return new(e||n)(P(qs),P(mn))},n.\u0275cmp=Nt({type:n,selectors:[["app-sign-in"]],decls:3,vars:3,consts:[["class","container mt-5",4,"ngIf"],[4,"ngIf"],[1,"container","mt-5"],[1,"card","mx-auto",2,"max-width","400px"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"card-footer","text-center"],["routerLink","/signup",3,"click"],["routerLink","/forget-password",3,"click"]],template:function(e,i){1&e&&(Te(0,lQ,23,2,"div",0),Te(1,cQ,1,0,"app-sign-up",1),Te(2,uQ,1,0,"app-forget-password",1)),2&e&&(le("ngIf",!i.showSignUpPage&&!i.isForget),ie(1),le("ngIf",i.showSignUpPage),ie(1),le("ngIf",i.isForget))}}),n})();function dQ(n,t){if(1&n){const e=Rr();L(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),te(4,"Sign Up"),F()(),L(5,"div",6)(6,"form",7),Oe("ngSubmit",function(){return Jt(e),en(Ae().onSubmit())}),L(7,"div",8)(8,"label",9),te(9,"Email address"),F(),Ie(10,"input",10),F(),L(11,"div",8)(12,"label",11),te(13,"Password"),F(),Ie(14,"input",12),F(),L(15,"button",13),te(16,"Sign Up"),F()(),L(17,"div",14)(18,"p"),te(19,"Already have an account? "),L(20,"a",15),Oe("click",function(){return Jt(e),en(Ae().clickSignIn())}),te(21,"SignIn"),F()()()()()()}if(2&n){const e=Ae();ie(6),le("formGroup",e.signUpForm)}}function hQ(n,t){1&n&&Ie(0,"app-sign-in")}let aF=(()=>{class n{constructor(e,i,r){this.fb=e,this.authService=i,this.router=r,this.showSignInPage=!1,this.signUpForm=this.fb.group({email:["",[fr.required,fr.email]],password:["",[fr.required,fr.minLength(6)]]})}onSubmit(){if(console.log("Submit button clicked"),this.signUpForm.valid){const{email:e,password:i}=this.signUpForm.value;this.authService.signUp(e,i).then(r=>(console.log("User created successfully:",r.user),this.authService.signOut())).then(()=>{this.router.navigate(["/signin"])}).catch(r=>{console.error("Signup error:",r)})}}clickSignIn(){this.showSignInPage=!0,this.router.navigate(["/signin"])}}return n.\u0275fac=function(e){return new(e||n)(P(Nz),P(qs),P(mn))},n.\u0275cmp=Nt({type:n,selectors:[["app-sign-up"]],decls:2,vars:2,consts:[["class","container mt-5",4,"ngIf"],[4,"ngIf"],[1,"container","mt-5"],[1,"card","mx-auto",2,"max-width","400px"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"mt-3","text-center"],["routerLink","/signin",3,"click"]],template:function(e,i){1&e&&(Te(0,dQ,22,1,"div",0),Te(1,hQ,1,0,"app-sign-in",1)),2&e&&(le("ngIf",!i.showSignInPage),ie(1),le("ngIf",i.showSignInPage))},dependencies:[tr,Bo,vf,Lo,ql,ff,qu,Gu,bf,Mp]}),n})();function fQ(n,t){if(1&n){const e=Rr();L(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),te(4,"Forget Password"),F()(),L(5,"div",6)(6,"h2",7),te(7,"RESET"),F(),L(8,"div",8)(9,"p"),te(10,"Enter your email address to reset password"),F(),L(11,"input",9),Oe("ngModelChange",function(r){return Jt(e),en(Ae().email=r)}),F()(),L(12,"button",10),Oe("click",function(){return Jt(e),en(Ae().onSubmit())}),te(13,"Reset Password"),F()()(),L(14,"div",11)(15,"a",12),Oe("click",function(){return Jt(e),en(Ae().clickSignIn())}),te(16,"Go to Sign-in"),F()()()}if(2&n){const e=Ae();ie(11),le("ngModel",e.email)}}function pQ(n,t){1&n&&Ie(0,"app-sign-in")}let hD=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.snackBar=r,this.email="",this.showSignInPage=!1}onSubmit(){""!==this.email?(this.authService.resetPassword(this.email),this.snackBar.open(`A link has been sent to this email address: ${this.email}, please check your inbox.`,"Close",{duration:5e3})):this.snackBar.open("Username invallid","Close",{duration:5e3}),this.email=""}clickSignIn(){this.showSignInPage=!0,this.router.navigate(["/signin"])}}return n.\u0275fac=function(e){return new(e||n)(P(qs),P(mn),P(Fy))},n.\u0275cmp=Nt({type:n,selectors:[["app-forget-password"]],decls:2,vars:2,consts:[["class","container mt-5",4,"ngIf"],[4,"ngIf"],[1,"container","mt-5"],[1,"card","mx-auto",2,"max-width","400px"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"card-title"],[1,"mb-3"],["type","email","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"card-footer","text-center"],["routerLink","/signin",3,"click"]],template:function(e,i){1&e&&(Te(0,fQ,17,1,"div",0),Te(1,pQ,1,0,"app-sign-in",1)),2&e&&(le("ngIf",!i.showSignInPage),ie(1),le("ngIf",i.showSignInPage))},dependencies:[tr,Bo,Lo,ql,qu,Wu,Mp],styles:[".sign-in[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),zy=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.user$.pipe(os(1),he(r=>!!r||(alert("You are not authorized. Please sign in."),!1)))}}return n.\u0275fac=function(e){return new(e||n)(R(qs),R(mn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gQ=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"signup",component:aF},{path:"signin",component:Mp},{path:"forget-password",component:hD},{path:"dashboard",component:oF,canActivate:[zy]},{path:"wallet",component:sF,canActivate:[zy]},{path:"view-product/:id",component:mN,canActivate:[zy]},{path:"edit-product/:id",component:rF,canActivate:[zy]},{path:"**",redirectTo:"signin"}];let mQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({imports:[SR.forRoot(gQ),SR]}),n})();function _Q(n,t){1&n&&(Ao(0),Ie(1,"app-dashboard"),Mo())}function yQ(n,t){1&n&&Ie(0,"app-sign-in")}function vQ(n,t){1&n&&Ie(0,"app-forget-password")}function bQ(n,t){1&n&&Te(0,vQ,1,0,"ng-template")}let CQ=(()=>{class n{constructor(e,i,r){this.router=e,this.authService=i,this.activatedRoute=r,this.title="myApp",this.isUserAuthenticated=!1,this.isForgetPassword=!1}ngOnInit(){this.router.events.subscribe(e=>{var i;if(e instanceof Us){const s=null===(i=this.router.parseUrl(e.url).root.children.primary)||void 0===i?void 0:i.segments.map(o=>o.path);!this.isUserAuthenticated&&this.isProtectedRoute(s)&&(alert("You are not authorized. Please sign in."),console.warn("Unauthorized access attempted:",e.url),this.router.navigate(["/signin"]))}}),this.authService.isUserAuthenticated().subscribe(e=>{this.isUserAuthenticated=e})}isProtectedRoute(e){const i=["dashboard","edit-product/:id","view-product/:id"];return e?.some(r=>i.includes(r))||!1}getRoute(){this.router.events.pipe(Yn(e=>e instanceof Us)).subscribe(()=>{var e,i;this.isForgetPassword="forget-password"===(null===(i=null===(e=this.activatedRoute.snapshot.firstChild)||void 0===e?void 0:e.routeConfig)||void 0===i?void 0:i.path)})}}return n.\u0275fac=function(e){return new(e||n)(P(mn),P(qs),P(Bs))},n.\u0275cmp=Nt({type:n,selectors:[["app-root"]],decls:5,vars:3,consts:[[4,"ngIf","ngIfElse"],["signIn",""],[4,"ngIf"]],template:function(e,i){if(1&e&&(Ie(0,"ngx-ui-loader"),Te(1,_Q,2,0,"ng-container",0),Te(2,yQ,1,0,"ng-template",null,1,wm),Te(4,bQ,1,0,null,2)),2&e){const r=Ui(3);ie(1),le("ngIf",i.isUserAuthenticated)("ngIfElse",r),ie(3),le("ngIf",i.isForgetPassword)}},dependencies:[tr,aq,oF,Mp,hD]}),n})();const lF_firebaseConfig={apiKey:"AIzaSyDTjM7r9cedqW-JgD2y2xnEtxZAr3GHMj0",authDomain:"myapp-c1623.firebaseapp.com",databaseURL:"https://myapp-c1623-default-rtdb.firebaseio.com",projectId:"myapp-c1623",storageBucket:"myapp-c1623.appspot.com",messagingSenderId:"690129094994",appId:"1:690129094994:web:8fe72b8a2c763ad4b9928b"};function cF(n){return new w(3e3,!1)}function nX(){return typeof window<"u"&&typeof window.document<"u"}function fD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qa(n){switch(n.length){case 0:return new Dp;case 1:return n[0];default:return new hN(n)}}function uF(n,t,e,i,r=new Map,s=new Map){const o=[],a=[];let c=-1,d=null;if(i.forEach(p=>{const g=p.get("offset"),_=g==c,v=_&&d||new Map;p.forEach((b,I)=>{let k=I,B=b;if("offset"!==I)switch(k=t.normalizePropertyName(k,o),B){case Z0:B=r.get(I);break;case zo:B=s.get(I);break;default:B=t.normalizeStyleValue(I,k,B,o)}v.set(k,B)}),_||a.push(v),d=v,c=g}),o.length)throw function zQ(n){return new w(3502,!1)}();return a}function pD(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&gD(e,"start",n)));break;case"done":n.onDone(()=>i(e&&gD(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&gD(e,"destroy",n)))}}function gD(n,t,e){const s=mD(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function mD(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function br(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function dF(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let _D=(n,t)=>!1,hF=(n,t,e)=>[],fF=null;function yD(n){const t=n.parentNode||n.host;return t===fF?null:t}(fD()||typeof Element<"u")&&(nX()?(fF=(()=>document.documentElement)(),_D=(n,t)=>{for(;t;){if(t===n)return!0;t=yD(t)}return!1}):_D=(n,t)=>n.contains(t),hF=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let mc=null,pF=!1;const gF=_D,mF=hF;let _F=(()=>{class n{validateStyleProperty(e){return function rX(n){mc||(mc=function sX(){return typeof document<"u"?document.body:null}()||{},pF=!!mc.style&&"WebkitAppearance"in mc.style);let t=!0;return mc.style&&!function iX(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in mc.style,!t&&pF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mc.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return gF(e,i)}getParentElement(e){return yD(e)}query(e,i,r){return mF(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],c){return new Dp(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),vD=(()=>{class n{}return n.NOOP=new _F,n})();const oX=1e3,bD="ng-enter",Wy="ng-leave",Gy="ng-trigger",qy=".ng-trigger",vF="ng-animating",CD=".ng-animating";function qo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wD(parseFloat(t[1]),t[2])}function wD(n,t){return"s"===t?n*oX:n}function Ky(n,t,e){return n.hasOwnProperty("duration")?n:function lX(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(cF()),{duration:0,delay:0,easing:""};r=wD(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=wD(parseFloat(c),a[4]));const d=a[5];d&&(o=d)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function wQ(){return new w(3100,!1)}()),a=!0),s<0&&(t.push(function EQ(){return new w(3101,!1)}()),a=!0),a&&t.splice(c,0,cF())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Pp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function bF(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ka(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function wF(n,t,e){return e?t+":"+e+";":""}function EF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=wF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=wF(0,hX(e),n.style[e]));n.setAttribute("style",t)}function Xs(n,t,e){n.style&&(t.forEach((i,r)=>{const s=DD(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),fD()&&EF(n))}function _c(n,t){n.style&&(t.forEach((e,i)=>{const r=DD(i);n.style[r]=""}),fD()&&EF(n))}function kp(n){return Array.isArray(n)?1==n.length?n[0]:lN(n):n}const ED=new RegExp("{{\\s*(.+?)\\s*}}","g");function DF(n){let t=[];if("string"==typeof n){let e;for(;e=ED.exec(n);)t.push(e[1]);ED.lastIndex=0}return t}function Rp(n,t,e){const i=n.toString(),r=i.replace(ED,(s,o)=>{let a=t[o];return null==a&&(e.push(function SQ(n){return new w(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Zy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const dX=/-+([a-z0-9])/g;function DD(n){return n.replace(dX,(...t)=>t[1].toUpperCase())}function hX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function IQ(n){return new w(3004,!1)}()}}function SF(n,t){return window.getComputedStyle(n)[t]}const Xy="*";function yX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function vX(n,t,e){if(":"==n[0]){const c=function bX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function BQ(n){return new w(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function UQ(n){return new w(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(IF(r,o));"<"==s[0]&&!(r==Xy&&o==Xy)&&t.push(IF(o,r))}(i,e,t)):e.push(n),e}const Jy=new Set(["true","1"]),ev=new Set(["false","0"]);function IF(n,t){const e=Jy.has(n)||ev.has(n),i=Jy.has(t)||ev.has(t);return(r,s)=>{let o=n==Xy||n==r,a=t==Xy||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?Jy.has(n):ev.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Jy.has(t):ev.has(t)),o&&a}}const CX=new RegExp("s*:selfs*,?","g");function SD(n,t,e,i){return new wX(n).build(t,e,i)}class wX{constructor(t){this._driver=t}build(t,e,i){const r=new SX(e);return this._resetContextStyleTimingState(r),Cr(this,kp(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function AQ(){return new w(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,s.push(this.visitState(c,e))}),c.name=d}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,o.push(c)}else e.errors.push(function MQ(){return new w(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{DF(c).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&(Zy(s.values()),e.errors.push(function PQ(n,t){return new w(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Cr(this,kp(t.animation),e);return{type:1,matchers:yX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:yc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Cr(this,i,e)),options:yc(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Cr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:yc(t.options)}}visitAnimate(t,e){const i=function TX(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ID(Ky(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ID(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Ky(e,t);return ID(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ep({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};i.easing&&(d.easing=i.easing),o=Ep(d)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(o,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===zo?i.push(a):e.errors.push(new w(3002,!1)):i.push(bF(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const d=e.collectedStyles.get(e.currentQuerySelector),p=d.get(c);let g=!0;p&&(s!=r&&s>=p.startTime&&r<=p.endTime&&(e.errors.push(function RQ(n,t,e,i,r){return new w(3010,!1)}()),g=!1),s=p.startTime),g&&d.set(c,{startTime:s,endTime:r}),e.options&&function uX(n,t,e){const i=t.params||{},r=DF(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function DQ(n){return new w(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function OQ(){return new w(3011,!1)}()),i;let s=0;const o=[];let a=!1,c=!1,d=0;const p=t.steps.map(B=>{const Y=this._makeStyleAst(B,e);let x=null!=Y.offset?Y.offset:function IX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Y.styles),re=0;return null!=x&&(s++,re=Y.offset=x),c=c||re<0||re>1,a=a||re<d,d=re,o.push(re),Y});c&&e.errors.push(function xQ(){return new w(3012,!1)}()),a&&e.errors.push(function NQ(){return new w(3200,!1)}());const g=t.steps.length;let _=0;s>0&&s<g?e.errors.push(function FQ(){return new w(3202,!1)}()):0==s&&(_=1/(g-1));const v=g-1,b=e.currentTime,I=e.currentAnimateTimings,k=I.duration;return p.forEach((B,Y)=>{const x=_>0?Y==v?1:_*Y:o[Y],re=x*k;e.currentTime=b+I.delay+re,I.duration=re,this._validateStyleAst(B,e),B.offset=x,i.styles.push(B)}),i}visitReference(t,e){return{type:8,animation:Cr(this,kp(t.animation),e),options:yc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function EX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(CX,"")),n=n.replace(/@\*/g,qy).replace(/@\w+/g,e=>qy+"-"+e.slice(1)).replace(/:animating/g,CD),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,br(e.collectedStyles,e.currentQuerySelector,new Map);const a=Cr(this,kp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:yc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function LQ(){return new w(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ky(t.timings,e.errors,!0);return{type:12,animation:Cr(this,kp(t.animation),e),timings:i,options:null}}}class SX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yc(n){return n?(n=Pp(n)).params&&(n.params=function DX(n){return n?Pp(n):null}(n.params)):n={},n}function ID(n,t,e){return{duration:n,delay:t,easing:e}}function TD(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class tv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const PX=new RegExp(":enter","g"),RX=new RegExp(":leave","g");function AD(n,t,e,i,r,s=new Map,o=new Map,a,c,d=[]){return(new OX).buildKeyframes(n,t,e,i,r,s,o,a,c,d)}class OX{buildKeyframes(t,e,i,r,s,o,a,c,d,p=[]){d=d||new tv;const g=new MD(t,e,d,r,s,p,[]);g.options=c;const _=c.delay?qo(c.delay):0;g.currentTimeline.delayNextStep(_),g.currentTimeline.setStyles([o],null,g.errors,c),Cr(this,i,g);const v=g.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let I=v.length-1;I>=0;I--){const k=v[I];if(k.element===e){b=k;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,g.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[TD(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:qo(Rp(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?qo(i.duration):null,a=null!=i.delay?qo(i.delay):null;return 0!==o&&t.forEach(c=>{const d=e.appendInstructionToTimeline(c,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Cr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nv);const o=qo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Cr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?qo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Cr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ky(e.params?Rp(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?qo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((d,p)=>{e.currentQueryIndex=p;const g=e.createSubContext(t.options,d);s&&g.delayNextStep(s),d===e.element&&(c=g.currentTimeline),Cr(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let c=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const p=e.currentTimeline;c&&p.delayNextStep(c);const g=p.currentTime;Cr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const nv={};class MD{constructor(t,e,i,r,s,o,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new iv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=qo(i.duration)),null!=i.delay&&(r.delay=qo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Rp(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new MD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=nv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new xX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(PX,"."+this._enterClassName)).replace(RX,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!s&&0==a.length&&o.push(function VQ(n){return new w(3014,!1)}()),a}}class iv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new iv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||zo),this._currentKeyframe.set(e,zo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function NX(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,zo)}else Ka(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of o){const d=Rp(c,s,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zo),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const d=Ka(a,new Map,this._backFill);d.forEach((p,g)=>{p===Z0?t.add(g):p===zo&&e.add(g)}),i||d.set("offset",c/this.duration),r.push(d)});const s=t.size?Zy(t.values()):[],o=e.size?Zy(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return TD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class xX extends iv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,c=Ka(t[0]);c.set("offset",0),s.push(c);const d=Ka(t[0]);d.set("offset",MF(a)),s.push(d);const p=t.length-1;for(let g=1;g<=p;g++){let _=Ka(t[g]);const v=_.get("offset");_.set("offset",MF((e+v*i)/o)),s.push(_)}i=o,e=0,r="",t=s}return TD(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function MF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class PD{}const FX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LX extends PD{normalizePropertyName(t,e){return DD(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(FX.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function TQ(n,t){return new w(3005,!1)}())}return o+s}}function PF(n,t,e,i,r,s,o,a,c,d,p,g,_){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:p,totalTime:g,errors:_}}const kD={};class kF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function VX(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,c,d,p){const g=[],_=this.ast.options&&this.ast.options.params||kD,b=this.buildStyles(i,a&&a.params||kD,g),I=c&&c.params||kD,k=this.buildStyles(r,I,g),B=new Set,Y=new Map,x=new Map,re="void"===r,Pe={params:UX(I,_),delay:this.ast.options?.delay},ot=p?[]:AD(t,e,this.ast.animation,s,o,b,k,Pe,d,g);let Fn=0;if(ot.forEach(wr=>{Fn=Math.max(wr.duration+wr.delay,Fn)}),g.length)return PF(e,this._triggerName,i,r,re,b,k,[],[],Y,x,Fn,g);ot.forEach(wr=>{const Ko=wr.element,GF=br(Y,Ko,new Set);wr.preStyleProps.forEach(vc=>GF.add(vc));const xp=br(x,Ko,new Set);wr.postStyleProps.forEach(vc=>xp.add(vc)),Ko!==e&&B.add(Ko)});const qi=Zy(B.values());return PF(e,this._triggerName,i,r,re,b,k,ot,qi,Y,x,Fn)}}function UX(n,t){const e=Pp(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class BX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Pp(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Rp(o,r,e));const c=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,c,o,e),i.set(a,o)})}),i}}class HX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new BX(r.style,r.options&&r.options.params||{},i))}),RF(this.states,"true","1"),RF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new kF(t,r,this.states))}),this.fallbackTransition=function $X(n,t,e){return new kF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function RF(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const zX=new tv;class WX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],s=SD(this._driver,e,i,r);if(i.length)throw function WQ(n){return new w(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=uF(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=AD(this._driver,e,s,bD,Wy,new Map,new Map,i,zX,r),o.forEach(p=>{const g=br(a,p.element,new Map);p.postStyleProps.forEach(_=>g.set(_,null))})):(r.push(function GQ(){return new w(3300,!1)}()),o=[]),r.length)throw function qQ(n){return new w(3504,!1)}();a.forEach((p,g)=>{p.forEach((_,v)=>{p.set(v,this._driver.computeStyle(g,v,zo))})});const d=qa(o.map(p=>{const g=a.get(p.element);return this._buildPlayer(p,new Map,g)}));return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function KQ(n){return new w(3301,!1)}();return e}listen(t,e,i,r){const s=mD(e,"","","");return pD(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const OF="ng-animate-queued",RD="ng-animate-disabled",YX=[],xF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class OD{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function tJ(n){return n??null}(i?t.value:t),i){const s=Pp(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Op="void",xD=new OD(Op);class XX{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Hr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function ZQ(n,t){return new w(3302,!1)}();if(null==i||0==i.length)throw function YQ(n){return new w(3303,!1)}();if(!function nJ(n){return"start"==n||"done"==n}(i))throw function QQ(n,t){return new w(3400,!1)}();const s=br(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=br(this._engine.statesByElement,t,new Map);return a.has(e)||(Hr(t,Gy),Hr(t,Gy+"-"+e),a.set(e,xD)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function XQ(n){return new w(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new ND(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Hr(t,Gy),Hr(t,Gy+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const d=new OD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(e,d),c||(c=xD),d.value!==Op&&c.value===d.value){if(!function sJ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(c.params,d.params)){const I=[],k=s.matchStyles(c.value,c.params,I),B=s.matchStyles(d.value,d.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{_c(t,k),Xs(t,B)})}return}const _=br(this._engine.playersByElement,t,[]);_.forEach(I=>{I.namespaceId==this.id&&I.triggerName==e&&I.queued&&I.destroy()});let v=s.matchTransition(c.value,d.value,t,d.params),b=!1;if(!v){if(!r)return;v=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:c,toState:d,player:o,isFallbackTransition:b}),b||(Hr(t,OF),o.onStart(()=>{Td(t,OF)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);const k=this._engine.playersByElement.get(t);if(k){let B=k.indexOf(o);B>=0&&k.splice(B,1)}}),this.players.push(o),_.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,qy,!0);i.forEach(r=>{if(r[jr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((c,d)=>{if(o.set(d,c.value),this._triggers.has(d)){const p=this.trigger(t,d,Op,r);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&qa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const c=this._triggers.get(o).fallbackTransition,d=i.get(o)||xD,p=new OD(Op),g=new ND(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:c,fromState:d,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[jr];(!s||s===xF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Hr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const c=mD(s,i.triggerName,i.fromState.value,i.toState.value);c._data=t,pD(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class JX{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new XX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const d=i.indexOf(c);i.splice(d+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(rv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!rv(e))return;const s=e[jr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Hr(t,RD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Td(t,RD))}removeNode(t,e,i,r){if(rv(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[jr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return rv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,qy,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,CD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[jr];if(e&&e.setForRemoval){if(t[jr]=xF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(RD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Hr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function JQ(n){return new w(3402,!1)}()}_flushAnimations(t,e){const i=new tv,r=[],s=new Map,o=[],a=new Map,c=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(De=>{p.add(De);const ke=this.driver.query(De,".ng-animate-queued",!0);for(let Le=0;Le<ke.length;Le++)p.add(ke[Le])});const g=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=LF(_,this.collectedEnterElements),b=new Map;let I=0;v.forEach((De,ke)=>{const Le=bD+I++;b.set(ke,Le),De.forEach(Dt=>Hr(Dt,Le))});const k=[],B=new Set,Y=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const ke=this.collectedLeaveElements[De],Le=ke[jr];Le&&Le.setForRemoval&&(k.push(ke),B.add(ke),Le.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(Dt=>B.add(Dt)):Y.add(ke))}const x=new Map,re=LF(_,Array.from(B));re.forEach((De,ke)=>{const Le=Wy+I++;x.set(ke,Le),De.forEach(Dt=>Hr(Dt,Le))}),t.push(()=>{v.forEach((De,ke)=>{const Le=b.get(ke);De.forEach(Dt=>Td(Dt,Le))}),re.forEach((De,ke)=>{const Le=x.get(ke);De.forEach(Dt=>Td(Dt,Le))}),k.forEach(De=>{this.processLeaveNode(De)})});const Pe=[],ot=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(e).forEach(Le=>{const Dt=Le.player,ni=Le.element;if(Pe.push(Dt),this.collectedEnterElements.length){const Mi=ni[jr];if(Mi&&Mi.setForMove){if(Mi.previousTriggersValues&&Mi.previousTriggersValues.has(Le.triggerName)){const bc=Mi.previousTriggersValues.get(Le.triggerName),$r=this.statesByElement.get(Le.element);if($r&&$r.has(Le.triggerName)){const av=$r.get(Le.triggerName);av.value=bc,$r.set(Le.triggerName,av)}}return void Dt.destroy()}}const Js=!g||!this.driver.containsElement(g,ni),Er=x.get(ni),Za=b.get(ni),dn=this._buildInstruction(Le,i,Za,Er,Js);if(dn.errors&&dn.errors.length)return void ot.push(dn);if(Js)return Dt.onStart(()=>_c(ni,dn.fromStyles)),Dt.onDestroy(()=>Xs(ni,dn.toStyles)),void r.push(Dt);if(Le.isFallbackTransition)return Dt.onStart(()=>_c(ni,dn.fromStyles)),Dt.onDestroy(()=>Xs(ni,dn.toStyles)),void r.push(Dt);const ZF=[];dn.timelines.forEach(Mi=>{Mi.stretchStartingKeyframe=!0,this.disabledNodes.has(Mi.element)||ZF.push(Mi)}),dn.timelines=ZF,i.append(ni,dn.timelines),o.push({instruction:dn,player:Dt,element:ni}),dn.queriedElements.forEach(Mi=>br(a,Mi,[]).push(Dt)),dn.preStyleProps.forEach((Mi,bc)=>{if(Mi.size){let $r=c.get(bc);$r||c.set(bc,$r=new Set),Mi.forEach((av,VD)=>$r.add(VD))}}),dn.postStyleProps.forEach((Mi,bc)=>{let $r=d.get(bc);$r||d.set(bc,$r=new Set),Mi.forEach((av,VD)=>$r.add(VD))})});if(ot.length){const De=[];ot.forEach(ke=>{De.push(function eX(n,t){return new w(3505,!1)}())}),Pe.forEach(ke=>ke.destroy()),this.reportError(De)}const Fn=new Map,qi=new Map;o.forEach(De=>{const ke=De.element;i.has(ke)&&(qi.set(ke,ke),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Fn))}),r.forEach(De=>{const ke=De.element;this._getPreviousPlayers(ke,!1,De.namespaceId,De.triggerName,null).forEach(Dt=>{br(Fn,ke,[]).push(Dt),Dt.destroy()})});const wr=k.filter(De=>UF(De,c,d)),Ko=new Map;FF(Ko,this.driver,Y,d,zo).forEach(De=>{UF(De,c,d)&&wr.push(De)});const xp=new Map;v.forEach((De,ke)=>{FF(xp,this.driver,new Set(De),c,Z0)}),wr.forEach(De=>{const ke=Ko.get(De),Le=xp.get(De);Ko.set(De,new Map([...Array.from(ke?.entries()??[]),...Array.from(Le?.entries()??[])]))});const vc=[],qF=[],KF={};o.forEach(De=>{const{element:ke,player:Le,instruction:Dt}=De;if(i.has(ke)){if(p.has(ke))return Le.onDestroy(()=>Xs(ke,Dt.toStyles)),Le.disabled=!0,Le.overrideTotalTime(Dt.totalTime),void r.push(Le);let ni=KF;if(qi.size>1){let Er=ke;const Za=[];for(;Er=Er.parentNode;){const dn=qi.get(Er);if(dn){ni=dn;break}Za.push(Er)}Za.forEach(dn=>qi.set(dn,ni))}const Js=this._buildAnimation(Le.namespaceId,Dt,Fn,s,xp,Ko);if(Le.setRealPlayer(Js),ni===KF)vc.push(Le);else{const Er=this.playersByElement.get(ni);Er&&Er.length&&(Le.parentPlayer=qa(Er)),r.push(Le)}}else _c(ke,Dt.fromStyles),Le.onDestroy(()=>Xs(ke,Dt.toStyles)),qF.push(Le),p.has(ke)&&r.push(Le)}),qF.forEach(De=>{const ke=s.get(De.element);if(ke&&ke.length){const Le=qa(ke);De.setRealPlayer(Le)}}),r.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<k.length;De++){const ke=k[De],Le=ke[jr];if(Td(ke,Wy),Le&&Le.hasAnimation)continue;let Dt=[];if(a.size){let Js=a.get(ke);Js&&Js.length&&Dt.push(...Js);let Er=this.driver.query(ke,CD,!0);for(let Za=0;Za<Er.length;Za++){let dn=a.get(Er[Za]);dn&&dn.length&&Dt.push(...dn)}}const ni=Dt.filter(Js=>!Js.destroyed);ni.length?iJ(this,ke,ni):this.processLeaveNode(ke)}return k.length=0,vc.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const ke=this.players.indexOf(De);this.players.splice(ke,1)}),De.play()}),vc}elementContainsData(t,e){let i=!1;const r=e[jr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const c=!s||s==Op;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||o.push(d)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const d=c.element,p=d!==s,g=br(i,d,[]);this._getPreviousPlayers(d,p,o,a,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),g.push(v)})}_c(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,c=e.element,d=[],p=new Set,g=new Set,_=e.timelines.map(b=>{const I=b.element;p.add(I);const k=I[jr];if(k&&k.removedBeforeQueried)return new Dp(b.duration,b.delay);const B=I!==c,Y=function rJ(n){const t=[];return VF(n,t),t}((i.get(I)||YX).map(Fn=>Fn.getRealPlayer())).filter(Fn=>!!Fn.element&&Fn.element===I),x=s.get(I),re=o.get(I),Pe=uF(0,this._normalizer,0,b.keyframes,x,re),ot=this._buildPlayer(b,Pe,Y);if(b.subTimeline&&r&&g.add(I),B){const Fn=new ND(t,a,I);Fn.setRealPlayer(ot),d.push(Fn)}return ot});d.forEach(b=>{br(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function eJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,b.element,b))}),p.forEach(b=>Hr(b,vF));const v=qa(_);return v.onDestroy(()=>{p.forEach(b=>Td(b,vF)),Xs(c,e.toStyles)}),g.forEach(b=>{br(r,b,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Dp(t.duration,t.delay)}}class ND{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Dp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>pD(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){br(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rv(n){return n&&1===n.nodeType}function NF(n,t){const e=n.style.display;return n.style.display=t??"none",e}function FF(n,t,e,i,r){const s=[];e.forEach(c=>s.push(NF(c)));const o=[];i.forEach((c,d)=>{const p=new Map;c.forEach(g=>{const _=t.computeStyle(d,g,r);p.set(g,_),(!_||0==_.length)&&(d[jr]=QX,o.push(d))}),n.set(d,p)});let a=0;return e.forEach(c=>NF(c,s[a++])),o}function LF(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let c=s.get(a);if(c)return c;const d=a.parentNode;return c=e.has(d)?d:r.has(d)?i:o(d),s.set(a,c),c}return t.forEach(a=>{const c=o(a);c!==i&&e.get(c).push(a)}),e}function Hr(n,t){n.classList?.add(t)}function Td(n,t){n.classList?.remove(t)}function iJ(n,t,e){qa(e).onDone(()=>n.processLeaveNode(t))}function VF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hN?VF(i.players,t):t.push(i)}}function UF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class sv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new JX(t,e,i),this._timelineEngine=new WX(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const c=[],d=[],p=SD(this._driver,s,c,d);if(c.length)throw function $Q(n,t){return new w(3404,!1)}();a=function jX(n,t,e){return new HX(n,t,e)}(r,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=dF(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=dF(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let aJ=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xs(this._element,this._initialStyles),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_c(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),Xs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function FD(n){let t=null;return n.forEach((e,i)=>{(function lJ(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class BF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:SF(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cJ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return gF(t,e)}getParentElement(t){return yD(t)}query(t,e,i){return mF(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(c.easing=s);const d=new Map,p=o.filter(v=>v instanceof BF);(function fX(n,t){return 0===n||0===t})(i,r)&&p.forEach(v=>{v.currentSnapshot.forEach((b,I)=>d.set(I,b))});let g=function cX(n){return n.length?n[0]instanceof Map?n:n.map(t=>bF(t)):[]}(e).map(v=>Ka(v));g=function pX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,SF(n,a)))}}return t}(t,g,d);const _=function oJ(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=FD(t[0]),t.length>1&&(i=FD(t[t.length-1]))):t instanceof Map&&(e=FD(t)),e||i?new aJ(n,e,i):null}(t,g);return new BF(t,g,c,_)}}let uJ=(()=>{class n extends oN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:or.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?lN(e):e;return jF(this._renderer,null,i,"register",[r]),new dJ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(R(Uh),R(vt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class dJ extends CK{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hJ(this._id,t,e||{},this._renderer)}}class hJ{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const HF="@.disabled";let fJ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(s);return p||(p=new $F("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,p)),p}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=p=>{Array.isArray(p)?p.forEach(c):this.engine.registerTrigger(o,a,e,p.name,p)};return i.data.animation.forEach(c),new pJ(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(R(Uh),R(sv),R(We))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class $F{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==HF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class pJ extends $F{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function gJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function mJ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const zF=[{provide:oN,useClass:uJ},{provide:PD,useFactory:function yJ(){return new LX}},{provide:sv,useClass:(()=>{class n extends sv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(R(vt),R(vD),R(PD),R(Hu))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})()},{provide:Uh,useFactory:function vJ(n,t,e){return new fJ(n,t,e)},deps:[Km,sv,We]}],LD=[{provide:vD,useFactory:()=>new cJ},{provide:$l,useValue:"BrowserAnimations"},...zF],WF=[{provide:vD,useClass:_F},{provide:$l,useValue:"NoopAnimations"},...zF];let bJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?WF:LD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=ct({providers:LD,imports:[oP]}),n})(),CJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n,bootstrap:[CQ]}),n.\u0275inj=ct({imports:[oP,mQ,Lz,Fz,LY,bJ,lq,wY,F5,q9,k5.initializeApp(lF_firebaseConfig),pN]}),n})();(function ys(n,t,e){const i=n.\u0275cmp;i.directiveDefs=so(t,!1),i.pipeDefs=so(e,!0)})(Mp,function(){return[tr,Bo,vf,Lo,ql,ff,qu,Wu,s_,aF,hD]},[]),E3().bootstrapModule(CJ).catch(n=>console.error(n))},90:(zr,Ln,Ue)=>{Ue.d(Ln,{BH:()=>Mt,DV:()=>ri,Dv:()=>Ki,GJ:()=>_n,L:()=>nt,LL:()=>j,Pz:()=>Ct,Sg:()=>pi,UG:()=>K,UI:()=>Zo,US:()=>Ut,Wj:()=>ki,Wl:()=>Ee,Yr:()=>fs,ZB:()=>ve,ZR:()=>X,aH:()=>Bt,b$:()=>hn,cI:()=>he,dS:()=>Kr,eu:()=>H,g5:()=>z,gK:()=>yn,gQ:()=>si,h$:()=>Dn,hl:()=>U,hu:()=>Me,jU:()=>Qt,lb:()=>gi,m9:()=>ea,ne:()=>qr,p$:()=>se,pd:()=>Qa,r3:()=>ii,ru:()=>jt,tV:()=>Q,uI:()=>Sn,ug:()=>gs,vZ:()=>Gr,w1:()=>Sr,w9:()=>jn,xO:()=>Ya,xb:()=>Pi,z$:()=>Ze,zd:()=>rr});const C={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Me=function(T,D){if(!T)throw z(D)},z=function(T){return new Error("Firebase Database ("+C.SDK_VERSION+") INTERNAL ASSERT FAILED: "+T)},Ne=function(T){const D=[];let M=0;for(let G=0;G<T.length;G++){let N=T.charCodeAt(G);N<128?D[M++]=N:N<2048?(D[M++]=N>>6|192,D[M++]=63&N|128):55296==(64512&N)&&G+1<T.length&&56320==(64512&T.charCodeAt(G+1))?(N=65536+((1023&N)<<10)+(1023&T.charCodeAt(++G)),D[M++]=N>>18|240,D[M++]=N>>12&63|128,D[M++]=N>>6&63|128,D[M++]=63&N|128):(D[M++]=N>>12|224,D[M++]=N>>6&63|128,D[M++]=63&N|128)}return D},Ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,D){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let N=0;N<T.length;N+=3){const fe=T[N],pe=N+1<T.length,Ye=pe?T[N+1]:0,Xe=N+2<T.length,Ht=Xe?T[N+2]:0;let we=(15&Ye)<<2|Ht>>6,sr=63&Ht;Xe||(sr=64,pe||(we=64)),G.push(M[fe>>2],M[(3&fe)<<4|Ye>>4],M[we],M[sr])}return G.join("")},encodeString(T,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(T):this.encodeByteArray(Ne(T),D)},decodeString(T,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(T):function(T){const D=[];let M=0,G=0;for(;M<T.length;){const N=T[M++];if(N<128)D[G++]=String.fromCharCode(N);else if(N>191&&N<224){const fe=T[M++];D[G++]=String.fromCharCode((31&N)<<6|63&fe)}else if(N>239&&N<365){const Xe=((7&N)<<18|(63&T[M++])<<12|(63&T[M++])<<6|63&T[M++])-65536;D[G++]=String.fromCharCode(55296+(Xe>>10)),D[G++]=String.fromCharCode(56320+(1023&Xe))}else{const fe=T[M++],pe=T[M++];D[G++]=String.fromCharCode((15&N)<<12|(63&fe)<<6|63&pe)}}return D.join("")}(this.decodeStringToByteArray(T,D))},decodeStringToByteArray(T,D){this.init_();const M=D?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let N=0;N<T.length;){const fe=M[T.charAt(N++)],Ye=N<T.length?M[T.charAt(N)]:0;++N;const Ht=N<T.length?M[T.charAt(N)]:64;++N;const Ce=N<T.length?M[T.charAt(N)]:64;if(++N,null==fe||null==Ye||null==Ht||null==Ce)throw new tn;G.push(fe<<2|Ye>>4),64!==Ht&&(G.push(Ye<<4&240|Ht>>2),64!==Ce&&G.push(Ht<<6&192|Ce))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dn=function(T){const D=Ne(T);return Ut.encodeByteArray(D,!0)},nt=function(T){return Dn(T).replace(/\./g,"")},Q=function(T){try{return Ut.decodeString(T,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function se(T){return ve(void 0,T)}function ve(T,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return D}for(const M in D)!D.hasOwnProperty(M)||!et(M)||(T[M]=ve(T[M],D[M]));return T}function et(T){return"__proto__"!==T}const Ke=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=T&&Q(T[1]);return D&&JSON.parse(D)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},Bt=()=>{var T;return null===(T=Ke())||void 0===T?void 0:T.config},Ct=T=>{var D;return null===(D=Ke())||void 0===D?void 0:D[`_${T}`]};class Mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,M)=>{this.resolve=D,this.reject=M})}wrapCallback(D){return(M,G)=>{M?this.reject(M):this.resolve(G),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(M):D(M,G))}}}function pi(T,D){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=D||"demo-project",N=T.iat||0,fe=T.sub||T.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pe=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:N,exp:N+3600,auth_time:N,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},T);return[nt(JSON.stringify({alg:"none",type:"JWT"})),nt(JSON.stringify(pe)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Sn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function K(){var T;const D=null===(T=Ke())||void 0===T?void 0:T.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qt(){return"object"==typeof self&&self.self===self}function jt(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const T=Ze();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function fs(){return!0===C.NODE_CLIENT||!0===C.NODE_ADMIN}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((T,D)=>{try{let M=!0;const G="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(G);N.onsuccess=()=>{N.result.close(),M||self.indexedDB.deleteDatabase(G),T(!0)},N.onupgradeneeded=()=>{M=!1},N.onerror=()=>{var fe;D((null===(fe=N.error)||void 0===fe?void 0:fe.message)||"")}}catch(M){D(M)}})}class X extends Error{constructor(D,M,G){super(M),this.code=D,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(D,M,G){this.service=D,this.serviceName=M,this.errors=G}create(D,...M){const G=M[0]||{},N=`${this.service}/${D}`,fe=this.errors[D],pe=fe?function ue(T,D){return T.replace(ht,(M,G)=>{const N=D[G];return null!=N?String(N):`<${G}?>`})}(fe,G):"Error";return new X(N,`${this.serviceName}: ${pe} (${N}).`,G)}}const ht=/\{\$([^}]+)}/g;function he(T){return JSON.parse(T)}function Ee(T){return JSON.stringify(T)}const gt=function(T){let D={},M={},G={},N="";try{const fe=T.split(".");D=he(Q(fe[0])||""),M=he(Q(fe[1])||""),N=fe[2],G=M.d||{},delete M.d}catch{}return{header:D,claims:M,data:G,signature:N}},jn=function(T){const M=gt(T).claims;return!!M&&"object"==typeof M&&M.hasOwnProperty("iat")},_n=function(T){const D=gt(T).claims;return"object"==typeof D&&!0===D.admin};function ii(T,D){return Object.prototype.hasOwnProperty.call(T,D)}function ri(T,D){if(Object.prototype.hasOwnProperty.call(T,D))return T[D]}function Pi(T){for(const D in T)if(Object.prototype.hasOwnProperty.call(T,D))return!1;return!0}function Zo(T,D,M){const G={};for(const N in T)Object.prototype.hasOwnProperty.call(T,N)&&(G[N]=D.call(M,T[N],N,T));return G}function Gr(T,D){if(T===D)return!0;const M=Object.keys(T),G=Object.keys(D);for(const N of M){if(!G.includes(N))return!1;const fe=T[N],pe=D[N];if(nn(fe)&&nn(pe)){if(!Gr(fe,pe))return!1}else if(fe!==pe)return!1}for(const N of G)if(!M.includes(N))return!1;return!0}function nn(T){return null!==T&&"object"==typeof T}function Ya(T){const D=[];for(const[M,G]of Object.entries(T))Array.isArray(G)?G.forEach(N=>{D.push(encodeURIComponent(M)+"="+encodeURIComponent(N))}):D.push(encodeURIComponent(M)+"="+encodeURIComponent(G));return D.length?"&"+D.join("&"):""}function rr(T){const D={};return T.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[N,fe]=G.split("=");D[decodeURIComponent(N)]=decodeURIComponent(fe)}}),D}function Qa(T){const D=T.indexOf("?");if(!D)return"";const M=T.indexOf("#",D);return T.substring(D,M>0?M:void 0)}class si{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let D=1;D<this.blockSize;++D)this.pad_[D]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(D,M){M||(M=0);const G=this.W_;if("string"==typeof D)for(let Ce=0;Ce<16;Ce++)G[Ce]=D.charCodeAt(M)<<24|D.charCodeAt(M+1)<<16|D.charCodeAt(M+2)<<8|D.charCodeAt(M+3),M+=4;else for(let Ce=0;Ce<16;Ce++)G[Ce]=D[M]<<24|D[M+1]<<16|D[M+2]<<8|D[M+3],M+=4;for(let Ce=16;Ce<80;Ce++){const we=G[Ce-3]^G[Ce-8]^G[Ce-14]^G[Ce-16];G[Ce]=4294967295&(we<<1|we>>>31)}let Ht,In,N=this.chain_[0],fe=this.chain_[1],pe=this.chain_[2],Ye=this.chain_[3],Xe=this.chain_[4];for(let Ce=0;Ce<80;Ce++){Ce<40?Ce<20?(Ht=Ye^fe&(pe^Ye),In=1518500249):(Ht=fe^pe^Ye,In=1859775393):Ce<60?(Ht=fe&pe|Ye&(fe|pe),In=2400959708):(Ht=fe^pe^Ye,In=3395469782);const we=(N<<5|N>>>27)+Ht+Xe+In+G[Ce]&4294967295;Xe=Ye,Ye=pe,pe=4294967295&(fe<<30|fe>>>2),fe=N,N=we}this.chain_[0]=this.chain_[0]+N&4294967295,this.chain_[1]=this.chain_[1]+fe&4294967295,this.chain_[2]=this.chain_[2]+pe&4294967295,this.chain_[3]=this.chain_[3]+Ye&4294967295,this.chain_[4]=this.chain_[4]+Xe&4294967295}update(D,M){if(null==D)return;void 0===M&&(M=D.length);const G=M-this.blockSize;let N=0;const fe=this.buf_;let pe=this.inbuf_;for(;N<M;){if(0===pe)for(;N<=G;)this.compress_(D,N),N+=this.blockSize;if("string"==typeof D){for(;N<M;)if(fe[pe]=D.charCodeAt(N),++pe,++N,pe===this.blockSize){this.compress_(fe),pe=0;break}}else for(;N<M;)if(fe[pe]=D[N],++pe,++N,pe===this.blockSize){this.compress_(fe),pe=0;break}}this.inbuf_=pe,this.total_+=M}digest(){const D=[];let M=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let N=this.blockSize-1;N>=56;N--)this.buf_[N]=255&M,M/=256;this.compress_(this.buf_);let G=0;for(let N=0;N<5;N++)for(let fe=24;fe>=0;fe-=8)D[G]=this.chain_[N]>>fe&255,++G;return D}}function qr(T,D){const M=new ps(T,D);return M.subscribe.bind(M)}class ps{constructor(D,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then(()=>{D(this)}).catch(G=>{this.error(G)})}next(D){this.forEachObserver(M=>{M.next(D)})}error(D){this.forEachObserver(M=>{M.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,M,G){let N;if(void 0===D&&void 0===M&&void 0===G)throw new Error("Missing Observer.");N=function eo(T,D){if("object"!=typeof T||null===T)return!1;for(const M of D)if(M in T&&"function"==typeof T[M])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:M,complete:G},void 0===N.next&&(N.next=Rt),void 0===N.error&&(N.error=Rt),void 0===N.complete&&(N.complete=Rt);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),fe}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,D)}sendOne(D,M){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{M(this.observers[D])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rt(){}const Ki=function(T,D,M,G){let N;if(G<D?N="at least "+D:G>M&&(N=0===M?"none":"no more than "+M),N)throw new Error(T+" failed: Was called with "+G+(1===G?" argument.":" arguments.")+" Expects "+N+".")};function yn(T,D){return`${T} failed: ${D} argument `}function ki(T,D,M,G){if((!G||M)&&"function"!=typeof M)throw new Error(yn(T,D)+"must be a valid function.")}function gi(T,D,M,G){if((!G||M)&&("object"!=typeof M||null===M))throw new Error(yn(T,D)+"must be a valid context object.")}const Kr=function(T){const D=[];let M=0;for(let G=0;G<T.length;G++){let N=T.charCodeAt(G);if(N>=55296&&N<=56319){const fe=N-55296;G++,Me(G<T.length,"Surrogate pair missing trail surrogate."),N=65536+(fe<<10)+(T.charCodeAt(G)-56320)}N<128?D[M++]=N:N<2048?(D[M++]=N>>6|192,D[M++]=63&N|128):N<65536?(D[M++]=N>>12|224,D[M++]=N>>6&63|128,D[M++]=63&N|128):(D[M++]=N>>18|240,D[M++]=N>>12&63|128,D[M++]=N>>6&63|128,D[M++]=63&N|128)}return D},gs=function(T){let D=0;for(let M=0;M<T.length;M++){const G=T.charCodeAt(M);G<128?D++:G<2048?D+=2:G>=55296&&G<=56319?(D+=4,M++):D+=3}return D};function ea(T){return T&&T._delegate?T._delegate:T}},942:(zr,Ln,Ue)=>{Ue.d(Ln,{Z:()=>Vn});var C=Ue(90),Me=Ue(859),z=Ue(881),Ne=Ue(877);class at{constructor(Ve,Ke){this._delegate=Ve,this.firebase=Ke,(0,z._addComponent)(Ve,new Me.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ve,Ke=z._DEFAULT_ENTRY_NAME){var Un;this._delegate.checkDestroyed();const Bn=this._delegate.container.getProvider(Ve);return!Bn.isInitialized()&&"EXPLICIT"===(null===(Un=Bn.getComponent())||void 0===Un?void 0:Un.instantiationMode)&&Bn.initialize(),Bn.getImmediate({identifier:Ke})}_removeServiceInstance(Ve,Ke=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(Ke)}_addComponent(Ve){(0,z._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,z._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const tn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function nt(){const bt=function Dn(bt){const Ve={},Ke={__esModule:!0,initializeApp:function Bt(Ze,Sn={}){const K=z.initializeApp(Ze,Sn);if((0,C.r3)(Ve,K.name))return Ve[K.name];const Qt=new bt(K,Ke);return Ve[K.name]=Qt,Qt},app:Bn,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Mt(Ze){const Sn=Ze.name,K=Sn.replace("-compat","");if(z._registerComponent(Ze)&&"PUBLIC"===Ze.type){const Qt=(jt=Bn())=>{if("function"!=typeof jt[K])throw tn.create("invalid-app-argument",{appName:Sn});return jt[K]()};void 0!==Ze.serviceProps&&(0,C.ZB)(Qt,Ze.serviceProps),Ke[K]=Qt,bt.prototype[K]=function(...jt){return this._getService.bind(this,Sn).apply(this,Ze.multipleInstances?jt:[])}}return"PUBLIC"===Ze.type?Ke[K]:null},removeApp:function Un(Ze){delete Ve[Ze]},useAsService:function pi(Ze,Sn){return"serverAuth"===Sn?null:Sn},modularAPIs:z}};function Bn(Ze){if(!(0,C.r3)(Ve,Ze=Ze||z._DEFAULT_ENTRY_NAME))throw tn.create("no-app",{appName:Ze});return Ve[Ze]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function Ct(){return Object.keys(Ve).map(Ze=>Ve[Ze])}}),Bn.App=bt,Ke}(at);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:nt,extendNamespace:function Ve(Ke){(0,C.ZB)(bt,Ke)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),bt}(),se=new Ne.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Vn=Q;!function yt(bt){(0,z.registerVersion)("@firebase/app-compat","0.2.27",bt)}()},881:(zr,Ln,Ue)=>{Ue.r(Ln),Ue.d(Ln,{FirebaseError:()=>Ne.ZR,SDK_VERSION:()=>Kr,_DEFAULT_ENTRY_NAME:()=>rr,_addComponent:()=>ps,_addOrOverwriteComponent:()=>Qn,_apps:()=>si,_clearComponents:()=>yn,_components:()=>qr,_getProvider:()=>Rt,_registerComponent:()=>eo,_removeServiceInstance:()=>Ki,deleteApp:()=>Xn,getApp:()=>ms,getApps:()=>Xo,initializeApp:()=>gs,onLog:()=>Jo,registerVersion:()=>_s,setLogLevel:()=>Cc});var C=Ue(861),Me=Ue(859),z=Ue(877),Ne=Ue(90);const at=($,w)=>w.some(J=>$ instanceof J);let Ut,tn;const Q=new WeakMap,se=new WeakMap,ve=new WeakMap,et=new WeakMap,yt=new WeakMap;let Ve={get($,w,J){if($ instanceof IDBTransaction){if("done"===w)return se.get($);if("objectStoreNames"===w)return $.objectStoreNames||ve.get($);if("store"===w)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Bt($[w])},set:($,w,J)=>($[w]=J,!0),has:($,w)=>$ instanceof IDBTransaction&&("done"===w||"store"===w)||w in $};function Bn($){return"function"==typeof $?function Un($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nt(){return tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...w){return $.apply(Ct(this),w),Bt(Q.get(this))}:function(...w){return Bt($.apply(Ct(this),w))}:function(w,...J){const ee=$.call(Ct(this),w,...J);return ve.set(ee,w.sort?w.sort():[w]),Bt(ee)}}($):($ instanceof IDBTransaction&&function bt($){if(se.has($))return;const w=new Promise((J,ee)=>{const de=()=>{$.removeEventListener("complete",lt),$.removeEventListener("error",wt),$.removeEventListener("abort",wt)},lt=()=>{J(),de()},wt=()=>{ee($.error||new DOMException("AbortError","AbortError")),de()};$.addEventListener("complete",lt),$.addEventListener("error",wt),$.addEventListener("abort",wt)});se.set($,w)}($),at($,function Dn(){return Ut||(Ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ve):$)}function Bt($){if($ instanceof IDBRequest)return function Vn($){const w=new Promise((J,ee)=>{const de=()=>{$.removeEventListener("success",lt),$.removeEventListener("error",wt)},lt=()=>{J(Bt($.result)),de()},wt=()=>{ee($.error),de()};$.addEventListener("success",lt),$.addEventListener("error",wt)});return w.then(J=>{J instanceof IDBCursor&&Q.set(J,$)}).catch(()=>{}),yt.set(w,$),w}($);if(et.has($))return et.get($);const w=Bn($);return w!==$&&(et.set($,w),yt.set(w,$)),w}const Ct=$=>yt.get($),Ze=["get","getKey","getAll","getAllKeys","count"],Sn=["put","add","delete","clear"],K=new Map;function Qt($,w){if(!($ instanceof IDBDatabase)||w in $||"string"!=typeof w)return;if(K.get(w))return K.get(w);const J=w.replace(/FromIndex$/,""),ee=w!==J,de=Sn.includes(J);if(!(J in(ee?IDBIndex:IDBObjectStore).prototype)||!de&&!Ze.includes(J))return;const lt=function(){var wt=(0,C.Z)(function*(vn,...Ot){const on=this.transaction(vn,de?"readwrite":"readonly");let Ja=on.store;return ee&&(Ja=Ja.index(Ot.shift())),(yield Promise.all([Ja[J](...Ot),de&&on.done]))[0]});return function(Ot){return wt.apply(this,arguments)}}();return K.set(w,lt),lt}!function Ke($){Ve=$(Ve)}($=>({...$,get:(w,J,ee)=>Qt(w,J)||$.get(w,J,ee),has:(w,J)=>!!Qt(w,J)||$.has(w,J)}));class jt{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function hn($){return"VERSION"===$.getComponent()?.type}(J)){const ee=J.getImmediate();return`${ee.library}/${ee.version}`}return null}).filter(J=>J).join(" ")}}const Dr="@firebase/app",ze=new z.Yd("@firebase/app"),rr="[DEFAULT]",Qa={[Dr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},si=new Map,qr=new Map;function ps($,w){try{$.container.addComponent(w)}catch(J){ze.debug(`Component ${w.name} failed to register with FirebaseApp ${$.name}`,J)}}function Qn($,w){$.container.addOrOverwriteComponent(w)}function eo($){const w=$.name;if(qr.has(w))return ze.debug(`There were multiple attempts to register component ${w}.`),!1;qr.set(w,$);for(const J of si.values())ps(J,$);return!0}function Rt($,w){const J=$.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),$.container.getProvider(w)}function Ki($,w,J=rr){Rt($,w).clearInstance(J)}function yn(){qr.clear()}const ki=new Ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gi{constructor(w,J,ee){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new Me.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}const Kr="10.8.0";function gs($,w={}){let J=$;"object"!=typeof w&&(w={name:w});const ee=Object.assign({name:rr,automaticDataCollectionEnabled:!1},w),de=ee.name;if("string"!=typeof de||!de)throw ki.create("bad-app-name",{appName:String(de)});if(J||(J=(0,Ne.aH)()),!J)throw ki.create("no-options");const lt=si.get(de);if(lt){if((0,Ne.vZ)(J,lt.options)&&(0,Ne.vZ)(ee,lt.config))return lt;throw ki.create("duplicate-app",{appName:de})}const wt=new Me.H0(de);for(const Ot of qr.values())wt.addComponent(Ot);const vn=new gi(J,ee,wt);return si.set(de,vn),vn}function ms($=rr){const w=si.get($);if(!w&&$===rr&&(0,Ne.aH)())return gs();if(!w)throw ki.create("no-app",{appName:$});return w}function Xo(){return Array.from(si.values())}function Xn($){return mi.apply(this,arguments)}function mi(){return(mi=(0,C.Z)(function*($){const w=$.name;si.has(w)&&(si.delete(w),yield Promise.all($.container.getProviders().map(J=>J.delete())),$.isDeleted=!0)})).apply(this,arguments)}function _s($,w,J){var ee;let de=null!==(ee=Qa[$])&&void 0!==ee?ee:$;J&&(de+=`-${J}`);const lt=de.match(/\s|\//),wt=w.match(/\s|\//);if(lt||wt){const vn=[`Unable to register library "${de}" with version "${w}":`];return lt&&vn.push(`library name "${de}" contains illegal characters (whitespace or "/")`),lt&&wt&&vn.push("and"),wt&&vn.push(`version name "${w}" contains illegal characters (whitespace or "/")`),void ze.warn(vn.join(" "))}eo(new Me.wA(`${de}-version`,()=>({library:de,version:w}),"VERSION"))}function Jo($,w){if(null!==$&&"function"!=typeof $)throw ki.create("invalid-log-argument");(0,z.Am)($,w)}function Cc($){(0,z.Ub)($)}const Xa="firebase-heartbeat-database",ea=1,T="firebase-heartbeat-store";let D=null;function M(){return D||(D=function Mt($,w,{blocked:J,upgrade:ee,blocking:de,terminated:lt}={}){const wt=indexedDB.open($,w),vn=Bt(wt);return ee&&wt.addEventListener("upgradeneeded",Ot=>{ee(Bt(wt.result),Ot.oldVersion,Ot.newVersion,Bt(wt.transaction),Ot)}),J&&wt.addEventListener("blocked",Ot=>J(Ot.oldVersion,Ot.newVersion,Ot)),vn.then(Ot=>{lt&&Ot.addEventListener("close",()=>lt()),de&&Ot.addEventListener("versionchange",on=>de(on.oldVersion,on.newVersion,on))}).catch(()=>{}),vn}(Xa,ea,{upgrade:($,w)=>{if(0===w)try{$.createObjectStore(T)}catch(J){console.warn(J)}}}).catch($=>{throw ki.create("idb-open",{originalErrorMessage:$.message})})),D}function N(){return(N=(0,C.Z)(function*($){try{const J=(yield M()).transaction(T),ee=yield J.objectStore(T).get(Ye($));return yield J.done,ee}catch(w){if(w instanceof Ne.ZR)ze.warn(w.message);else{const J=ki.create("idb-get",{originalErrorMessage:w?.message});ze.warn(J.message)}}})).apply(this,arguments)}function fe($,w){return pe.apply(this,arguments)}function pe(){return(pe=(0,C.Z)(function*($,w){try{const ee=(yield M()).transaction(T,"readwrite");yield ee.objectStore(T).put(w,Ye($)),yield ee.done}catch(J){if(J instanceof Ne.ZR)ze.warn(J.message);else{const ee=ki.create("idb-set",{originalErrorMessage:J?.message});ze.warn(ee.message)}}})).apply(this,arguments)}function Ye($){return`${$.name}!${$.options.appId}`}class In{constructor(w){this.container=w,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new sr(J),this._heartbeatsCachePromise=this._storage.read().then(ee=>(this._heartbeatsCache=ee,ee))}triggerHeartbeat(){var w=this;return(0,C.Z)(function*(){var J,ee;const lt=w.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Ce();if((null!=(null===(J=w._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||(w._heartbeatsCache=yield w._heartbeatsCachePromise,null!=(null===(ee=w._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)))&&w._heartbeatsCache.lastSentHeartbeatDate!==wt&&!w._heartbeatsCache.heartbeats.some(vn=>vn.date===wt))return w._heartbeatsCache.heartbeats.push({date:wt,agent:lt}),w._heartbeatsCache.heartbeats=w._heartbeatsCache.heartbeats.filter(vn=>{const Ot=new Date(vn.date).valueOf();return Date.now()-Ot<=2592e6}),w._storage.overwrite(w._heartbeatsCache)})()}getHeartbeatsHeader(){var w=this;return(0,C.Z)(function*(){var J;if(null===w._heartbeatsCache&&(yield w._heartbeatsCachePromise),null==(null===(J=w._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||0===w._heartbeatsCache.heartbeats.length)return"";const ee=Ce(),{heartbeatsToSend:de,unsentEntries:lt}=function we($,w=1024){const J=[];let ee=$.slice();for(const de of $){const lt=J.find(wt=>wt.agent===de.agent);if(lt){if(lt.dates.push(de.date),Ir(J)>w){lt.dates.pop();break}}else if(J.push({agent:de.agent,dates:[de.date]}),Ir(J)>w){J.pop();break}ee=ee.slice(1)}return{heartbeatsToSend:J,unsentEntries:ee}}(w._heartbeatsCache.heartbeats),wt=(0,Ne.L)(JSON.stringify({version:2,heartbeats:de}));return w._heartbeatsCache.lastSentHeartbeatDate=ee,lt.length>0?(w._heartbeatsCache.heartbeats=lt,yield w._storage.overwrite(w._heartbeatsCache)):(w._heartbeatsCache.heartbeats=[],w._storage.overwrite(w._heartbeatsCache)),wt})()}}function Ce(){return(new Date).toISOString().substring(0,10)}class sr{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Ne.hl)()&&(0,Ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var w=this;return(0,C.Z)(function*(){if(yield w._canUseIndexedDBPromise){const ee=yield function G($){return N.apply(this,arguments)}(w.app);return ee?.heartbeats?ee:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(w){var J=this;return(0,C.Z)(function*(){var ee;if(yield J._canUseIndexedDBPromise){const lt=yield J.read();return fe(J.app,{lastSentHeartbeatDate:null!==(ee=w.lastSentHeartbeatDate)&&void 0!==ee?ee:lt.lastSentHeartbeatDate,heartbeats:w.heartbeats})}})()}add(w){var J=this;return(0,C.Z)(function*(){var ee;if(yield J._canUseIndexedDBPromise){const lt=yield J.read();return fe(J.app,{lastSentHeartbeatDate:null!==(ee=w.lastSentHeartbeatDate)&&void 0!==ee?ee:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...w.heartbeats]})}})()}}function Ir($){return(0,Ne.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Ad($){eo(new Me.wA("platform-logger",w=>new jt(w),"PRIVATE")),eo(new Me.wA("heartbeat",w=>new In(w),"PRIVATE")),_s(Dr,"0.9.27",$),_s(Dr,"0.9.27","esm2017"),_s("fire-js","")}("")},859:(zr,Ln,Ue)=>{Ue.d(Ln,{H0:()=>Dn,wA:()=>z,zt:()=>at});var C=Ue(861),Me=Ue(90);class z{constructor(Q,se,ve){this.name=Q,this.instanceFactory=se,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Ne="[DEFAULT]";class at{constructor(Q,se){this.name=Q,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const se=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(se)){const ve=new Me.BH;if(this.instancesDeferred.set(se,ve),this.isInitialized(se)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:se});et&&ve.resolve(et)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(Q){var se;const ve=this.normalizeInstanceIdentifier(Q?.identifier),et=null!==(se=Q?.optional)&&void 0!==se&&se;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(yt){if(et)return null;throw yt}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function tn(nt){return"EAGER"===nt.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(const[se,ve]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(se);try{const yt=this.getOrInitializeService({instanceIdentifier:et});ve.resolve(yt)}catch{}}}}clearInstance(Q=Ne){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,C.Z)(function*(){const se=Array.from(Q.instances.values());yield Promise.all([...se.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...se.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Ne){return this.instances.has(Q)}getOptions(Q=Ne){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:se={}}=Q,ve=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:ve,options:se});for(const[yt,Vn]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(yt)&&Vn.resolve(et);return et}onInit(Q,se){var ve;const et=this.normalizeInstanceIdentifier(se),yt=null!==(ve=this.onInitCallbacks.get(et))&&void 0!==ve?ve:new Set;yt.add(Q),this.onInitCallbacks.set(et,yt);const Vn=this.instances.get(et);return Vn&&Q(Vn,et),()=>{yt.delete(Q)}}invokeOnInitCallbacks(Q,se){const ve=this.onInitCallbacks.get(se);if(ve)for(const et of ve)try{et(Q,se)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:se={}}){let ve=this.instances.get(Q);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(nt=Q,nt===Ne?void 0:nt),options:se}),this.instances.set(Q,ve),this.instancesOptions.set(Q,se),this.invokeOnInitCallbacks(ve,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ve)}catch{}var nt;return ve||null}normalizeInstanceIdentifier(Q=Ne){return this.component?this.component.multipleInstances?Q:Ne:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dn{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const se=this.getProvider(Q.name);if(se.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);se.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const se=new at(Q,this);return this.providers.set(Q,se),se}getProviders(){return Array.from(this.providers.values())}}},877:(zr,Ln,Ue)=>{Ue.d(Ln,{Am:()=>nt,Ub:()=>Dn,Yd:()=>tn,in:()=>Me});const C=[];var Me=(()=>{return(Q=Me||(Me={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Me;var Q})();const z={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ne=Me.INFO,at={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ut=(Q,se,...ve)=>{if(se<Q.logLevel)return;const et=(new Date).toISOString(),yt=at[se];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[yt](`[${et}]  ${Q.name}:`,...ve)};class tn{constructor(se){this.name=se,this._logLevel=Ne,this._logHandler=Ut,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Me))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?z[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...se),this._logHandler(this,Me.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...se),this._logHandler(this,Me.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...se),this._logHandler(this,Me.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...se),this._logHandler(this,Me.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...se),this._logHandler(this,Me.ERROR,...se)}}function Dn(Q){C.forEach(se=>{se.setLogLevel(Q)})}function nt(Q,se){for(const ve of C){let et=null;se&&se.level&&(et=z[se.level]),ve.userLogHandler=null===Q?null:(yt,Vn,...bt)=>{const Ve=bt.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");Vn>=(et??yt.logLevel)&&Q({level:Me[Vn].toLowerCase(),message:Ve,args:bt,type:yt.name})}}}},321:(zr,Ln,Ue)=>{Ue.r(Ln);var C=Ue(861),Me=Ue(942),z=Ue(90),Ne=Ue(881),at=Ue(877),Ut=Ue(582),tn=Ue(859);const nt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve_EMAIL_SIGNIN="EMAIL_SIGNIN",ve_PASSWORD_RESET="PASSWORD_RESET",ve_RECOVER_EMAIL="RECOVER_EMAIL",ve_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ve_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ve_VERIFY_EMAIL="VERIFY_EMAIL";const Vn=function et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new at.Yd("@firebase/auth");function Bt(h,...l){Un.logLevel<=at.in.ERROR&&Un.error(`Auth (${Ne.SDK_VERSION}): ${h}`,...l)}function Ct(h,...l){throw Sn(h,...l)}function Mt(h,...l){return Sn(h,...l)}function pi(h,l,u){const f=Object.assign(Object.assign({},bt()),{[l]:u});return new z.LL("auth","Firebase",f).create(l,{appName:h.name})}function Ze(h,l,u){if(!(l instanceof u))throw u.name!==l.constructor.name&&Ct(h,"argument-error"),pi(h,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sn(h,...l){if("string"!=typeof h){const u=l[0],f=[...l.slice(1)];return f[0]&&(f[0].appName=h.name),h._errorFactory.create(u,...f)}return Ve.create(h,...l)}function K(h,l,...u){if(!h)throw Sn(l,...u)}function Qt(h){const l="INTERNAL ASSERTION FAILED: "+h;throw Bt(l),new Error(l)}function jt(h,l){h||Qt(l)}function hn(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Dr(){return"http:"===Sr()||"https:"===Sr()}function Sr(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class Wr{constructor(l,u){this.shortDelay=l,this.longDelay=u,jt(u>l,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dr()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function U(h,l){jt(h.emulator,"Emulator should always be set here");const{url:u}=h.emulator;return l?`${u}${l.startsWith("/")?l.slice(1):l}`:u}class H{static initialize(l,u,f){this.fetchImpl=l,u&&(this.headersImpl=u),f&&(this.responseImpl=f)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},q=new Wr(3e4,6e4);function X(h,l){return h.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:h.tenantId}):l}function j(h,l,u,f){return ue.apply(this,arguments)}function ue(){return(ue=(0,C.Z)(function*(h,l,u,f,m={}){return ht(h,m,(0,C.Z)(function*(){let y={},S={};f&&("GET"===l?S=f:y={body:JSON.stringify(f)});const O=(0,z.xO)(Object.assign({key:h.config.apiKey},S)).slice(1),W=yield h._getAdditionalHeaders();return W["Content-Type"]="application/json",h.languageCode&&(W["X-Firebase-Locale"]=h.languageCode),H.fetch()(Xt(h,h.config.apiHost,u,O),Object.assign({method:l,headers:W,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function ht(h,l,u){return he.apply(this,arguments)}function he(){return(he=(0,C.Z)(function*(h,l,u){h._canInitEmulator=!1;const f=Object.assign(Object.assign({},V),l);try{const m=new jn(h),y=yield Promise.race([u(),m.promise]);m.clearNetworkTimeout();const S=yield y.json();if("needConfirmation"in S)throw _n(h,"account-exists-with-different-credential",S);if(y.ok&&!("errorMessage"in S))return S;{const O=y.ok?S.errorMessage:S.error.message,[W,ce]=O.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===W)throw _n(h,"credential-already-in-use",S);if("EMAIL_EXISTS"===W)throw _n(h,"email-already-in-use",S);if("USER_DISABLED"===W)throw _n(h,"user-disabled",S);const ge=f[W]||W.toLowerCase().replace(/[_\s]+/g,"-");if(ce)throw pi(h,ge,ce);Ct(h,ge)}}catch(m){if(m instanceof z.ZR)throw m;Ct(h,"network-request-failed",{message:String(m)})}})).apply(this,arguments)}function Ee(h,l,u,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,C.Z)(function*(h,l,u,f,m={}){const y=yield j(h,l,u,f,m);return"mfaPendingCredential"in y&&Ct(h,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Xt(h,l,u,f){const m=`${l}${u}?${f}`;return h.config.emulator?U(h.config,m):`${h.config.apiScheme}://${m}`}function kt(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((u,f)=>{this.timer=setTimeout(()=>f(Mt(this.auth,"network-request-failed")),q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(h,l,u){const f={appName:h.name};u.email&&(f.email=u.email),u.phoneNumber&&(f.phoneNumber=u.phoneNumber);const m=Mt(h,l,f);return m.customData._tokenResponse=u,m}function ii(h){return void 0!==h&&void 0!==h.getResponse}function ri(h){return void 0!==h&&void 0!==h.enterprise}class Pi{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===l)return kt(u.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Gr(){return(Gr=(0,C.Z)(function*(h){return(yield j(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nn(h,l){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,C.Z)(function*(h,l){return j(h,"GET","/v2/recaptchaConfig",X(h,l))})).apply(this,arguments)}function rr(){return(rr=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function si(){return(si=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ps(){return(ps=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Qn(h){if(h)try{const l=new Date(Number(h));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Ki(){return(Ki=(0,C.Z)(function*(h,l=!1){const u=(0,z.m9)(h),f=yield u.getIdToken(l),m=Qo(f);K(m&&m.exp&&m.auth_time&&m.iat,u.auth,"internal-error");const y="object"==typeof m.firebase?m.firebase:void 0,S=y?.sign_in_provider;return{claims:m,token:f,authTime:Qn(yn(m.auth_time)),issuedAtTime:Qn(yn(m.iat)),expirationTime:Qn(yn(m.exp)),signInProvider:S||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function yn(h){return 1e3*Number(h)}function Qo(h){const[l,u,f]=h.split(".");if(void 0===l||void 0===u||void 0===f)return Bt("JWT malformed, contained fewer than 3 sections"),null;try{const m=(0,z.tV)(u);return m?JSON.parse(m):(Bt("Failed to decode base64 JWT payload"),null)}catch(m){return Bt("Caught error parsing JWT payload as JSON",m?.toString()),null}}function gi(h,l){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,C.Z)(function*(h,l,u=!1){if(u)return l;try{return yield l}catch(f){throw f instanceof z.ZR&&function gs({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(f)&&h.auth.currentUser===h&&(yield h.auth.signOut()),f}})).apply(this,arguments)}class ms{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var u;if(l){const f=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),f}{this.errorBackoff=3e4;const m=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,m)}}schedule(l=!1){var u=this;if(!this.isRunning)return;const f=this.getInterval(l);this.timerId=setTimeout((0,C.Z)(function*(){yield u.iteration()}),f)}iteration(){var l=this;return(0,C.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&l.schedule(!0))}l.schedule()})()}}class Xo{constructor(l,u){this.createdAt=l,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(h){return mi.apply(this,arguments)}function mi(){return mi=(0,C.Z)(function*(h){var l;const u=h.auth,f=yield h.getIdToken(),m=yield gi(h,function qr(h,l){return ps.apply(this,arguments)}(u,{idToken:f}));K(m?.users.length,u,"internal-error");const y=m.users[0];h._notifyReloadListener(y);const S=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Xa(h){return h.map(l=>{var{providerId:u}=l,f=(0,Ut._T)(l,["providerId"]);return{providerId:u,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}})}(y.providerUserInfo):[],O=function Cc(h,l){return[...h.filter(f=>!l.some(m=>m.providerId===f.providerId)),...l]}(h.providerData,S),ge=!!h.isAnonymous&&!(h.email&&y.passwordHash||O?.length),me={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:O,metadata:new Xo(y.createdAt,y.lastLoginAt),isAnonymous:ge};Object.assign(h,me)}),mi.apply(this,arguments)}function Jo(){return(Jo=(0,C.Z)(function*(h){const l=(0,z.m9)(h);yield Xn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function T(){return(T=(0,C.Z)(function*(h,l){const u=yield ht(h,{},(0,C.Z)(function*(){const f=(0,z.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:m,apiKey:y}=h.config,S=Xt(h,m,"/v1/token",`key=${y}`),O=yield h._getAdditionalHeaders();return O["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(S,{method:"POST",headers:O,body:f})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,C.Z)(function*(h,l){return j(h,"POST","/v2/accounts:revokeToken",X(h,l))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){K(l.idToken,"internal-error"),K(typeof l.idToken<"u","internal-error"),K(typeof l.refreshToken<"u","internal-error");const u="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function ki(h){const l=Qo(h);return K(l,"internal-error"),K(typeof l.exp<"u","internal-error"),K(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,u)}getToken(l,u=!1){var f=this;return(0,C.Z)(function*(){return K(!f.accessToken||f.refreshToken,l,"user-token-expired"),u||!f.accessToken||f.isExpired?f.refreshToken?(yield f.refresh(l,f.refreshToken),f.accessToken):null:f.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,u){var f=this;return(0,C.Z)(function*(){const{accessToken:m,refreshToken:y,expiresIn:S}=yield function ea(h,l){return T.apply(this,arguments)}(l,u);f.updateTokensAndExpiration(m,y,Number(S))})()}updateTokensAndExpiration(l,u,f){this.refreshToken=u||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*f}static fromJSON(l,u){const{refreshToken:f,accessToken:m,expirationTime:y}=u,S=new G;return f&&(K("string"==typeof f,"internal-error",{appName:l}),S.refreshToken=f),m&&(K("string"==typeof m,"internal-error",{appName:l}),S.accessToken=m),y&&(K("number"==typeof y,"internal-error",{appName:l}),S.expirationTime=y),S}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Qt("not implemented")}}function N(h,l){K("string"==typeof h||typeof h>"u","internal-error",{appName:l})}class fe{constructor(l){var{uid:u,auth:f,stsTokenManager:m}=l,y=(0,Ut._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=f,this.stsTokenManager=m,this.accessToken=m.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Xo(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var u=this;return(0,C.Z)(function*(){const f=yield gi(u,u.stsTokenManager.getToken(u.auth,l));return K(f,u.auth,"internal-error"),u.accessToken!==f&&(u.accessToken=f,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),f})()}getIdTokenResult(l){return function Rt(h){return Ki.apply(this,arguments)}(this,l)}reload(){return function _s(h){return Jo.apply(this,arguments)}(this)}_assign(l){this!==l&&(K(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(u=>Object.assign({},u)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const u=new fe(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(l){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,u=!1){var f=this;return(0,C.Z)(function*(){let m=!1;l.idToken&&l.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(l),m=!0),u&&(yield Xn(f)),yield f.auth._persistUserIfCurrent(f),m&&f.auth._notifyListenersIfCurrent(f)})()}delete(){var l=this;return(0,C.Z)(function*(){const u=yield l.getIdToken();return yield gi(l,function Ya(h,l){return rr.apply(this,arguments)}(l.auth,{idToken:u})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,u){var f,m,y,S,O,W,ce,ge;const me=null!==(f=u.displayName)&&void 0!==f?f:void 0,Lt=null!==(m=u.email)&&void 0!==m?m:void 0,li=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,yu=null!==(S=u.photoURL)&&void 0!==S?S:void 0,Oh=null!==(O=u.tenantId)&&void 0!==O?O:void 0,xh=null!==(W=u._redirectEventId)&&void 0!==W?W:void 0,Kg=null!==(ce=u.createdAt)&&void 0!==ce?ce:void 0,Zg=null!==(ge=u.lastLoginAt)&&void 0!==ge?ge:void 0,{uid:vu,emailVerified:Nh,isAnonymous:Ol,providerData:xl,stsTokenManager:wo}=u;K(vu&&wo,l,"internal-error");const mb=G.fromJSON(this.name,wo);K("string"==typeof vu,l,"internal-error"),N(me,l.name),N(Lt,l.name),K("boolean"==typeof Nh,l,"internal-error"),K("boolean"==typeof Ol,l,"internal-error"),N(li,l.name),N(yu,l.name),N(Oh,l.name),N(xh,l.name),N(Kg,l.name),N(Zg,l.name);const Fh=new fe({uid:vu,auth:l,email:Lt,emailVerified:Nh,displayName:me,isAnonymous:Ol,photoURL:yu,phoneNumber:li,tenantId:Oh,stsTokenManager:mb,createdAt:Kg,lastLoginAt:Zg});return xl&&Array.isArray(xl)&&(Fh.providerData=xl.map(vS=>Object.assign({},vS))),xh&&(Fh._redirectEventId=xh),Fh}static _fromIdTokenResponse(l,u,f=!1){return(0,C.Z)(function*(){const m=new G;m.updateFromServerResponse(u);const y=new fe({uid:u.localId,auth:l,stsTokenManager:m,isAnonymous:f});return yield Xn(y),y})()}}const pe=new Map;function Ye(h){jt(h instanceof Function,"Expected a class definition");let l=pe.get(h);return l?(jt(l instanceof h,"Instance stored in cache mismatched with class"),l):(l=new h,pe.set(h,l),l)}const Ht=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(u,f){var m=this;return(0,C.Z)(function*(){m.storage[u]=f})()}_get(u){var f=this;return(0,C.Z)(function*(){const m=f.storage[u];return void 0===m?null:m})()}_remove(u){var f=this;return(0,C.Z)(function*(){delete f.storage[u]})()}_addListener(u,f){}_removeListener(u,f){}}return h.type="NONE",h})();function In(h,l,u){return`firebase:${h}:${l}:${u}`}class Ce{constructor(l,u,f){this.persistence=l,this.auth=u,this.userKey=f;const{config:m,name:y}=this.auth;this.fullUserKey=In(this.userKey,m.apiKey,y),this.fullPersistenceKey=In("persistence",m.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,C.Z)(function*(){const u=yield l.persistence._get(l.fullUserKey);return u?fe._fromJSON(l.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var u=this;return(0,C.Z)(function*(){if(u.persistence===l)return;const f=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=l,f?u.setCurrentUser(f):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,u,f="authUser"){return(0,C.Z)(function*(){if(!u.length)return new Ce(Ye(Ht),l,f);const m=(yield Promise.all(u.map(function(){var ce=(0,C.Z)(function*(ge){if(yield ge._isAvailable())return ge});return function(ge){return ce.apply(this,arguments)}}()))).filter(ce=>ce);let y=m[0]||Ye(Ht);const S=In(f,l.config.apiKey,l.name);let O=null;for(const ce of u)try{const ge=yield ce._get(S);if(ge){const me=fe._fromJSON(l,ge);ce!==y&&(O=me),y=ce;break}}catch{}const W=m.filter(ce=>ce._shouldAllowMigration);return y._shouldAllowMigration&&W.length?(y=W[0],O&&(yield y._set(S,O.toJSON())),yield Promise.all(u.map(function(){var ce=(0,C.Z)(function*(ge){if(ge!==y)try{yield ge._remove(S)}catch{}});return function(ge){return ce.apply(this,arguments)}}())),new Ce(y,l,f)):new Ce(y,l,f)})()}}function we(h){const l=h.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if($(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(sr(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(J(l))return"Blackberry";if(ee(l))return"Webos";if(Ir(l))return"Safari";if((l.includes("chrome/")||Ad(l))&&!l.includes("edge/"))return"Chrome";if(w(l))return"Android";{const f=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===f?.length)return f[1]}return"Other"}function sr(h=(0,z.z$)()){return/firefox\//i.test(h)}function Ir(h=(0,z.z$)()){const l=h.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Ad(h=(0,z.z$)()){return/crios\//i.test(h)}function $(h=(0,z.z$)()){return/iemobile/i.test(h)}function w(h=(0,z.z$)()){return/android/i.test(h)}function J(h=(0,z.z$)()){return/blackberry/i.test(h)}function ee(h=(0,z.z$)()){return/webos/i.test(h)}function de(h=(0,z.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function Ot(h=(0,z.z$)()){return de(h)||w(h)||ee(h)||J(h)||/windows phone/i.test(h)||$(h)}function Ja(h,l=[]){let u;switch(h){case"Browser":u=we((0,z.z$)());break;case"Worker":u=`${we((0,z.z$)())}-${h}`;break;default:u=h}const f=l.length?l.join(","):"FirebaseCore-web";return`${u}/JsCore/${Ne.SDK_VERSION}/${f}`}class lv{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,u){const f=y=>new Promise((S,O)=>{try{S(l(y))}catch(W){O(W)}});f.onAbort=u,this.queue.push(f);const m=this.queue.length-1;return()=>{this.queue[m]=()=>Promise.resolve()}}runMiddleware(l){var u=this;return(0,C.Z)(function*(){if(u.auth.currentUser===l)return;const f=[];try{for(const m of u.queue)yield m(l),m.onAbort&&f.push(m.onAbort)}catch(m){f.reverse();for(const y of f)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:m?.message})}})()}}function Tr(){return(Tr=(0,C.Z)(function*(h,l={}){return j(h,"GET","/v2/passwordPolicy",X(h,l))})).apply(this,arguments)}class jD{constructor(l){var u,f,m,y;const S=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=S.minPasswordLength)&&void 0!==u?u:6,S.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=S.maxPasswordLength),void 0!==S.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=S.containsLowercaseCharacter),void 0!==S.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=S.containsUppercaseCharacter),void 0!==S.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=S.containsNumericCharacter),void 0!==S.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=S.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(m=null===(f=l.allowedNonAlphanumericCharacters)||void 0===f?void 0:f.join(""))&&void 0!==m?m:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var u,f,m,y,S,O;const W={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,W),this.validatePasswordCharacterOptions(l,W),W.isValid&&(W.isValid=null===(u=W.meetsMinPasswordLength)||void 0===u||u),W.isValid&&(W.isValid=null===(f=W.meetsMaxPasswordLength)||void 0===f||f),W.isValid&&(W.isValid=null===(m=W.containsLowercaseLetter)||void 0===m||m),W.isValid&&(W.isValid=null===(y=W.containsUppercaseLetter)||void 0===y||y),W.isValid&&(W.isValid=null===(S=W.containsNumericCharacter)||void 0===S||S),W.isValid&&(W.isValid=null===(O=W.containsNonAlphanumericCharacter)||void 0===O||O),W}validatePasswordLengthOptions(l,u){const f=this.customStrengthOptions.minPasswordLength,m=this.customStrengthOptions.maxPasswordLength;f&&(u.meetsMinPasswordLength=l.length>=f),m&&(u.meetsMaxPasswordLength=l.length<=m)}validatePasswordCharacterOptions(l,u){let f;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let m=0;m<l.length;m++)f=l.charAt(m),this.updatePasswordCharacterOptionsStatuses(u,f>="a"&&f<="z",f>="A"&&f<="Z",f>="0"&&f<="9",this.allowedNonAlphanumericCharacters.includes(f))}updatePasswordCharacterOptionsStatuses(l,u,f,m,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=f)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=m)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class HD{constructor(l,u,f,m){this.app=l,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Np(this),this.idTokenSubscription=new Np(this),this.beforeStateQueue=new lv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(l,u){var f=this;return u&&(this._popupRedirectResolver=Ye(u)),this._initializationPromise=this.queue((0,C.Z)(function*(){var m,y;if(!f._deleted&&(f.persistenceManager=yield Ce.create(f,l),!f._deleted)){if(null!==(m=f._popupRedirectResolver)&&void 0!==m&&m._shouldInitProactively)try{yield f._popupRedirectResolver._initialize(f)}catch{}yield f.initializeCurrentUser(u),f.lastNotifiedUid=(null===(y=f.currentUser)||void 0===y?void 0:y.uid)||null,!f._deleted&&(f._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,C.Z)(function*(){if(l._deleted)return;const u=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||u){if(l.currentUser&&u&&l.currentUser.uid===u.uid)return l._currentUser._assign(u),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(u,!0)}})()}initializeCurrentUser(l){var u=this;return(0,C.Z)(function*(){var f;const m=yield u.assertedPersistence.getCurrentUser();let y=m,S=!1;if(l&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const O=null===(f=u.redirectUser)||void 0===f?void 0:f._redirectEventId,W=y?._redirectEventId,ce=yield u.tryRedirectSignIn(l);(!O||O===W)&&ce?.user&&(y=ce.user,S=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(S)try{yield u.beforeStateQueue.runMiddleware(y)}catch(O){y=m,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(O))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return K(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var u=this;return(0,C.Z)(function*(){let f=null;try{f=yield u._popupRedirectResolver._completeRedirectFn(u,l,!0)}catch{yield u._setRedirectUser(null)}return f})()}reloadAndSetCurrentUserOrClear(l){var u=this;return(0,C.Z)(function*(){try{yield Xn(l)}catch(f){if("auth/network-request-failed"!==f?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function fs(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var l=this;return(0,C.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var u=this;return(0,C.Z)(function*(){const f=l?(0,z.m9)(l):null;return f&&K(f.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(f&&f._clone(u))})()}_updateCurrentUser(l,u=!1){var f=this;return(0,C.Z)(function*(){if(!f._deleted)return l&&K(f.tenantId===l.tenantId,f,"tenant-id-mismatch"),u||(yield f.beforeStateQueue.runMiddleware(l)),f.queue((0,C.Z)(function*(){yield f.directlySetCurrentUser(l),f.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,C.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var u=this;return this.queue((0,C.Z)(function*(){yield u.assertedPersistence.setPersistence(Ye(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var u=this;return(0,C.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const f=u._getPasswordPolicyInternal();return f.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):f.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,C.Z)(function*(){const u=yield function UD(h){return Tr.apply(this,arguments)}(l),f=new jD(u);null===l.tenantId?l._projectPasswordPolicy=f:l._tenantPasswordPolicies[l.tenantId]=f})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new z.LL("auth","Firebase",l())}onAuthStateChanged(l,u,f){return this.registerStateListener(this.authStateSubscription,l,u,f)}beforeAuthStateChanged(l,u){return this.beforeStateQueue.pushCallback(l,u)}onIdTokenChanged(l,u,f){return this.registerStateListener(this.idTokenSubscription,l,u,f)}authStateReady(){return new Promise((l,u)=>{if(this.currentUser)l();else{const f=this.onAuthStateChanged(()=>{f(),l()},u)}})}revokeAccessToken(l){var u=this;return(0,C.Z)(function*(){if(u.currentUser){const f=yield u.currentUser.getIdToken(),m={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:f};null!=u.tenantId&&(m.tenantId=u.tenantId),yield function D(h,l){return M.apply(this,arguments)}(u,m)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,u){var f=this;return(0,C.Z)(function*(){const m=yield f.getOrInitRedirectPersistenceManager(u);return null===l?m.removeCurrentUser():m.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var u=this;return(0,C.Z)(function*(){if(!u.redirectPersistenceManager){const f=l&&Ye(l)||u._popupRedirectResolver;K(f,u,"argument-error"),u.redirectPersistenceManager=yield Ce.create(u,[Ye(f._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(l){var u=this;return(0,C.Z)(function*(){var f,m;return u._isInitialized&&(yield u.queue((0,C.Z)(function*(){}))),(null===(f=u._currentUser)||void 0===f?void 0:f._redirectEventId)===l?u._currentUser:(null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId)===l?u.redirectUser:null})()}_persistUserIfCurrent(l){var u=this;return(0,C.Z)(function*(){if(l===u.currentUser)return u.queue((0,C.Z)(function*(){return u.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const f=null!==(u=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==f&&(this.lastNotifiedUid=f,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,u,f,m){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let S=!1;const O=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(O,this,"internal-error"),O.then(()=>{S||y(this.currentUser)}),"function"==typeof u){const W=l.addObserver(u,f,m);return()=>{S=!0,W()}}{const W=l.addObserver(u);return()=>{S=!0,W()}}}directlySetCurrentUser(l){var u=this;return(0,C.Z)(function*(){u.currentUser&&u.currentUser!==l&&u._currentUser._stopProactiveRefresh(),l&&u.isProactiveRefreshEnabled&&l._startProactiveRefresh(),u.currentUser=l,l?yield u.assertedPersistence.setCurrentUser(l):yield u.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ja(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,C.Z)(function*(){var u;const f={"X-Client-Version":l.clientVersion};l.app.options.appId&&(f["X-Firebase-gmpid"]=l.app.options.appId);const m=yield null===(u=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();m&&(f["X-Firebase-Client"]=m);const y=yield l._getAppCheckToken();return y&&(f["X-Firebase-AppCheck"]=y),f})()}_getAppCheckToken(){var l=this;return(0,C.Z)(function*(){var u;const f=yield null===(u=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return f?.error&&function Bn(h,...l){Un.logLevel<=at.in.WARN&&Un.warn(`Auth (${Ne.SDK_VERSION}): ${h}`,...l)}(`Error while retrieving App Check token: ${f.error}`),f?.token})()}}function $t(h){return(0,z.m9)(h)}class Np{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,z.ne)(u=>this.observer=u)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wc={loadJS:()=>(0,C.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fp(h){return wc.loadJS(h)}function uv(h){return`__${h}${Math.floor(1e6*Math.random())}`}const ae="NO_RECAPTCHA";class dv{constructor(l){this.type="recaptcha-enterprise",this.auth=$t(l)}verify(l="verify",u=!1){var f=this;return(0,C.Z)(function*(){function y(){return y=(0,C.Z)(function*(O){if(!u){if(null==O.tenantId&&null!=O._agentRecaptchaConfig)return O._agentRecaptchaConfig.siteKey;if(null!=O.tenantId&&void 0!==O._tenantRecaptchaConfigs[O.tenantId])return O._tenantRecaptchaConfigs[O.tenantId].siteKey}return new Promise(function(){var W=(0,C.Z)(function*(ce,ge){nn(O,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const Lt=new Pi(me);return null==O.tenantId?O._agentRecaptchaConfig=Lt:O._tenantRecaptchaConfigs[O.tenantId]=Lt,ce(Lt.siteKey)}ge(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{ge(me)})});return function(ce,ge){return W.apply(this,arguments)}}())}),y.apply(this,arguments)}function S(O,W,ce){const ge=window.grecaptcha;ri(ge)?ge.enterprise.ready(()=>{ge.enterprise.execute(O,{action:l}).then(me=>{W(me)}).catch(()=>{W(ae)})}):ce(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((O,W)=>{(function m(O){return y.apply(this,arguments)})(f.auth).then(ce=>{if(!u&&ri(window.grecaptcha))S(ce,O,W);else{if(typeof window>"u")return void W(new Error("RecaptchaVerifier is only supported in browser"));let ge=function St(){return wc.recaptchaEnterpriseScript}();0!==ge.length&&(ge+=ce),Fp(ge).then(()=>{S(ce,O,W)}).catch(me=>{W(me)})}}).catch(ce=>{W(ce)})})})()}}function ct(h,l,u){return ta.apply(this,arguments)}function ta(){return(ta=(0,C.Z)(function*(h,l,u,f=!1){const m=new dv(h);let y;try{y=yield m.verify(u)}catch{y=yield m.verify(u,!0)}const S=Object.assign({},l);return Object.assign(S,f?{captchaResp:y}:{captchaResponse:y}),Object.assign(S,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(S,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),S})).apply(this,arguments)}function el(h,l,u,f){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,C.Z)(function*(h,l,u,f){var m;if(null!==(m=h._getRecaptchaConfig())&&void 0!==m&&m.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield ct(h,l,u,"getOobCode"===u);return f(h,y)}return f(h,l).catch(function(){var y=(0,C.Z)(function*(S){if("auth/missing-recaptcha-token"===S.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const O=yield ct(h,l,u,"getOobCode"===u);return f(h,O)}return Promise.reject(S)});return function(S){return y.apply(this,arguments)}}())}),Ec.apply(this,arguments)}function Lp(h){const l=h.indexOf(":");return l<0?"":h.substr(0,l+1)}function Ic(h){if(!h)return null;const l=Number(h);return isNaN(l)?null:l}class Hn{constructor(l,u){this.providerId=l,this.signInMethod=u}toJSON(){return Qt("not implemented")}_getIdTokenResponse(l){return Qt("not implemented")}_linkToIdToken(l,u){return Qt("not implemented")}_getReauthenticationResolver(l){return Qt("not implemented")}}function kd(h,l){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:resetPassword",X(h,l))})).apply(this,arguments)}function Up(){return(Up=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function WD(h,l){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function nl(){return(nl=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:update",X(h,l))})).apply(this,arguments)}function Tc(h,l){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithPassword",X(h,l))})).apply(this,arguments)}function Ac(h,l){return Od.apply(this,arguments)}function Od(){return(Od=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:sendOobCode",X(h,l))})).apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(h,l){return Ac(h,l)})).apply(this,arguments)}function na(h,l){return xd.apply(this,arguments)}function xd(){return(xd=(0,C.Z)(function*(h,l){return Ac(h,l)})).apply(this,arguments)}function R(h,l){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,C.Z)(function*(h,l){return Ac(h,l)})).apply(this,arguments)}function ia(){return(ia=(0,C.Z)(function*(h,l){return Ac(h,l)})).apply(this,arguments)}function no(){return(no=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithEmailLink",X(h,l))})).apply(this,arguments)}function Fd(){return(Fd=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithEmailLink",X(h,l))})).apply(this,arguments)}class il extends Hn{constructor(l,u,f,m=null){super("password",f),this._email=l,this._password=u,this._tenantId=m}static _fromEmailAndPassword(l,u){return new il(l,u,"password")}static _fromEmailAndCode(l,u,f=null){return new il(l,u,"emailLink",f)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(l){var u=this;return(0,C.Z)(function*(){switch(u.signInMethod){case"password":return el(l,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Tc);case"emailLink":return function Nd(h,l){return no.apply(this,arguments)}(l,{email:u._email,oobCode:u._password});default:Ct(l,"internal-error")}})()}_linkToIdToken(l,u){var f=this;return(0,C.Z)(function*(){switch(f.signInMethod){case"password":return el(l,{idToken:u,returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WD);case"emailLink":return function pv(h,l){return Fd.apply(this,arguments)}(l,{idToken:u,email:f._email,oobCode:f._password});default:Ct(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function $n(h,l){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithIdp",X(h,l))})).apply(this,arguments)}class Tn extends Hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const u=new Tn(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(u.idToken=l.idToken),l.accessToken&&(u.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(u.nonce=l.nonce),l.pendingToken&&(u.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(u.accessToken=l.oauthToken,u.secret=l.oauthTokenSecret):Ct("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:f,signInMethod:m}=u,y=(0,Ut._T)(u,["providerId","signInMethod"]);if(!f||!m)return null;const S=new Tn(f,m);return S.idToken=y.idToken||void 0,S.accessToken=y.accessToken||void 0,S.secret=y.secret,S.nonce=y.nonce,S.pendingToken=y.pendingToken||null,S}_getIdTokenResponse(l){return $n(l,this.buildRequest())}_linkToIdToken(l,u){const f=this.buildRequest();return f.idToken=u,$n(l,f)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,$n(l,u)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),l.postBody=(0,z.xO)(u)}return l}}function ra(){return(ra=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:sendVerificationCode",X(h,l))})).apply(this,arguments)}function rl(){return(rl=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithPhoneNumber",X(h,l))})).apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(h,l){const u=yield Ee(h,"POST","/v1/accounts:signInWithPhoneNumber",X(h,l));if(u.temporaryProof)throw _n(h,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const sl={USER_NOT_FOUND:"user-not-found"};function Nt(){return(Nt=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithPhoneNumber",X(h,Object.assign(Object.assign({},l),{operation:"REAUTH"})),sl)})).apply(this,arguments)}class ys extends Hn{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,u){return new ys({verificationId:l,verificationCode:u})}static _fromTokenResponse(l,u){return new ys({phoneNumber:l,temporaryProof:u})}_getIdTokenResponse(l){return function Ld(h,l){return rl.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,u){return function Hp(h,l){return ar.apply(this,arguments)}(l,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function gv(h,l){return Nt.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:u,verificationId:f,verificationCode:m}=this.params;return l&&u?{temporaryProof:l,phoneNumber:u}:{sessionInfo:f,code:m}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:y}=l;return f||u||m||y?new ys({verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:y}):null}}class tt{constructor(l){var u,f,m,y,S,O;const W=(0,z.zd)((0,z.pd)(l)),ce=null!==(u=W.apiKey)&&void 0!==u?u:null,ge=null!==(f=W.oobCode)&&void 0!==f?f:null,me=function mv(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(m=W.mode)&&void 0!==m?m:null);K(ce&&ge&&me,"argument-error"),this.apiKey=ce,this.operation=me,this.code=ge,this.continueUrl=null!==(y=W.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(S=W.languageCode)&&void 0!==S?S:null,this.tenantId=null!==(O=W.tenantId)&&void 0!==O?O:null}static parseLink(l){const u=function _v(h){const l=(0,z.zd)((0,z.pd)(h)).link,u=l?(0,z.zd)((0,z.pd)(l)).deep_link_id:null,f=(0,z.zd)((0,z.pd)(h)).deep_link_id;return(f?(0,z.zd)((0,z.pd)(f)).link:null)||f||u||l||h}(l);try{return new tt(u)}catch{return null}}}let Pc=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(u,f){return il._fromEmailAndPassword(u,f)}static credentialWithLink(u,f){const m=tt.parseLink(f);return K(m,"argument-error"),il._fromEmailAndCode(u,m.code,m.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class be{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class an extends be{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ft extends an{static credentialFromJSON(l){const u="string"==typeof l?JSON.parse(l):l;return K("providerId"in u&&"signInMethod"in u,"argument-error"),Tn._fromParams(u)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return K(l.idToken||l.accessToken,"argument-error"),Tn._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ft.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ft.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:u,oauthAccessToken:f,oauthTokenSecret:m,pendingToken:y,nonce:S,providerId:O}=l;if(!f&&!m&&!u&&!y||!O)return null;try{return new ft(O)._credential({idToken:u,accessToken:f,nonce:S,pendingToken:y})}catch{return null}}}let zn=(()=>{class h extends an{constructor(){super("facebook.com")}static credential(u){return Tn._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),oi=(()=>{class h extends an{constructor(){super("google.com"),this.addScope("profile")}static credential(u,f){return Tn._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:f})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:m}=u;if(!f&&!m)return null;try{return h.credential(f,m)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),io=(()=>{class h extends an{constructor(){super("github.com")}static credential(u){return Tn._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class ro extends Hn{constructor(l,u){super(l,l),this.pendingToken=u}_getIdTokenResponse(l){return $n(l,this.buildRequest())}_linkToIdToken(l,u){const f=this.buildRequest();return f.idToken=u,$n(l,f)}_getReauthenticationResolver(l){const u=this.buildRequest();return u.autoCreate=!1,$n(l,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const u="string"==typeof l?JSON.parse(l):l,{providerId:f,signInMethod:m,pendingToken:y}=u;return f&&m&&y&&f===m?new ro(f,y):null}static _create(l,u){return new ro(l,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class so extends be{constructor(l){K(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return so.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return so.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const u=ro.fromJSON(l);return K(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:u,providerId:f}=l;if(!u||!f)return null;try{return ro._create(f,u)}catch{return null}}}let Ar=(()=>{class h extends an{constructor(){super("twitter.com")}static credential(u,f){return Tn._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:f})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:f,oauthTokenSecret:m}=u;if(!f||!m)return null;try{return h.credential(f,m)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function ye(h,l){return Be.apply(this,arguments)}function Be(){return(Be=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signUp",X(h,l))})).apply(this,arguments)}class mt{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,u,f,m=!1){return(0,C.Z)(function*(){const y=yield fe._fromIdTokenResponse(l,f,m),S=Qi(f);return new mt({user:y,providerId:S,_tokenResponse:f,operationType:u})})()}static _forOperation(l,u,f){return(0,C.Z)(function*(){yield l._updateTokensIfNecessary(f,!0);const m=Qi(f);return new mt({user:l,providerId:m,_tokenResponse:f,operationType:u})})()}}function Qi(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function An(){return(An=(0,C.Z)(function*(h){var l;const u=$t(h);if(yield u._initializationPromise,null!==(l=u.currentUser)&&void 0!==l&&l.isAnonymous)return new mt({user:u.currentUser,providerId:null,operationType:"signIn"});const f=yield ye(u,{returnSecureToken:!0}),m=yield mt._fromIdTokenResponse(u,"signIn",f,!0);return yield u._updateCurrentUser(m.user),m})).apply(this,arguments)}class Zr extends z.ZR{constructor(l,u,f,m){var y;super(u.code,u.message),this.operationType=f,this.user=m,Object.setPrototypeOf(this,Zr.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:f}}static _fromErrorAndOperation(l,u,f,m){return new Zr(l,u,f,m)}}function rn(h,l,u,f){return("reauthenticate"===l?u._getReauthenticationResolver(h):u._getIdTokenResponse(h)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?Zr._fromErrorAndOperation(h,y,l,f):y})}function ol(h){return new Set(h.map(({providerId:l})=>l).filter(l=>!!l))}function He(){return He=(0,C.Z)(function*(h,l){const u=(0,z.m9)(h);yield ll(!0,u,l);const{providerUserInfo:f}=yield function Qa(h,l){return si.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[l]}),m=ol(f||[]);return u.providerData=u.providerData.filter(y=>m.has(y.providerId)),m.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),He.apply(this,arguments)}function al(h,l){return ao.apply(this,arguments)}function ao(){return(ao=(0,C.Z)(function*(h,l,u=!1){const f=yield gi(h,l._linkToIdToken(h.auth,yield h.getIdToken()),u);return mt._forOperation(h,"link",f)})).apply(this,arguments)}function ll(h,l,u){return vs.apply(this,arguments)}function vs(){return(vs=(0,C.Z)(function*(h,l,u){yield Xn(l);const m=!1===h?"provider-already-linked":"no-such-provider";K(ol(l.providerData).has(u)===h,l.auth,m)})).apply(this,arguments)}function Wn(h,l){return lo.apply(this,arguments)}function lo(){return(lo=(0,C.Z)(function*(h,l,u=!1){const{auth:f}=h,m="reauthenticate";try{const y=yield gi(h,rn(f,m,l,h),u);K(y.idToken,f,"internal-error");const S=Qo(y.idToken);K(S,f,"internal-error");const{sub:O}=S;return K(h.uid===O,f,"user-mismatch"),mt._forOperation(h,m,y)}catch(y){throw"auth/user-not-found"===y?.code&&Ct(f,"user-mismatch"),y}})).apply(this,arguments)}function co(h,l){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(h,l,u=!1){const f="signIn",m=yield rn(h,f,l),y=yield mt._fromIdTokenResponse(h,f,m);return u||(yield h._updateCurrentUser(y.user)),y})).apply(this,arguments)}function bs(h,l){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,C.Z)(function*(h,l){return co($t(h),l)})).apply(this,arguments)}function Pt(h,l){return zp.apply(this,arguments)}function zp(){return(zp=(0,C.Z)(function*(h,l){const u=(0,z.m9)(h);return yield ll(!1,u,l.providerId),al(u,l)})).apply(this,arguments)}function Oc(h,l){return xc.apply(this,arguments)}function xc(){return(xc=(0,C.Z)(function*(h,l){return Wn((0,z.m9)(h),l)})).apply(this,arguments)}function sa(){return(sa=(0,C.Z)(function*(h,l){return Ee(h,"POST","/v1/accounts:signInWithCustomToken",X(h,l))})).apply(this,arguments)}function Gn(){return Gn=(0,C.Z)(function*(h,l){const u=$t(h),f=yield function Nc(h,l){return sa.apply(this,arguments)}(u,{token:l,returnSecureToken:!0}),m=yield mt._fromIdTokenResponse(u,"signIn",f);return yield u._updateCurrentUser(m.user),m}),Gn.apply(this,arguments)}class Fc{constructor(l,u){this.factorId=l,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(l,u){return"phoneInfo"in u?ai._fromServerResponse(l,u):"totpInfo"in u?Oi._fromServerResponse(l,u):Ct(l,"internal-error")}}class ai extends Fc{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,u){return new ai(u)}}class Oi extends Fc{constructor(l){super("totp",l)}static _fromServerResponse(l,u){return new Oi(u)}}function aa(h,l,u){var f;K((null===(f=u.url)||void 0===f?void 0:f.length)>0,h,"invalid-continue-uri"),K(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),l.continueUrl=u.url,l.dynamicLinkDomain=u.dynamicLinkDomain,l.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(K(u.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),l.iOSBundleId=u.iOS.bundleId),u.android&&(K(u.android.packageName.length>0,h,"missing-android-pkg-name"),l.androidInstallApp=u.android.installApp,l.androidMinimumVersionCode=u.android.minimumVersion,l.androidPackageName=u.android.packageName)}function uo(h){return la.apply(this,arguments)}function la(){return(la=(0,C.Z)(function*(h){const l=$t(h);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function Vd(){return(Vd=(0,C.Z)(function*(h,l,u){const f=$t(h),m={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};u&&aa(f,m,u),yield el(f,m,"getOobCode",na)})).apply(this,arguments)}function Ud(){return Ud=(0,C.Z)(function*(h,l,u){yield kd((0,z.m9)(h),{oobCode:l,newPassword:u}).catch(function(){var f=(0,C.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&uo(h),m});return function(m){return f.apply(this,arguments)}}())}),Ud.apply(this,arguments)}function Wp(){return Wp=(0,C.Z)(function*(h,l){yield function tl(h,l){return nl.apply(this,arguments)}((0,z.m9)(h),{oobCode:l})}),Wp.apply(this,arguments)}function vv(h,l){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,C.Z)(function*(h,l){const u=(0,z.m9)(h),f=yield kd(u,{oobCode:l}),m=f.requestType;switch(K(m,u,"internal-error"),m){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(f.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(f.mfaInfo,u,"internal-error");default:K(f.email,u,"internal-error")}let y=null;return f.mfaInfo&&(y=Fc._fromServerResponse($t(u),f.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.newEmail:f.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.email:f.newEmail)||null,multiFactorInfo:y},operation:m}})).apply(this,arguments)}function qp(){return(qp=(0,C.Z)(function*(h,l){const{data:u}=yield vv((0,z.m9)(h),l);return u.email})).apply(this,arguments)}function Kp(){return(Kp=(0,C.Z)(function*(h,l,u){const f=$t(h),S=yield el(f,{returnSecureToken:!0,email:l,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ye).catch(W=>{throw"auth/password-does-not-meet-requirements"===W.code&&uo(h),W}),O=yield mt._fromIdTokenResponse(f,"signIn",S);return yield f._updateCurrentUser(O.user),O})).apply(this,arguments)}function Zp(){return(Zp=(0,C.Z)(function*(h,l,u){const f=$t(h),m={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(S,O){K(O.handleCodeInApp,f,"argument-error"),O&&aa(f,S,O)})(m,u),yield el(f,m,"getOobCode",R)})).apply(this,arguments)}function Lc(){return(Lc=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h),m=Pc.credentialWithLink(l,u||hn());return K(m._tenantId===(f.tenantId||null),f,"tenant-id-mismatch"),bs(f,m)})).apply(this,arguments)}function Qp(){return(Qp=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:createAuthUri",X(h,l))})).apply(this,arguments)}function Xp(){return Xp=(0,C.Z)(function*(h,l){const f={identifier:l,continueUri:Dr()?hn():"http://localhost"},{signinMethods:m}=yield function Yp(h,l){return Qp.apply(this,arguments)}((0,z.m9)(h),f);return m||[]}),Xp.apply(this,arguments)}function Bd(){return Bd=(0,C.Z)(function*(h,l){const u=(0,z.m9)(h),m={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};l&&aa(u.auth,m,l);const{email:y}=yield function jp(h,l){return to.apply(this,arguments)}(u.auth,m);y!==h.email&&(yield h.reload())}),Bd.apply(this,arguments)}function Vc(){return Vc=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:l};u&&aa(f.auth,y,u);const{email:S}=yield function Qe(h,l){return ia.apply(this,arguments)}(f.auth,y);S!==h.email&&(yield h.reload())}),Vc.apply(this,arguments)}function jd(){return(jd=(0,C.Z)(function*(h,l){return j(h,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Uc(){return Uc=(0,C.Z)(function*(h,{displayName:l,photoURL:u}){if(void 0===l&&void 0===u)return;const f=(0,z.m9)(h),y={idToken:yield f.getIdToken(),displayName:l,photoUrl:u,returnSecureToken:!0},S=yield gi(f,function bv(h,l){return jd.apply(this,arguments)}(f.auth,y));f.displayName=S.displayName||null,f.photoURL=S.photoUrl||null;const O=f.providerData.find(({providerId:W})=>"password"===W);O&&(O.displayName=f.displayName,O.photoURL=f.photoURL),yield f._updateTokensIfNecessary(S)}),Uc.apply(this,arguments)}function eg(h,l,u){return yi.apply(this,arguments)}function yi(){return yi=(0,C.Z)(function*(h,l,u){const{auth:f}=h,y={idToken:yield h.getIdToken(),returnSecureToken:!0};l&&(y.email=l),u&&(y.password=u);const S=yield gi(h,function xt(h,l){return Up.apply(this,arguments)}(f,y));yield h._updateTokensIfNecessary(S,!0)}),yi.apply(this,arguments)}class fo{constructor(l,u,f={}){this.isNewUser=l,this.providerId=u,this.profile=f}}class Mn extends fo{constructor(l,u,f,m){super(l,u,f),this.username=m}}class wv extends fo{constructor(l,u){super(l,"facebook.com",u)}}class Bc extends Mn{constructor(l,u){super(l,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class xi extends fo{constructor(l,u){super(l,"google.com",u)}}class Ev extends Mn{constructor(l,u,f){super(l,"twitter.com",u,f)}}function ng(h){const{user:l,_tokenResponse:u}=h;return l.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function tg(h){var l,u;if(!h)return null;const{providerId:f}=h,m=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},y=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!f&&h?.idToken){const S=null===(u=null===(l=Qo(h.idToken))||void 0===l?void 0:l.firebase)||void 0===u?void 0:u.sign_in_provider;if(S)return new fo(y,"anonymous"!==S&&"custom"!==S?S:null)}if(!f)return null;switch(f){case"facebook.com":return new wv(y,m);case"github.com":return new Bc(y,m);case"google.com":return new xi(y,m);case"twitter.com":return new Ev(y,m,h.screenName||null);case"custom":case"anonymous":return new fo(y,null);default:return new fo(y,f,m)}}(u)}class po{constructor(l,u,f){this.type=l,this.credential=u,this.user=f}static _fromIdtoken(l,u){return new po("enroll",l,u)}static _fromMfaPendingCredential(l){return new po("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var u,f;if(l?.multiFactorSession){if(null!==(u=l.multiFactorSession)&&void 0!==u&&u.pendingCredential)return po._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.idToken)return po._fromIdtoken(l.multiFactorSession.idToken)}return null}}class jc{constructor(l,u,f){this.session=l,this.hints=u,this.signInResolver=f}static _fromError(l,u){const f=$t(l),m=u.customData._serverResponse,y=(m.mfaInfo||[]).map(O=>Fc._fromServerResponse(f,O));K(m.mfaPendingCredential,f,"internal-error");const S=po._fromMfaPendingCredential(m.mfaPendingCredential);return new jc(S,y,function(){var O=(0,C.Z)(function*(W){const ce=yield W._process(f,S);delete m.mfaInfo,delete m.mfaPendingCredential;const ge=Object.assign(Object.assign({},m),{idToken:ce.idToken,refreshToken:ce.refreshToken});switch(u.operationType){case"signIn":const me=yield mt._fromIdTokenResponse(f,u.operationType,ge);return yield f._updateCurrentUser(me.user),me;case"reauthenticate":return K(u.user,f,"internal-error"),mt._forOperation(u.user,u.operationType,ge);default:Ct(f,"internal-error")}});return function(W){return O.apply(this,arguments)}}())}resolveSignIn(l){var u=this;return(0,C.Z)(function*(){return u.signInResolver(l)})()}}class bn{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(f=>Fc._fromServerResponse(l.auth,f)))})}static _fromUser(l){return new bn(l)}getSession(){var l=this;return(0,C.Z)(function*(){return po._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,u){var f=this;return(0,C.Z)(function*(){const m=l,y=yield f.getSession(),S=yield gi(f.user,m._process(f.user.auth,y,u));return yield f.user._updateTokensIfNecessary(S),f.user.reload()})()}unenroll(l){var u=this;return(0,C.Z)(function*(){const f="string"==typeof l?l:l.uid,m=yield u.user.getIdToken();try{const y=yield gi(u.user,function en(h,l){return j(h,"POST","/v2/accounts/mfaEnrollment:withdraw",X(h,l))}(u.user.auth,{idToken:m,mfaEnrollmentId:f}));u.enrolledFactors=u.enrolledFactors.filter(({uid:S})=>S!==f),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Hc=new WeakMap,Fi="__sak";class $c{constructor(l,u){this.storageRetriever=l,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(Fi,"1"),this.storage.removeItem(Fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,u){return this.storage.setItem(l,JSON.stringify(u)),Promise.resolve()}_get(l){const u=this.storage.getItem(l);return Promise.resolve(u?JSON.parse(u):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pn=(()=>{class h extends $c{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,f)=>this.onStorageEvent(u,f),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zd(){const h=(0,z.z$)();return Ir(h)||de(h)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ot(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const f of Object.keys(this.listeners)){const m=this.storage.getItem(f),y=this.localCache[f];m!==y&&u(f,y,m)}}onStorageEvent(u,f=!1){if(!u.key)return void this.forAllChangedKeys((O,W,ce)=>{this.notifyListeners(O,ce)});const m=u.key;if(f?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const O=this.storage.getItem(m);if(u.newValue!==O)null!==u.newValue?this.storage.setItem(m,u.newValue):this.storage.removeItem(m);else if(this.localCache[m]===u.newValue&&!f)return}const y=()=>{const O=this.storage.getItem(m);!f&&this.localCache[m]===O||this.notifyListeners(m,O)},S=this.storage.getItem(m);!function vn(){return(0,z.w1)()&&10===document.documentMode}()||S===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const y of Array.from(m))y(f&&JSON.parse(f))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,f,m)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:f,newValue:m}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,f){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,f){var m=()=>super._set,y=this;return(0,C.Z)(function*(){yield m().call(y,u,f),y.localCache[u]=JSON.stringify(f)})()}_get(u){var f=()=>super._get,m=this;return(0,C.Z)(function*(){const y=yield f().call(m,u);return m.localCache[u]=JSON.stringify(y),y})()}_remove(u){var f=()=>super._remove,m=this;return(0,C.Z)(function*(){yield f().call(m,u),delete m.localCache[u]})()}}return h.type="LOCAL",h})(),Yr=(()=>{class h extends $c{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,f){}_removeListener(u,f){}}return h.type="SESSION",h})();let Qr=(()=>{class h{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const f=this.receivers.find(y=>y.isListeningto(u));if(f)return f;const m=new h(u);return this.receivers.push(m),m}isListeningto(u){return this.eventTarget===u}handleEvent(u){var f=this;return(0,C.Z)(function*(){const m=u,{eventId:y,eventType:S,data:O}=m.data,W=f.handlersMap[S];if(!W?.size)return;m.ports[0].postMessage({status:"ack",eventId:y,eventType:S});const ce=Array.from(W).map(function(){var me=(0,C.Z)(function*(Lt){return Lt(m.origin,O)});return function(Lt){return me.apply(this,arguments)}}()),ge=yield function ua(h){return Promise.all(h.map(function(){var l=(0,C.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(f){return{fulfilled:!1,reason:f}}});return function(u){return l.apply(this,arguments)}}()))}(ce);m.ports[0].postMessage({status:"done",eventId:y,eventType:S,response:ge})})()}_subscribe(u,f){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(f)}_unsubscribe(u,f){this.handlersMap[u]&&f&&this.handlersMap[u].delete(f),(!f||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function dl(h="",l=10){let u="";for(let f=0;f<l;f++)u+=Math.floor(10*Math.random());return h+u}class rg{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,u,f=50){var m=this;return(0,C.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let S,O;return new Promise((W,ce)=>{const ge=dl("",20);y.port1.start();const me=setTimeout(()=>{ce(new Error("unsupported_event"))},f);O={messageChannel:y,onMessage(Lt){const li=Lt;if(li.data.eventId===ge)switch(li.data.status){case"ack":clearTimeout(me),S=setTimeout(()=>{ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(S),W(li.data.response);break;default:clearTimeout(me),clearTimeout(S),ce(new Error("invalid_response"))}}},m.handlers.add(O),y.port1.addEventListener("message",O.onMessage),m.target.postMessage({eventType:l,eventId:ge,data:u},[y.port2])}).finally(()=>{O&&m.removeMessageHandler(O)})})()}}function fn(){return window}function hl(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function zc(){return(zc=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qd="firebaseLocalStorageDb",Kd=1,fl="firebaseLocalStorage",Zd="fbase_key";class da{constructor(l){this.request=l}toPromise(){return new Promise((l,u)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function pl(h,l){return h.transaction([fl],l?"readwrite":"readonly").objectStore(fl)}function Qd(){const h=indexedDB.open(qd,Kd);return new Promise((l,u)=>{h.addEventListener("error",()=>{u(h.error)}),h.addEventListener("upgradeneeded",()=>{const f=h.result;try{f.createObjectStore(fl,{keyPath:Zd})}catch(m){u(m)}}),h.addEventListener("success",(0,C.Z)(function*(){const f=h.result;f.objectStoreNames.contains(fl)?l(f):(f.close(),yield function Yd(){const h=indexedDB.deleteDatabase(qd);return new da(h).toPromise()}(),l(yield Qd()))}))})}function sg(h,l,u){return qn.apply(this,arguments)}function qn(){return(qn=(0,C.Z)(function*(h,l,u){const f=pl(h,!0).put({[Zd]:l,value:u});return new da(f).toPromise()})).apply(this,arguments)}function Ft(){return(Ft=(0,C.Z)(function*(h,l){const u=pl(h,!1).get(l),f=yield new da(u).toPromise();return void 0===f?null:f.value})).apply(this,arguments)}function gl(h,l){const u=pl(h,!0).delete(l);return new da(u).toPromise()}const ha=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,C.Z)(function*(){return u.db||(u.db=yield Qd()),u.db})()}_withRetries(u){var f=this;return(0,C.Z)(function*(){let m=0;for(;;)try{const y=yield f._openDb();return yield u(y)}catch(y){if(m++>3)throw y;f.db&&(f.db.close(),f.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,C.Z)(function*(){return hl()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,C.Z)(function*(){u.receiver=Qr._getInstance(function Rv(){return hl()?self:null}()),u.receiver._subscribe("keyChanged",function(){var f=(0,C.Z)(function*(m,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(m,y){return f.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var f=(0,C.Z)(function*(m,y){return["keyChanged"]});return function(m,y){return f.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,C.Z)(function*(){var f,m;if(u.activeServiceWorker=yield function Wd(){return zc.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new rg(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(f=y[0])&&void 0!==f&&f.fulfilled&&null!==(m=y[0])&&void 0!==m&&m.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var f=this;return(0,C.Z)(function*(){if(f.sender&&f.activeServiceWorker&&function Gd(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===f.activeServiceWorker)try{yield f.sender._send("keyChanged",{key:u},f.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const u=yield Qd();return yield sg(u,Fi,"1"),yield gl(u,Fi),!0}catch{}return!1})()}_withPendingWrite(u){var f=this;return(0,C.Z)(function*(){f.pendingWrites++;try{yield u()}finally{f.pendingWrites--}})()}_set(u,f){var m=this;return(0,C.Z)(function*(){return m._withPendingWrite((0,C.Z)(function*(){return yield m._withRetries(y=>sg(y,u,f)),m.localCache[u]=f,m.notifyServiceWorker(u)}))})()}_get(u){var f=this;return(0,C.Z)(function*(){const m=yield f._withRetries(y=>function go(h,l){return Ft.apply(this,arguments)}(y,u));return f.localCache[u]=m,m})()}_remove(u){var f=this;return(0,C.Z)(function*(){return f._withPendingWrite((0,C.Z)(function*(){return yield f._withRetries(m=>gl(m,u)),delete f.localCache[u],f.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,C.Z)(function*(){const f=yield u._withRetries(S=>{const O=pl(S,!1).getAll();return new da(O).toPromise()});if(!f)return[];if(0!==u.pendingWrites)return[];const m=[],y=new Set;if(0!==f.length)for(const{fbase_key:S,value:O}of f)y.add(S),JSON.stringify(u.localCache[S])!==JSON.stringify(O)&&(u.notifyListeners(S,O),m.push(S));for(const S of Object.keys(u.localCache))u.localCache[S]&&!y.has(S)&&(u.notifyListeners(S,null),m.push(S));return m})()}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const y of Array.from(m))y(f)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,f){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),ml=1e12;class Nv{constructor(l){this.auth=l,this.counter=ml,this._widgets=new Map}render(l,u){const f=this.counter;return this._widgets.set(f,new fa(l,this.auth.name,u||{})),this.counter++,f}reset(l){var u;const f=l||ml;null===(u=this._widgets.get(f))||void 0===u||u.delete(),this._widgets.delete(f)}getResponse(l){var u;return(null===(u=this._widgets.get(l||ml))||void 0===u?void 0:u.getResponse())||""}execute(l){var u=this;return(0,C.Z)(function*(){var f;return null===(f=u._widgets.get(l||ml))||void 0===f||f.execute(),""})()}}class fa{constructor(l,u,f){this.params=f,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const m="string"==typeof l?document.getElementById(l):l;K(m,"argument-error",{appName:u}),this.container=m,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _l(h){const l=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<h;f++)l.push(u.charAt(Math.floor(Math.random()*u.length)));return l.join("")}(50);const{callback:l,"expired-callback":u}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jd=uv("rcb"),sS=new Wr(3e4,6e4);class eh{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=fn().grecaptcha)||void 0===l||!l.render)}load(l,u=""){return K(function oS(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(u),l,"argument-error"),this.shouldResolveImmediately(u)&&ii(fn().grecaptcha)?Promise.resolve(fn().grecaptcha):new Promise((f,m)=>{const y=fn().setTimeout(()=>{m(Mt(l,"network-request-failed"))},sS.get());fn()[Jd]=()=>{fn().clearTimeout(y),delete fn()[Jd];const O=fn().grecaptcha;if(!O||!ii(O))return void m(Mt(l,"internal-error"));const W=O.render;O.render=(ce,ge)=>{const me=W(ce,ge);return this.counter++,me},this.hostLanguage=u,f(O)},Fp(`${function Zi(){return wc.recaptchaV2Script}()}?${(0,z.xO)({onload:Jd,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),m(Mt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var u;return!(null===(u=fn().grecaptcha)||void 0===u||!u.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fv{load(l){return(0,C.Z)(function*(){return new Nv(l)})()}clearedOneInstance(){}}const og="recaptcha",aS={theme:"light",type:"image"};class lS{constructor(l,u,f=Object.assign({},aS)){this.parameters=f,this.type=og,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(l),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const m="string"==typeof u?document.getElementById(u):u;K(m,this.auth,"argument-error"),this.container=m,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fv:new eh,this.validateStartingState()}verify(){var l=this;return(0,C.Z)(function*(){l.assertNotDestroyed();const u=yield l.render(),f=l.getAssertedRecaptcha();return f.getResponse(u)||new Promise(y=>{const S=O=>{O&&(l.tokenChangeListeners.delete(S),y(O))};l.tokenChangeListeners.add(S),l.isInvisible&&f.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return u=>{if(this.tokenChangeListeners.forEach(f=>f(u)),"function"==typeof l)l(u);else if("string"==typeof l){const f=fn()[l];"function"==typeof f&&f(u)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,C.Z)(function*(){if(yield l.init(),!l.widgetId){let u=l.container;if(!l.isInvisible){const f=document.createElement("div");u.appendChild(f),u=f}l.widgetId=l.getAssertedRecaptcha().render(u,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,C.Z)(function*(){K(Dr()&&!hl(),l.auth,"internal-error"),yield function th(){let h=null;return new Promise(l=>{"complete"!==document.readyState?(h=()=>l(),window.addEventListener("load",h)):l()}).catch(l=>{throw h&&window.removeEventListener("load",h),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const u=yield function Zo(h){return Gr.apply(this,arguments)}(l.auth);K(u,l.auth,"internal-error"),l.parameters.sitekey=u})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zc{constructor(l,u){this.verificationId=l,this.onConfirmation=u}confirm(l){const u=ys._fromVerification(this.verificationId,l);return this.onConfirmation(u)}}function mo(){return(mo=(0,C.Z)(function*(h,l,u){const f=$t(h),m=yield _o(f,l,(0,z.m9)(u));return new Zc(m,y=>bs(f,y))})).apply(this,arguments)}function Yc(){return(Yc=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h);yield ll(!1,f,"phone");const m=yield _o(f.auth,l,(0,z.m9)(u));return new Zc(m,y=>Pt(f,y))})).apply(this,arguments)}function nh(){return(nh=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h),m=yield _o(f.auth,l,(0,z.m9)(u));return new Zc(m,y=>Oc(f,y))})).apply(this,arguments)}function _o(h,l,u){return yl.apply(this,arguments)}function yl(){return yl=(0,C.Z)(function*(h,l,u){var f;const m=yield u.verify();try{let y;if(K("string"==typeof m,h,"argument-error"),K(u.type===og,h,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const S=y.session;if("phoneNumber"in y)return K("enroll"===S.type,h,"internal-error"),(yield function Av(h,l){return j(h,"POST","/v2/accounts/mfaEnrollment:start",X(h,l))}(h,{idToken:S.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:m}})).phoneSessionInfo.sessionInfo;{K("signin"===S.type,h,"internal-error");const O=(null===(f=y.multiFactorHint)||void 0===f?void 0:f.uid)||y.multiFactorUid;return K(O,h,"missing-multi-factor-info"),(yield function xv(h,l){return j(h,"POST","/v2/accounts/mfaSignIn:start",X(h,l))}(h,{mfaPendingCredential:S.credential,mfaEnrollmentId:O,phoneSignInInfo:{recaptchaToken:m}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:S}=yield function Et(h,l){return ra.apply(this,arguments)}(h,{phoneNumber:y.phoneNumber,recaptchaToken:m});return S}}finally{u._reset()}}),yl.apply(this,arguments)}function cg(){return(cg=(0,C.Z)(function*(h,l){yield al((0,z.m9)(h),l)})).apply(this,arguments)}let pa=(()=>{class h{constructor(u){this.providerId=h.PROVIDER_ID,this.auth=$t(u)}verifyPhoneNumber(u,f){return _o(this.auth,u,(0,z.m9)(f))}static credential(u,f){return ys._fromVerification(u,f)}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:f,temporaryProof:m}=u;return f&&m?ys._fromTokenResponse(f,m):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Es(h,l){return l?Ye(l):(K(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class ih extends Hn{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return $n(l,this._buildIdpRequest())}_linkToIdToken(l,u){return $n(l,this._buildIdpRequest(u))}_getReauthenticationResolver(l){return $n(l,this._buildIdpRequest())}_buildIdpRequest(l){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(u.idToken=l),u}}function Mr(h){return co(h.auth,new ih(h),h.bypassAuthState)}function Lv(h){const{auth:l,user:u}=h;return K(u,l,"internal-error"),Wn(u,new ih(h),h.bypassAuthState)}function Jc(h){return vl.apply(this,arguments)}function vl(){return(vl=(0,C.Z)(function*(h){const{auth:l,user:u}=h;return K(u,l,"internal-error"),al(u,new ih(h),h.bypassAuthState)})).apply(this,arguments)}class rh{constructor(l,u,f,m,y=!1){this.auth=l,this.resolver=f,this.user=m,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var l=this;return new Promise(function(){var u=(0,C.Z)(function*(f,m){l.pendingPromise={resolve:f,reject:m};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(f,m){return u.apply(this,arguments)}}())}onAuthEvent(l){var u=this;return(0,C.Z)(function*(){const{urlResponse:f,sessionId:m,postBody:y,tenantId:S,error:O,type:W}=l;if(O)return void u.reject(O);const ce={auth:u.auth,requestUri:f,sessionId:m,tenantId:S||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(W)(ce))}catch(ge){u.reject(ge)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Mr;case"linkViaPopup":case"linkViaRedirect":return Jc;case"reauthViaPopup":case"reauthViaRedirect":return Lv;default:Ct(this.auth,"internal-error")}}resolve(l){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sh=new Wr(2e3,1e4);function ah(){return(ah=(0,C.Z)(function*(h,l,u){const f=$t(h);Ze(h,l,be);const m=Es(f,u);return new lh(f,"signInViaPopup",l,m).executeNotNull()})).apply(this,arguments)}function eu(){return(eu=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h);Ze(f.auth,l,be);const m=Es(f.auth,u);return new lh(f.auth,"reauthViaPopup",l,m,f).executeNotNull()})).apply(this,arguments)}function tu(){return(tu=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h);Ze(f.auth,l,be);const m=Es(f.auth,u);return new lh(f.auth,"linkViaPopup",l,m,f).executeNotNull()})).apply(this,arguments)}let lh=(()=>{class h extends rh{constructor(u,f,m,y,S){super(u,f,y,S),this.provider=m,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var u=this;return(0,C.Z)(function*(){const f=yield u.execute();return K(f,u.auth,"internal-error"),f})()}onExecution(){var u=this;return(0,C.Z)(function*(){jt(1===u.filter.length,"Popup operations only handle one event");const f=dl();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],f),u.authWindow.associatedEvent=f,u.resolver._originValidation(u.auth).catch(m=>{u.reject(m)}),u.resolver._isIframeWebStorageSupported(u.auth,m=>{m||u.reject(Mt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const u=()=>{var f,m;this.pollId=null!==(m=null===(f=this.authWindow)||void 0===f?void 0:f.window)&&void 0!==m&&m.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Mt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,sh.get())};u()}}return h.currentPopupAction=null,h})();const nu="pendingRedirect",cr=new Map;class Vv extends rh{constructor(l,u,f=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,f),this.eventId=null}execute(){var l=()=>super.execute,u=this;return(0,C.Z)(function*(){let f=cr.get(u.auth._key());if(!f){try{const y=(yield function hg(h,l){return iu.apply(this,arguments)}(u.resolver,u.auth))?yield l().call(u):null;f=()=>Promise.resolve(y)}catch(m){f=()=>Promise.reject(m)}cr.set(u.auth._key(),f)}return u.bypassAuthState||cr.set(u.auth._key(),()=>Promise.resolve(null)),f()})()}onAuthEvent(l){var u=()=>super.onAuthEvent,f=this;return(0,C.Z)(function*(){if("signInViaRedirect"===l.type)return u().call(f,l);if("unknown"!==l.type){if(l.eventId){const m=yield f.auth._redirectUserForId(l.eventId);if(m)return f.user=m,u().call(f,l);f.resolve(null)}}else f.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function iu(){return(iu=(0,C.Z)(function*(h,l){const u=uh(l),f=fg(h);if(!(yield f._isAvailable()))return!1;const m="true"===(yield f._get(u));return yield f._remove(u),m})).apply(this,arguments)}function Ds(h,l){return ch.apply(this,arguments)}function ch(){return(ch=(0,C.Z)(function*(h,l){return fg(h)._set(uh(l),"true")})).apply(this,arguments)}function bl(h,l){cr.set(h._key(),l)}function fg(h){return Ye(h._redirectPersistence)}function uh(h){return In(nu,h.config.apiKey,h.name)}function ru(h,l,u){return function ga(h,l,u){return Ss.apply(this,arguments)}(h,l,u)}function Ss(){return(Ss=(0,C.Z)(function*(h,l,u){const f=$t(h);Ze(h,l,be),yield f._initializationPromise;const m=Es(f,u);return yield Ds(m,f),m._openRedirect(f,l,"signInViaRedirect")})).apply(this,arguments)}function ma(h,l,u){return function pg(h,l,u){return Cl.apply(this,arguments)}(h,l,u)}function Cl(){return(Cl=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h);Ze(f.auth,l,be),yield f.auth._initializationPromise;const m=Es(f.auth,u);yield Ds(m,f.auth);const y=yield Uv(f);return m._openRedirect(f.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function _a(h,l,u){return function cS(h,l,u){return dh.apply(this,arguments)}(h,l,u)}function dh(){return(dh=(0,C.Z)(function*(h,l,u){const f=(0,z.m9)(h);Ze(f.auth,l,be),yield f.auth._initializationPromise;const m=Es(f.auth,u);yield ll(!1,f,l.providerId),yield Ds(m,f.auth);const y=yield Uv(f);return m._openRedirect(f.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function gg(){return(gg=(0,C.Z)(function*(h,l){return yield $t(h)._initializationPromise,hh(h,l,!1)})).apply(this,arguments)}function hh(h,l){return mg.apply(this,arguments)}function mg(){return(mg=(0,C.Z)(function*(h,l,u=!1){const f=$t(h),m=Es(f,l),S=yield new Vv(f,m,u).execute();return S&&!u&&(delete S.user._redirectEventId,yield f._persistUserIfCurrent(S.user),yield f._setRedirectUser(null,l)),S})).apply(this,arguments)}function Uv(h){return _g.apply(this,arguments)}function _g(){return(_g=(0,C.Z)(function*(h){const l=dl(`${h.uid}:::`);return h._redirectEventId=l,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),l})).apply(this,arguments)}class Bv{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let u=!1;return this.consumers.forEach(f=>{this.isEventForConsumer(l,f)&&(u=!0,this.sendToConsumer(l,f),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function dS(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jv(h);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=l,u=!0)),u}sendToConsumer(l,u){var f;if(l.error&&!jv(l)){const m=(null===(f=l.error.code)||void 0===f?void 0:f.split("auth/")[1])||"internal-error";u.onError(Mt(this.auth,m))}else u.onAuthEvent(l)}isEventForConsumer(l,u){const f=null===u.eventId||!!l.eventId&&l.eventId===u.eventId;return u.filter.includes(l.type)&&f}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(l))}saveEventToCache(l){this.cachedEventUids.add(ya(l)),this.lastProcessedEventTime=Date.now()}}function ya(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(l=>l).join("-")}function jv({type:h,error:l}){return"unknown"===h&&"auth/no-auth-event"===l?.code}function pn(h){return wl.apply(this,arguments)}function wl(){return(wl=(0,C.Z)(function*(h,l={}){return j(h,"GET","/v1/projects",l)})).apply(this,arguments)}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hv=/^https?/;function Xr(){return(Xr=(0,C.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:l}=yield pn(h);for(const u of l)try{if(yg(u))return}catch{}Ct(h,"unauthorized-domain")})).apply(this,arguments)}function yg(h){const l=hn(),{protocol:u,hostname:f}=new URL(l);if(h.startsWith("chrome-extension://")){const S=new URL(h);return""===S.hostname&&""===f?"chrome-extension:"===u&&h.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===u&&S.hostname===f}if(!Hv.test(u))return!1;if(El.test(h))return f===h;const m=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+m+"|"+m+")$","i").test(f)}const su=new Wr(3e4,6e4);function va(){const h=fn().___jsl;if(h?.H)for(const l of Object.keys(h.H))if(h.H[l].r=h.H[l].r||[],h.H[l].L=h.H[l].L||[],h.H[l].r=[...h.H[l].L],h.CP)for(let u=0;u<h.CP.length;u++)h.CP[u]=null}let fh=null;const hS=new Wr(5e3,15e3),Li="__/auth/iframe",ph="emulator/auth/iframe",ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vg(h){const l=h.config;K(l.authDomain,h,"auth-domain-config-required");const u=l.emulator?U(l,ph):`https://${h.config.authDomain}/${Li}`,f={apiKey:l.apiKey,appName:h.name,v:Ne.SDK_VERSION},m=fS.get(h.config.apiHost);m&&(f.eid=m);const y=h._getFrameworks();return y.length&&(f.fw=y.join(",")),`${u}?${(0,z.xO)(f).slice(1)}`}function gh(){return gh=(0,C.Z)(function*(h){const l=yield function zv(h){return fh=fh||function $v(h){return new Promise((l,u)=>{var f,m,y;function S(){va(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{va(),u(Mt(h,"network-request-failed"))},timeout:su.get()})}if(null!==(m=null===(f=fn().gapi)||void 0===f?void 0:f.iframes)&&void 0!==m&&m.Iframe)l(gapi.iframes.getContext());else{if(null===(y=fn().gapi)||void 0===y||!y.load){const O=uv("iframefcb");return fn()[O]=()=>{gapi.load?S():u(Mt(h,"network-request-failed"))},Fp(`${function $D(){return wc.gapiScript}()}?onload=${O}`).catch(W=>u(W))}S()}}).catch(l=>{throw fh=null,l})}(h),fh}(h),u=fn().gapi;return K(u,h,"internal-error"),l.open({where:document.body,url:vg(h),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ba,dontclear:!0},f=>new Promise(function(){var m=(0,C.Z)(function*(y,S){yield f.restyle({setHideOnLeave:!1});const O=Mt(h,"network-request-failed"),W=fn().setTimeout(()=>{S(O)},hS.get());function ce(){fn().clearTimeout(W),y(f)}f.ping(ce).then(ce,()=>{S(O)})});return function(y,S){return m.apply(this,arguments)}}()))}),gh.apply(this,arguments)}const Gv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qv=500,Kv=600,Zv="_blank",mh="http://localhost";class Dl{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bg="__/auth/handler",Sl="emulator/auth/handler",Yv=encodeURIComponent("fac");function au(h,l,u,f,m,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,C.Z)(function*(h,l,u,f,m,y){K(h.config.authDomain,h,"auth-domain-config-required"),K(h.config.apiKey,h,"invalid-api-key");const S={apiKey:h.config.apiKey,appName:h.name,authType:u,redirectUrl:f,v:Ne.SDK_VERSION,eventId:m};if(l instanceof be){l.setDefaultLanguage(h.languageCode),S.providerId=l.providerId||"",(0,z.xb)(l.getCustomParameters())||(S.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ge,me]of Object.entries(y||{}))S[ge]=me}if(l instanceof an){const ge=l.getScopes().filter(me=>""!==me);ge.length>0&&(S.scopes=ge.join(","))}h.tenantId&&(S.tid=h.tenantId);const O=S;for(const ge of Object.keys(O))void 0===O[ge]&&delete O[ge];const W=yield h._getAppCheckToken(),ce=W?`#${Yv}=${encodeURIComponent(W)}`:"";return`${function lu({config:h}){return h.emulator?U(h,Sl):`https://${h.authDomain}/${bg}`}(h)}?${(0,z.xO)(O).slice(1)}${ce}`})).apply(this,arguments)}const cu="webStorageSupport",Cg=class Qv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yr,this._completeRedirectFn=hh,this._overrideRedirectResult=bl}_openPopup(l,u,f,m){var y=this;return(0,C.Z)(function*(){var S;jt(null===(S=y.eventManagers[l._key()])||void 0===S?void 0:S.manager,"_initialize() not called before _openPopup()");const O=yield au(l,u,f,hn(),m);return function ou(h,l,u,f=qv,m=Kv){const y=Math.max((window.screen.availHeight-m)/2,0).toString(),S=Math.max((window.screen.availWidth-f)/2,0).toString();let O="";const W=Object.assign(Object.assign({},Gv),{width:f.toString(),height:m.toString(),top:y,left:S}),ce=(0,z.z$)().toLowerCase();u&&(O=Ad(ce)?Zv:u),sr(ce)&&(l=l||mh,W.scrollbars="yes");const ge=Object.entries(W).reduce((Lt,[li,yu])=>`${Lt}${li}=${yu},`,"");if(function wt(h=(0,z.z$)()){var l;return de(h)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(ce)&&"_self"!==O)return function yo(h,l){const u=document.createElement("a");u.href=h,u.target=l;const f=document.createEvent("MouseEvent");f.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(f)}(l||"",O),new Dl(null);const me=window.open(l||"",O,ge);K(me,h,"popup-blocked");try{me.focus()}catch{}return new Dl(me)}(l,O,dl())})()}_openRedirect(l,u,f,m){var y=this;return(0,C.Z)(function*(){return yield y._originValidation(l),function kv(h){fn().location.href=h}(yield au(l,u,f,hn(),m)),new Promise(()=>{})})()}_initialize(l){const u=l._key();if(this.eventManagers[u]){const{manager:m,promise:y}=this.eventManagers[u];return m?Promise.resolve(m):(jt(y,"If manager is not set, promise should be"),y)}const f=this.initAndGetManager(l);return this.eventManagers[u]={promise:f},f.catch(()=>{delete this.eventManagers[u]}),f}initAndGetManager(l){var u=this;return(0,C.Z)(function*(){const f=yield function Wv(h){return gh.apply(this,arguments)}(l),m=new Bv(l);return f.register("authEvent",y=>(K(y?.authEvent,l,"invalid-auth-event"),{status:m.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[l._key()]={manager:m},u.iframes[l._key()]=f,m})()}_isIframeWebStorageSupported(l,u){this.iframes[l._key()].send(cu,{type:cu},m=>{var y;const S=null===(y=m?.[0])||void 0===y?void 0:y[cu];void 0!==S&&u(!!S),Ct(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Ji(h){return Xr.apply(this,arguments)}(l)),this.originValidationPromises[u]}get _shouldInitProactively(){return Ot()||Ir()||de()}};class Ca{constructor(l){this.factorId=l}_process(l,u,f){switch(u.type){case"enroll":return this._finalizeEnroll(l,u.credential,f);case"signin":return this._finalizeSignIn(l,u.credential);default:return Qt("unexpected MultiFactorSessionType")}}}class bo extends Ca{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new bo(l)}_finalizeEnroll(l,u,f){return function ne(h,l){return j(h,"POST","/v2/accounts/mfaEnrollment:finalize",X(h,l))}(l,{idToken:u,displayName:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,u){return function Gc(h,l){return j(h,"POST","/v2/accounts/mfaSignIn:finalize",X(h,l))}(l,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xv=(()=>{class h{constructor(){}static assertion(u){return bo._fromCredential(u)}}return h.FACTOR_ID="phone",h})();var Eg="@firebase/auth";class Jv{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var u=this;return(0,C.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const u=this.auth.onIdTokenChanged(f=>{l(f?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,u),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const u=this.internalListeners.get(l);u&&(this.internalListeners.delete(l),u(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Co(){return window}(0,z.Pz)("authIdTokenMaxAge"),function cv(h){wc=h}({loadJS:h=>new Promise((l,u)=>{const f=document.createElement("script");f.setAttribute("src",h),f.onload=l,f.onerror=m=>{const y=Mt("internal-error");y.customData=m,u(y)},f.type="text/javascript",f.charset="UTF-8",function nb(){var h,l;return null!==(l=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==l?l:document}().appendChild(f)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Sg(h){(0,Ne._registerComponent)(new tn.wA("auth",(l,{options:u})=>{const f=l.getProvider("app").getImmediate(),m=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:S,authDomain:O}=f.options;K(S&&!S.includes(":"),"invalid-api-key",{appName:f.name});const W={apiKey:S,authDomain:O,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ja(h)},ce=new HD(f,m,y,W);return function Md(h,l){const u=l?.persistence||[],f=(Array.isArray(u)?u:[u]).map(Ye);l?.errorMap&&h._updateErrorMap(l.errorMap),h._initializeWithPersistence(f,l?.popupRedirectResolver)}(ce,u),ce},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,u,f)=>{l.getProvider("auth-internal").initialize()})),(0,Ne._registerComponent)(new tn.wA("auth-internal",l=>{const u=$t(l.getProvider("auth").getImmediate());return new Jv(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)(Eg,"1.6.0",function du(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,Ne.registerVersion)(Eg,"1.6.0","esm2017")}("Browser");const yh=2e3;function Ag(){return Ag=(0,C.Z)(function*(h,l,u){var f;const{BuildInfo:m}=Co();jt(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function ib(h){return hu.apply(this,arguments)}(l.sessionId),S={};return de()?S.ibi=m.packageName:w()?S.apn=m.packageName:Ct(h,"operation-not-supported-in-this-environment"),m.displayName&&(S.appDisplayName=m.displayName),S.sessionId=y,au(h,u,l.type,void 0,null!==(f=l.eventId)&&void 0!==f?f:void 0,S)}),Ag.apply(this,arguments)}function Mg(){return(Mg=(0,C.Z)(function*(h){const{BuildInfo:l}=Co(),u={};de()?u.iosBundleId=l.packageName:w()?u.androidPackageName=l.packageName:Ct(h,"operation-not-supported-in-this-environment"),yield pn(h,u)})).apply(this,arguments)}function Pg(){return(Pg=(0,C.Z)(function*(h,l,u){const{cordova:f}=Co();let m=()=>{};try{yield new Promise((y,S)=>{let O=null;function W(){var me;y();const Lt=null===(me=f.plugins.browsertab)||void 0===me?void 0:me.close;"function"==typeof Lt&&Lt(),"function"==typeof u?.close&&u.close()}function ce(){O||(O=window.setTimeout(()=>{S(Mt(h,"redirect-cancelled-by-user"))},yh))}function ge(){"visible"===document?.visibilityState&&ce()}l.addPassiveListener(W),document.addEventListener("resume",ce,!1),w()&&document.addEventListener("visibilitychange",ge,!1),m=()=>{l.removePassiveListener(W),document.removeEventListener("resume",ce,!1),document.removeEventListener("visibilitychange",ge,!1),O&&window.clearTimeout(O)}})}finally{m()}})).apply(this,arguments)}function hu(){return(hu=(0,C.Z)(function*(h){const l=function bh(h){if(jt(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const l=new ArrayBuffer(h.length),u=new Uint8Array(l);for(let f=0;f<h.length;f++)u[f]=h.charCodeAt(f);return u}(h),u=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(u)).map(m=>m.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const kg=20;class Rg extends Bv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(l)),super.onEvent(l)}initialized(){var l=this;return(0,C.Z)(function*(){yield l.initPromise})()}}function xg(h){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,C.Z)(function*(h){const l=yield Il()._get(wh(h));return l&&(yield Il()._remove(wh(h))),l})).apply(this,arguments)}function Ng(){const h=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let u=0;u<kg;u++){const f=Math.floor(Math.random()*l.length);h.push(l.charAt(f))}return h.join("")}function Il(){return Ye(Pn)}function wh(h){return In("authEvent",h.config.apiKey,h.name)}function Tl(h){if(!h?.includes("?"))return{};const[l,...u]=h.split("?");return(0,z.zd)(u.join("?"))}const bi=class lb{constructor(){this._redirectPersistence=Yr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hh,this._overrideRedirectResult=bl}_initialize(l){var u=this;return(0,C.Z)(function*(){const f=l._key();let m=u.eventManagers.get(f);return m||(m=new Rg(l),u.eventManagers.set(f,m),u.attachCallbackListeners(l,m)),m})()}_openPopup(l){Ct(l,"operation-not-supported-in-this-environment")}_openRedirect(l,u,f,m){var y=this;return(0,C.Z)(function*(){!function _S(h){var l,u,f,m,y,S,O,W,ce,ge;const me=Co();K("function"==typeof(null===(l=me?.universalLinks)||void 0===l?void 0:l.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof(null===(u=me?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(y=null===(m=null===(f=me?.cordova)||void 0===f?void 0:f.plugins)||void 0===m?void 0:m.browsertab)||void 0===y?void 0:y.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(W=null===(O=null===(S=me?.cordova)||void 0===S?void 0:S.plugins)||void 0===O?void 0:O.browsertab)||void 0===W?void 0:W.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(ge=null===(ce=me?.cordova)||void 0===ce?void 0:ce.InAppBrowser)||void 0===ge?void 0:ge.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const S=yield y._initialize(l);yield S.initialized(),S.resetRedirect(),function kn(){cr.clear()}(),yield y._originValidation(l);const O=function Og(h,l,u=null){return{type:l,eventId:u,urlResponse:null,sessionId:Ng(),postBody:null,tenantId:h.tenantId,error:Mt(h,"no-auth-event")}}(l,f,m);yield function vi(h,l){return Il()._set(wh(h),l)}(l,O);const W=yield function pS(h,l,u){return Ag.apply(this,arguments)}(l,O,u),ce=yield function gS(h){const{cordova:l}=Co();return new Promise(u=>{l.plugins.browsertab.isAvailable(f=>{let m=null;f?l.plugins.browsertab.openUrl(h):m=l.InAppBrowser.open(h,function lt(h=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),u(m)})})}(W);return function mS(h,l,u){return Pg.apply(this,arguments)}(l,S,ce)})()}_isIframeWebStorageSupported(l,u){throw new Error("Method not implemented.")}_originValidation(l){const u=l._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function vh(h){return Mg.apply(this,arguments)}(l)),this.originValidationPromises[u]}attachCallbackListeners(l,u){const{universalLinks:f,handleOpenURL:m,BuildInfo:y}=Co(),S=setTimeout((0,C.Z)(function*(){yield xg(l),u.onEvent(fu())}),500),O=function(){var ge=(0,C.Z)(function*(me){clearTimeout(S);const Lt=yield xg(l);let li=null;Lt&&me?.url&&(li=function rb(h,l){var u,f;const m=function ob(h){const l=Tl(h),u=l.link?decodeURIComponent(l.link):void 0,f=Tl(u).link,m=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Tl(m).link||m||f||u||h}(l);if(m.includes("/__/auth/callback")){const y=Tl(m),S=y.firebaseError?function sb(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,O=null===(f=null===(u=S?.code)||void 0===u?void 0:u.split("auth/"))||void 0===f?void 0:f[1],W=O?Mt(O):null;return W?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:W,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:m,postBody:null}}return null}(Lt,me.url)),u.onEvent(li||fu())});return function(Lt){return ge.apply(this,arguments)}}();typeof f<"u"&&"function"==typeof f.subscribe&&f.subscribe(null,O);const W=m,ce=`${y.packageName.toLowerCase()}://`;Co().handleOpenURL=function(){var ge=(0,C.Z)(function*(me){if(me.toLowerCase().startsWith(ce)&&O({url:me}),"function"==typeof W)try{W(me)}catch(Lt){console.error(Lt)}});return function(me){return ge.apply(this,arguments)}}()}};function fu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mt("no-auth-event")}}const Al=1e3;function wa(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function Vg(h=(0,z.z$)()){return!("file:"!==wa()&&"ionic:"!==wa()&&"capacitor:"!==wa()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dh(){try{const h=self.localStorage,l=dl();if(h)return h.setItem(l,"1"),h.removeItem(l),!function ub(h=(0,z.z$)()){return function cb(){return(0,z.w1)()&&11===document?.documentMode}()||function Bg(h=(0,z.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,z.hl)()}catch{return Sh()&&(0,z.hl)()}return!1}function Sh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ih(){return(function Lg(){return"http:"===wa()||"https:"===wa()}()||(0,z.ru)()||Vg())&&!function Ug(){return(0,z.b$)()||(0,z.UG)()}()&&Dh()&&!Sh()}function pu(){return Vg()&&typeof document<"u"}function Ah(){return(Ah=(0,C.Z)(function*(){return!!pu()&&new Promise(h=>{const l=setTimeout(()=>{h(!1)},Al);document.addEventListener("deviceready",()=>{clearTimeout(l),h(!0)})})})).apply(this,arguments)}const Vi={LOCAL:"local",NONE:"none",SESSION:"session"},Pl=K,gu="persistence";function mu(h){return Is.apply(this,arguments)}function Is(){return(Is=(0,C.Z)(function*(h){yield h._initializationPromise;const l=kh(),u=In(gu,h.config.apiKey,h.name);l&&l.setItem(u,h._getPersistence())})).apply(this,arguments)}function kh(){var h;try{return(null===(h=function Ml(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const db=K;class Pr{constructor(){this.browserResolver=Ye(Cg),this.cordovaResolver=Ye(bi),this.underlyingResolver=null,this._redirectPersistence=Yr,this._completeRedirectFn=hh,this._overrideRedirectResult=bl}_initialize(l){var u=this;return(0,C.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,u,f,m){var y=this;return(0,C.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,u,f,m)})()}_openRedirect(l,u,f,m){var y=this;return(0,C.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,u,f,m)})()}_isIframeWebStorageSupported(l,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,u)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return pu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return db(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,C.Z)(function*(){if(l.underlyingResolver)return;const u=yield function Th(){return Ah.apply(this,arguments)}();l.underlyingResolver=u?l.cordovaResolver:l.browserResolver})()}}function jg(h){return h.unwrap()}function fb(h){return Hg(h)}function Hg(h){const{_tokenResponse:l}=h instanceof z.ZR?h.customData:h;if(!l)return null;if(!(h instanceof z.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return pa.credentialFromResult(h);const u=l.providerId;if(!u||u===nt.PASSWORD)return null;let f;switch(u){case nt.GOOGLE:f=oi;break;case nt.FACEBOOK:f=zn;break;case nt.GITHUB:f=io;break;case nt.TWITTER:f=Ar;break;default:const{oauthIdToken:m,oauthAccessToken:y,oauthTokenSecret:S,pendingToken:O,nonce:W}=l;return y||S||m||O?O?u.startsWith("saml.")?ro._create(u,O):Tn._fromParams({providerId:u,signInMethod:u,pendingToken:O,idToken:m,accessToken:y}):new ft(u).credential({idToken:m,accessToken:y,rawNonce:W}):null}return h instanceof z.ZR?f.credentialFromError(h):f.credentialFromResult(h)}function Ci(h,l){return l.catch(u=>{throw u instanceof z.ZR&&function pb(h,l){var u;const f=null===(u=l.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new $g(h,function Tv(h,l){var u;const f=(0,z.m9)(h),m=l;return K(l.customData.operationType,f,"argument-error"),K(null===(u=m.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,f,"argument-error"),jc._fromError(f,m)}(h,l));else if(f){const m=Hg(l),y=l;m&&(y.credential=m,y.tenantId=f.tenantId||void 0,y.email=f.email||void 0,y.phoneNumber=f.phoneNumber||void 0)}}(h,u),u}).then(u=>{const m=u.user;return{operationType:u.operationType,credential:fb(u),additionalUserInfo:ng(u),user:ur.getOrCreate(m)}})}function _u(h,l){return kl.apply(this,arguments)}function kl(){return(kl=(0,C.Z)(function*(h,l){const u=yield l;return{verificationId:u.verificationId,confirm:f=>Ci(h,u.confirm(f))}})).apply(this,arguments)}class $g{constructor(l,u){this.resolver=u,this.auth=function hb(h){return h.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ci(jg(this.auth),this.resolver.resolveSignIn(l))}}class ur{constructor(l){this._delegate=l,this.multiFactor=function ul(h){const l=(0,z.m9)(h);return Hc.has(l)||Hc.set(l,bn._fromUser(l)),Hc.get(l)}(l)}static getOrCreate(l){return ur.USER_MAP.has(l)||ur.USER_MAP.set(l,new ur(l)),ur.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var u=this;return(0,C.Z)(function*(){return Ci(u.auth,Pt(u._delegate,l))})()}linkWithPhoneNumber(l,u){var f=this;return(0,C.Z)(function*(){return _u(f.auth,function lg(h,l,u){return Yc.apply(this,arguments)}(f._delegate,l,u))})()}linkWithPopup(l){var u=this;return(0,C.Z)(function*(){return Ci(u.auth,function dg(h,l,u){return tu.apply(this,arguments)}(u._delegate,l,Pr))})()}linkWithRedirect(l){var u=this;return(0,C.Z)(function*(){return yield mu($t(u.auth)),_a(u._delegate,l,Pr)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var u=this;return(0,C.Z)(function*(){return Ci(u.auth,Oc(u._delegate,l))})()}reauthenticateWithPhoneNumber(l,u){return _u(this.auth,function Qc(h,l,u){return nh.apply(this,arguments)}(this._delegate,l,u))}reauthenticateWithPopup(l){return Ci(this.auth,function ug(h,l,u){return eu.apply(this,arguments)}(this._delegate,l,Pr))}reauthenticateWithRedirect(l){var u=this;return(0,C.Z)(function*(){return yield mu($t(u.auth)),ma(u._delegate,l,Pr)})()}sendEmailVerification(l){return function ho(h,l){return Bd.apply(this,arguments)}(this._delegate,l)}unlink(l){var u=this;return(0,C.Z)(function*(){return yield function kc(h,l){return He.apply(this,arguments)}(u._delegate,l),u})()}updateEmail(l){return function Cv(h,l){return eg((0,z.m9)(h),l,null)}(this._delegate,l)}updatePassword(l){return function Hd(h,l){return eg((0,z.m9)(h),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Xc(h,l){return cg.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Jp(h,l){return Uc.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,u){return function _i(h,l,u){return Vc.apply(this,arguments)}(this._delegate,l,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;const Rl=K;let zg=(()=>{class h{constructor(u,f){if(this.app=u,f.isInitialized())return this._delegate=f.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:m}=u.options;Rl(m,"invalid-api-key",{appName:u.name}),Rl(m,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?Pr:void 0;this._delegate=f.initialize({options:{persistence:Wg(m,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(Vn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,f){!function Pd(h,l,u){const f=$t(h);K(f._canInitEmulator,f,"emulator-config-failed"),K(/^https?:\/\//.test(l),f,"invalid-emulator-scheme");const m=!!u?.disableWarnings,y=Lp(l),{host:S,port:O}=function Re(h){const l=Lp(h),u=/(\/\/)?([^?#/]+)/.exec(h.substr(l.length));if(!u)return{host:"",port:null};const f=u[2].split("@").pop()||"",m=/^(\[[^\]]+\])(:|$)/.exec(f);if(m){const y=m[1];return{host:y,port:Ic(f.substr(y.length+1))}}{const[y,S]=f.split(":");return{host:y,port:Ic(S)}}}(l);f.config.emulator={url:`${y}//${S}${null===O?"":`:${O}`}/`},f.settings.appVerificationDisabledForTesting=!0,f.emulatorConfig=Object.freeze({host:S,port:O,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:m})}),m||function fv(){function h(){const l=document.createElement("p"),u=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,u,f)}applyActionCode(u){return function yv(h,l){return Wp.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return vv(this._delegate,u)}confirmPasswordReset(u,f){return function qD(h,l,u){return Ud.apply(this,arguments)}(this._delegate,u,f)}createUserWithEmailAndPassword(u,f){var m=this;return(0,C.Z)(function*(){return Ci(m._delegate,function ZD(h,l,u){return Kp.apply(this,arguments)}(m._delegate,u,f))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function eS(h,l){return Xp.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function XD(h,l){return"EMAIL_SIGNIN"===tt.parseLink(l)?.operation}(0,u)}getRedirectResult(){var u=this;return(0,C.Z)(function*(){Rl(Ih(),u._delegate,"operation-not-supported-in-this-environment");const f=yield function oe(h,l){return gg.apply(this,arguments)}(u._delegate,Pr);return f?Ci(u._delegate,Promise.resolve(f)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function Fg(h,l){$t(h)._logFramework(l)}(this._delegate,u)}onAuthStateChanged(u,f,m){const{next:y,error:S,complete:O}=Rh(u,f,m);return this._delegate.onAuthStateChanged(y,S,O)}onIdTokenChanged(u,f,m){const{next:y,error:S,complete:O}=Rh(u,f,m);return this._delegate.onIdTokenChanged(y,S,O)}sendSignInLinkToEmail(u,f){return function QD(h,l,u){return Zp.apply(this,arguments)}(this._delegate,u,f)}sendPasswordResetEmail(u,f){return function lr(h,l,u){return Vd.apply(this,arguments)}(this._delegate,u,f||void 0)}setPersistence(u){var f=this;return(0,C.Z)(function*(){let m;switch(function Mh(h,l){Pl(Object.values(Vi).includes(l),h,"invalid-persistence-type"),(0,z.b$)()?Pl(l!==Vi.SESSION,h,"unsupported-persistence-type"):(0,z.UG)()?Pl(l===Vi.NONE,h,"unsupported-persistence-type"):Sh()?Pl(l===Vi.NONE||l===Vi.LOCAL&&(0,z.hl)(),h,"unsupported-persistence-type"):Pl(l===Vi.NONE||Dh(),h,"unsupported-persistence-type")}(f._delegate,u),u){case Vi.SESSION:m=Yr;break;case Vi.LOCAL:m=(yield Ye(ha)._isAvailable())?ha:Pn;break;case Vi.NONE:m=Ht;break;default:return Ct("argument-error",{appName:f._delegate.name})}return f._delegate.setPersistence(m)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return Ci(this._delegate,function oo(h){return An.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return Ci(this._delegate,bs(this._delegate,u))}signInWithCustomToken(u){return Ci(this._delegate,function oa(h,l){return Gn.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,f){return Ci(this._delegate,function YD(h,l,u){return bs((0,z.m9)(h),Pc.credential(l,u)).catch(function(){var f=(0,C.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&uo(h),m});return function(m){return f.apply(this,arguments)}}())}(this._delegate,u,f))}signInWithEmailLink(u,f){return Ci(this._delegate,function JD(h,l,u){return Lc.apply(this,arguments)}(this._delegate,u,f))}signInWithPhoneNumber(u,f){return _u(this._delegate,function ag(h,l,u){return mo.apply(this,arguments)}(this._delegate,u,f))}signInWithPopup(u){var f=this;return(0,C.Z)(function*(){return Rl(Ih(),f._delegate,"operation-not-supported-in-this-environment"),Ci(f._delegate,function oh(h,l,u){return ah.apply(this,arguments)}(f._delegate,u,Pr))})()}signInWithRedirect(u){var f=this;return(0,C.Z)(function*(){return Rl(Ih(),f._delegate,"operation-not-supported-in-this-environment"),yield mu(f._delegate),ru(f._delegate,u,Pr)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function KD(h,l){return qp.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Vi,h})();function Rh(h,l,u){let f=h;"function"!=typeof h&&({next:f,error:l,complete:u}=h);const m=f;return{next:S=>m(S&&ur.getOrCreate(S)),error:l,complete:u}}function Wg(h,l){const u=function Ph(h,l){const u=kh();if(!u)return[];const f=In(gu,h,l);switch(u.getItem(f)){case Vi.NONE:return[Ht];case Vi.LOCAL:return[ha,Yr];case Vi.SESSION:return[Yr];default:return[]}}(h,l);if(typeof self<"u"&&!u.includes(ha)&&u.push(ha),typeof window<"u")for(const f of[Pn,Yr])u.includes(f)||u.push(f);return u.includes(Ht)||u.push(Ht),u}class Jr{constructor(){this.providerId="phone",this._delegate=new pa(jg(Me.Z.auth()))}static credential(l,u){return pa.credential(l,u)}verifyPhoneNumber(l,u){return this._delegate.verifyPhoneNumber(l,u)}unwrap(){return this._delegate}}Jr.PHONE_SIGN_IN_METHOD=pa.PHONE_SIGN_IN_METHOD,Jr.PROVIDER_ID=pa.PROVIDER_ID;const Gg=K;class qg{constructor(l,u,f=Me.Z.app()){var m;Gg(null===(m=f.options)||void 0===m?void 0:m.apiKey,"invalid-api-key",{appName:f.name}),this._delegate=new lS(f.auth(),l,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yS(h){h.INTERNAL.registerComponent(new tn.wA("auth-compat",l=>{const u=l.getProvider("app-compat").getImmediate(),f=l.getProvider("auth");return new zg(u,f)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ve_EMAIL_SIGNIN,PASSWORD_RESET:ve_PASSWORD_RESET,RECOVER_EMAIL:ve_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ve_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ve_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ve_VERIFY_EMAIL}},EmailAuthProvider:Pc,FacebookAuthProvider:zn,GithubAuthProvider:io,GoogleAuthProvider:oi,OAuthProvider:ft,SAMLAuthProvider:so,PhoneAuthProvider:Jr,PhoneMultiFactorGenerator:Xv,RecaptchaVerifier:qg,TwitterAuthProvider:Ar,Auth:zg,AuthCredential:Hn,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.2")}(Me.Z)},861:(zr,Ln,Ue)=>{function C(z,Ne,at,Ut,tn,Dn,nt){try{var Q=z[Dn](nt),se=Q.value}catch(ve){return void at(ve)}Q.done?Ne(se):Promise.resolve(se).then(Ut,tn)}function Me(z){return function(){var Ne=this,at=arguments;return new Promise(function(Ut,tn){var Dn=z.apply(Ne,at);function nt(se){C(Dn,Ut,tn,nt,Q,"next",se)}function Q(se){C(Dn,Ut,tn,nt,Q,"throw",se)}nt(void 0)})}}Ue.d(Ln,{Z:()=>Me})},582:(zr,Ln,Ue)=>{function Ne(U,H){var V={};for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&H.indexOf(q)<0&&(V[q]=U[q]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(q=Object.getOwnPropertySymbols(U);X<q.length;X++)H.indexOf(q[X])<0&&Object.prototype.propertyIsEnumerable.call(U,q[X])&&(V[q[X]]=U[q[X]])}return V}function ve(U,H,V,q){return new(V||(V=Promise))(function(j,ue){function ht(gt){try{Ee(q.next(gt))}catch(Xt){ue(Xt)}}function he(gt){try{Ee(q.throw(gt))}catch(Xt){ue(Xt)}}function Ee(gt){gt.done?j(gt.value):function X(j){return j instanceof V?j:new V(function(ue){ue(j)})}(gt.value).then(ht,he)}Ee((q=q.apply(U,H||[])).next())})}function Bt(U){return this instanceof Bt?(this.v=U,this):new Bt(U)}function Ct(U,H,V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,q=V.apply(U,H||[]),j=[];return X={},ue("next"),ue("throw"),ue("return"),X[Symbol.asyncIterator]=function(){return this},X;function ue(kt){q[kt]&&(X[kt]=function(jn){return new Promise(function(_n,ii){j.push([kt,jn,_n,ii])>1||ht(kt,jn)})})}function ht(kt,jn){try{!function he(kt){kt.value instanceof Bt?Promise.resolve(kt.value.v).then(Ee,gt):Xt(j[0][2],kt)}(q[kt](jn))}catch(_n){Xt(j[0][3],_n)}}function Ee(kt){ht("next",kt)}function gt(kt){ht("throw",kt)}function Xt(kt,jn){kt(jn),j.shift(),j.length&&ht(j[0][0],j[0][1])}}function pi(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,H=U[Symbol.asyncIterator];return H?H.call(U):(U=function bt(U){var H="function"==typeof Symbol&&Symbol.iterator,V=H&&U[H],q=0;if(V)return V.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&q>=U.length&&(U=void 0),{value:U&&U[q++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),V={},q("next"),q("throw"),q("return"),V[Symbol.asyncIterator]=function(){return this},V);function q(j){V[j]=U[j]&&function(ue){return new Promise(function(ht,he){!function X(j,ue,ht,he){Promise.resolve(he).then(function(Ee){j({value:Ee,done:ht})},ue)}(ht,he,(ue=U[j](ue)).done,ue.value)})}}}Ue.d(Ln,{FC:()=>Ct,KL:()=>pi,_T:()=>Ne,mG:()=>ve,qq:()=>Bt}),"function"==typeof SuppressedError&&SuppressedError}},zr=>{zr(zr.s=375)}]);